"use strict";(self.webpackChunkintelehealth_ui=self.webpackChunkintelehealth_ui||[]).push([[190],{6190:(ls,bt,D)=>{D.r(bt),D.d(bt,{CalendarModule:()=>os});var g=D(6895),ue=D(4476),e=D(4650),z=D(8929),se=D(6498),In=D(1086),Yn=D(8723),Hn=D(591),St=D(353),Pn=D(4241);function Nn(n){const{subscriber:i,counter:t,period:a}=n;i.next(t),this.schedule({subscriber:i,counter:t+1,period:a},a)}var X=D(7625),Re=D(7545),xt=D(1059),W=D(4850),Fn=function(){function n(){}return n.prototype.getAllStyles=function(i){return window.getComputedStyle(i)},n.prototype.getStyle=function(i,t){return this.getAllStyles(i)[t]},n.prototype.isStaticPositioned=function(i){return"static"===(this.getStyle(i,"position")||"static")},n.prototype.offsetParent=function(i){for(var t=i.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(i,t){void 0===t&&(t=!0);var a,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(i,"position"))a={top:(a=i.getBoundingClientRect()).top,bottom:a.bottom,left:a.left,right:a.right,height:a.height,width:a.width};else{var o=this.offsetParent(i);a=this.offset(i,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return a.top-=r.top,a.bottom-=r.top,a.left-=r.left,a.right-=r.left,t&&(a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a},n.prototype.offset=function(i,t){void 0===t&&(t=!0);var a=i.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,o={height:a.height||i.offsetHeight,width:a.width||i.offsetWidth,top:a.top+r_top,bottom:a.bottom+r_top,left:a.left+r_left,right:a.right+r_left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},n.prototype.positionElements=function(i,t,a,r){var o=a.split("-"),s=o[0],l=void 0===s?"top":s,d=o[1],c=void 0===d?"center":d,m=r?this.offset(i,!1):this.position(i,!1),p=this.getAllStyles(t),w=parseFloat(p.marginTop),h=parseFloat(p.marginBottom),y=parseFloat(p.marginLeft),k=parseFloat(p.marginRight),C=0,M=0;switch(l){case"top":C=m.top-(t.offsetHeight+w+h);break;case"bottom":C=m.top+m.height;break;case"left":M=m.left-(t.offsetWidth+y+k);break;case"right":M=m.left+m.width}switch(c){case"top":C=m.top;break;case"bottom":C=m.top+m.height-t.offsetHeight;break;case"left":M=m.left;break;case"right":M=m.left+m.width-t.offsetWidth;break;case"center":"top"===l||"bottom"===l?M=m.left+m.width/2-t.offsetWidth/2:C=m.top+m.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(M)+"px, "+Math.round(C)+"px)";var x=t.getBoundingClientRect(),T=document.documentElement,O=window.innerHeight||T.clientHeight,I=window.innerWidth||T.clientWidth;return x.left>=0&&x.top>=0&&x.right<=I&&x.bottom<=O},n}(),Wn=/\s+/,Ot=new Fn,q=function(){return q=Object.assign||function(n){for(var i,t=1,a=arguments.length;t<a;t++)for(var r in i=arguments[t])Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r]);return n},q.apply(this,arguments)},Et=function(){for(var n=0,i=0,t=arguments.length;i<t;i++)n+=arguments[i].length;var a=Array(n),r=0;for(i=0;i<t;i++)for(var o=arguments[i],s=0,l=o.length;s<l;s++,r++)a[r]=o[s];return a},me=(()=>{return(n=me||(me={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",me;var n})(),zn=[me.SUNDAY,me.SATURDAY],ee=86400;function At(n,i){var t=i.startDate,r=i.excluded,o=i.precision;if(r.length<1)return 0;for(var l=n.getDay,d=n.addDays,c=(0,n.addSeconds)(t,i.seconds-1),m=l(t),p=l(c),w=0,h=t,y=function(){var k=l(h);r.some(function(C){return C===k})&&(w+=function Vn(n,i){var a=i.day,o=i.dayEnd,s=i.startDate,l=i.endDate,d=n.differenceInSeconds,m=n.startOfDay;if("minutes"===i.precision){if(a===i.dayStart)return d((0,n.endOfDay)(s),s)+1;if(a===o)return d(l,m(l))+1}return ee}(n,{dayStart:m,dayEnd:p,day:k,precision:o,startDate:t,endDate:c})),h=d(h,1)};h<c;)y();return w}function pe(n,i){var a=i.periodStart,r=i.periodEnd;return i.events.filter(function(o){return function qn(n,i){var t=i.event,a=i.periodStart,r=i.periodEnd,o=n.isSameSecond,s=t.start,l=t.end||t.start;return!!(s>a&&s<r||l>a&&l<r||s<a&&l>r||o(s,a)||o(s,r)||o(l,a)||o(l,r))}(n,{event:o,periodStart:a,periodEnd:r})})}function It(n,i){var t=i.date,a=i.weekendDays,r=void 0===a?zn:a,s=n.isSameDay,l=n.getDay,d=(0,n.startOfDay)(new Date),c=l(t);return{date:t,day:c,isPast:t<d,isToday:s(t,d),isFuture:t>d,isWeekend:r.indexOf(c)>-1}}function $e(n,i){for(var r=i.excluded,o=void 0===r?[]:r,s=i.weekendDays,l=i.viewStart,d=void 0===l?n.startOfWeek(i.viewDate,{weekStartsOn:i.weekStartsOn}):l,c=i.viewEnd,m=void 0===c?n.addDays(d,7):c,p=n.addDays,w=n.getDay,h=[],y=d;y<m;)o.some(function(k){return w(y)===k})||h.push(It(n,{date:y,weekendDays:s})),y=p(y,1);return h}function Jn(n,i){var t=i.events,a=void 0===t?[]:t,r=i.excluded,o=void 0===r?[]:r,s=i.precision,l=void 0===s?"days":s,d=i.absolutePositionedEvents,c=void 0!==d&&d,m=i.viewStart,p=i.viewEnd;m=n.startOfDay(m),p=n.endOfDay(p);var w=n.differenceInSeconds,h=n.differenceInDays,y=function $n(n,i){for(var a=i.date2,r=i.excluded,o=i.date1,s=0;o<a;)-1===r.indexOf(n.getDay(o))&&s++,o=n.addDays(o,1);return s}(n,{date1:m,date2:p,excluded:o}),k=h(p,m)+1,C=a.filter(function(T){return T.allDay}).map(function(T){var O=function Un(n,i){var t=i.event,a=i.startOfWeek,r=i.excluded,o=i.precision,s=n.differenceInDays,l=n.startOfDay,d=n.differenceInSeconds;if(t.start<a)return 0;var c=0;switch(o){case"days":c=s(l(t.start),a)*ee;break;case"minutes":c=d(t.start,a)}return c-=At(n,{startDate:a,seconds:c,excluded:r,precision:o}),Math.abs(c/ee)}(n,{event:T,startOfWeek:m,excluded:o,precision:l}),I=function Rn(n,i){var t=i.event,a=i.offset,o=i.excluded,s=i.precision,l=i.totalDaysInView,c=n.differenceInSeconds,m=n.addDays,p=n.endOfDay,w=n.differenceInDays,h=ee,y=(0,n.max)([t.start,i.startOfWeekDate]);t.end&&(h="minutes"===s?c(t.end,y):w(m(p(t.end),1),y)*ee);var k=a*ee,M=l*ee;return k+h>M&&(h=M-k),(h-=At(n,{startDate:y,seconds:h,excluded:o,precision:s}))/ee}(n,{event:T,offset:O,startOfWeekDate:m,excluded:o,precision:l,totalDaysInView:k});return{event:T,offset:O,span:I}}).filter(function(T){return T.offset<y}).filter(function(T){return T.span>0}).map(function(T){return{event:T.event,offset:T.offset,span:T.span,startsBeforeWeek:T.event.start<m,endsAfterWeek:(T.event.end||T.event.start)>p}}).sort(function(T,O){var I=w(T.event.start,O.event.start);return 0===I?w(O.event.end||O.event.start,T.event.end||T.event.start):I}),M=[],x=[];return C.forEach(function(T,O){if(-1===x.indexOf(T)){x.push(T);var I=T.span+T.offset,L=C.slice(O+1).filter(function(E){if(E.offset>=I&&I+E.span<=k&&-1===x.indexOf(E)){var S=E.offset-I;return c||(E.offset=S),I+=E.span+S,x.push(E),!0}}),Z=Et([T],L),Y=Z.filter(function(E){return E.event.id}).map(function(E){return E.event.id}).join("-");M.push(q({row:Z},Y?{id:Y}:{}))}}),M}function Gn(n,i){var t=i.events,a=i.viewDate,r=i.hourSegments,o=i.hourDuration,s=i.dayStart,l=i.dayEnd,d=i.weekStartsOn,c=i.excluded,m=i.weekendDays,p=i.segmentHeight,w=i.viewStart,h=i.viewEnd,y=i.minimumEventHeight,k=function Xn(n,i){var t=i.viewDate,a=i.hourSegments,r=i.hourDuration,o=i.dayStart,s=i.dayEnd,l=n.setMinutes,d=n.setHours,c=n.startOfDay,m=n.startOfMinute,p=n.endOfDay,w=n.addMinutes,y=n.addDays,k=[],C=l(d(c(t),be(o.hour)),Se(o.minute)),M=l(d(m(p(t)),be(s.hour)),Se(s.minute)),x=(r||60)/a,T=c(t),O=p(t),I=function(_){return _};n.getTimezoneOffset(T)!==n.getTimezoneOffset(O)&&(T=y(T,1),C=y(C,1),M=y(M,1),I=function(_){return y(_,-1)});for(var L=r?1440/r:60,Z=0;Z<L;Z++){for(var Y=[],E=0;E<a;E++){var S=w(w(C,Z*(r||60)),E*x);S>=C&&S<M&&Y.push({date:I(S),displayDate:S,isStart:0===E})}Y.length>0&&k.push({segments:Y})}return k}(n,{viewDate:a,hourSegments:r,hourDuration:o,dayStart:s,dayEnd:l}),C=$e(n,{viewDate:a,weekStartsOn:d,excluded:c,weekendDays:m,viewStart:w,viewEnd:h}),M=n.setHours,x=n.setMinutes,T=n.getHours,O=n.getMinutes;return C.map(function(I){var L=function Kn(n,i){var t=i.events,a=i.viewDate,r=i.hourSegments,o=i.dayStart,s=i.dayEnd,l=i.eventWidth,d=i.segmentHeight,c=i.hourDuration,m=i.minimumEventHeight,p=n.setMinutes,w=n.setHours,h=n.startOfDay,y=n.startOfMinute,k=n.endOfDay,C=n.differenceInMinutes,M=p(w(h(a),be(o.hour)),Se(o.minute)),x=p(w(y(k(a)),be(s.hour)),Se(s.minute));x.setSeconds(59,999);var T=[],O=pe(n,{events:t.filter(function(Y){return!Y.allDay}),periodStart:M,periodEnd:x}),I=O.sort(function(Y,E){return Y.start.valueOf()-E.start.valueOf()}).map(function(Y){var E=Y.start,S=Y.end||E,_=E<M,f=S>x,P=r*d/(c||60),H=0;if(E>M){var ze=n.getTimezoneOffset(E),Dt=n.getTimezoneOffset(M)-ze;H+=C(E,M)+Dt}H*=P,H=Math.floor(H);var Te=_?M:E,Tt=f?x:S,B=n.getTimezoneOffset(Te)-n.getTimezoneOffset(Tt),R=C(Tt,Te)+B;Y.end?R*=P:R=d,m&&R<m&&(R=m),R=Math.floor(R);for(var Mt=ke(T,H,H+R),kt=0;Mt.some(function(ss){return ss.left===kt});)kt+=l;var An={event:Y,height:R,width:l,top:H,left:kt,startsBeforeDay:_,endsAfterDay:f};return T.push(An),An}),L=Math.max.apply(Math,I.map(function(Y){return Y.left+Y.width})),Z=pe(n,{events:t.filter(function(Y){return Y.allDay}),periodStart:h(M),periodEnd:k(x)});return{events:I,width:L,allDayEvents:Z,period:{events:O,start:M,end:x}}}(n,{events:t,viewDate:I.date,hourSegments:r,dayStart:s,dayEnd:l,segmentHeight:p,eventWidth:1,hourDuration:o,minimumEventHeight:y}),Z=k.map(function(S){var _=S.segments.map(function(f){var P=x(M(I.date,T(f.date)),O(f.date));return q(q({},f),{date:P})});return q(q({},S),{segments:_})});function Y(S,_){var f=Math.max.apply(Math,_.map(function(H){return H.left+1})),P=S.filter(function(H){return H.left>=f}).filter(function(H){return ke(_,H.top,H.top+H.height).length>0});return P.length>0?Y(S,P):f}var E=L.events.map(function(S){var f=100/Y(L.events,ke(L.events,S.top,S.top+S.height));return q(q({},S),{left:S.left*f,width:f})});return{hours:Z,date:I.date,events:E.map(function(S){var _=ke(E.filter(function(f){return f.left>S.left}),S.top,S.top+S.height);return _.length>0?q(q({},S),{width:Math.min.apply(Math,_.map(function(f){return f.left}))-S.left}):S})}})}function ke(n,i,t){return n.filter(function(a){var r=a.top,o=a.top+a.height;return i<o&&o<t||i<r&&r<t||r<=i&&t<=o})}function be(n){return Math.max(Math.min(23,n),0)}function Se(n){return Math.max(Math.min(59,n),0)}var te=(()=>{return(n=te||(te={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",te;var n})(),ta=D(6831),Q=D(6787),na=D(6053),Je=D(3753),$=D(2198),Ge=D(1709),j=D(8117),he=D(2986),aa=D(2821),ia=D(3489);class oa{constructor(i,t){this.predicate=i,this.source=t}call(i,t){return t.subscribe(new sa(i,this.predicate,this.source))}}class sa extends ia.L{constructor(i,t,a){super(i),this.predicate=t,this.source=a,this.count=0,this.index=0}_next(i){this.predicate?this._tryPredicate(i):this.count++}_tryPredicate(i){let t;try{t=this.predicate(i,this.index++,this.source)}catch(a){return void this.destination.error(a)}t&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}var Qe=D(519),la=D(5778);function je(n,i){return n=function da(n,i){return typeof n>"u"?typeof i>"u"?n:i:n}(n,i),"function"==typeof n?function(){for(var a=arguments,r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=a[s];return!!n.apply(this,o)}:n?function(){return!0}:function(){return!1}}var Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},Yt=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":Ke(n))&&1===n.nodeType&&"object"===Ke(n.style)&&"object"===Ke(n.ownerDocument)};function Ht(n,i){if(i=et(i,!0),!Yt(i))return-1;for(var t=0;t<n.length;t++)if(n[t]===i)return t;return-1}function Xe(n,i){return-1!==Ht(n,i)}function ca(n,i){for(var t=0;t<i.length;t++)Xe(n,i[t])||n.push(i[t]);return i}function ua(n){for(var i=arguments,t=[],a=arguments.length-1;a-- >0;)t[a]=i[a+1];return ca(n,t=t.map(et))}function ma(n){for(var i=arguments,t=[],a=arguments.length-1;a-- >0;)t[a]=i[a+1];return t.map(et).reduce(function(r,o){var s=Ht(n,o);return-1!==s?r.concat(n.splice(s,1)):r},[])}function et(n,i){if("string"==typeof n)try{return document.querySelector(n)}catch(t){throw t}if(!Yt(n)&&!i)throw new TypeError(n+" is not a DOM element.");return n}function Pt(n){if(n===window)return function ha(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var i={};return Object.defineProperties(i,n),i}();try{var i=n.getBoundingClientRect();return void 0===i.x&&(i.x=i.left,i.y=i.top),i}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var i,tt=void 0;"function"!=typeof Object.create?(i=function(){},tt=function(t,a){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");i.prototype=t||{};var r=new i;return i.prototype=null,void 0!==a&&Object.defineProperties(r,a),null===t&&(r.__proto__=null),r}):tt=Object.create;var fa=tt,re=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function nt(n,i){i=i||{};for(var t=fa(n),a=0;a<re.length;a++)void 0!==i[re[a]]&&(t[re[a]]=i[re[a]]);return t}function at(n,i){console.log("data ",i),n.data=i||{},n.dispatched="mousemove"}var ge=["webkit","moz","ms","o"],fe=function(){if(typeof window>"u")return function(){};for(var n=0,i=ge.length;n<i&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[ge[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(a){var r=(new Date).getTime(),o=Math.max(0,16-r-t),s=window.setTimeout(function(){return a(r+o)},o);return t=r+o,s}}return window.requestAnimationFrame.bind(window)}(),le=function(){if(typeof window>"u")return function(){};for(var n=0,i=ge.length;n<i&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[ge[n]+"CancelAnimationFrame"]||window[ge[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function ya(n,i){void 0===i&&(i={});var t=this,a=4,r=!1;if("object"!=typeof i.margin){var o=i.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=i.margin;this.scrollWhenOutside=i.scrollWhenOutside||!1;var s={},l=function pa(n,i){var t=je((i=i||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,t(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var o=r.target&&r.target.ownerDocument||document,s=o.documentElement,l=o.body;n.pageX=r.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),n.pageY=r.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(s),d=function va(n){var i={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function t(o){for(var s=0;s<re.length;s++)i[re[s]]=o[re[s]]}return void 0!==n&&n.addEventListener("mousemove",t),{destroy:function r(){n&&n.removeEventListener("mousemove",t,!1),i=null},dispatch:MouseEvent?function(s,l,d){var c=new MouseEvent("mousemove",nt(i,l));return at(c,d),s.dispatchEvent(c)}:"function"==typeof document.createEvent?function(s,l,d){var c=nt(i,l),m=document.createEvent("MouseEvents");return m.initMouseEvent("mousemove",!0,!0,window,0,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget),at(m,d),s.dispatchEvent(m)}:"function"==typeof document.createEventObject?function(s,l,d){var c=document.createEventObject(),m=nt(i,l);for(var p in m)c[p]=m[p];return at(c,d),s.dispatchEvent(c)}:void 0}}(),c=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(i.maxSpeed)||(a=i.maxSpeed),"object"!=typeof a&&(a={left:a,right:a,top:a,bottom:a}),this.autoScroll=je(i.autoScroll),this.syncMove=je(i.syncMove,!1),this.destroy=function(_){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",k,!1),window.removeEventListener("touchstart",k,!1),window.removeEventListener("mouseup",C,!1),window.removeEventListener("touchend",C,!1),window.removeEventListener("pointerup",C,!1),window.removeEventListener("mouseleave",x,!1),window.removeEventListener("mousemove",I,!1),window.removeEventListener("touchmove",I,!1),window.removeEventListener("scroll",y,!0),n=[],_&&M()},this.add=function(){for(var _=[],f=arguments.length;f--;)_[f]=arguments[f];return ua.apply(void 0,[n].concat(_)),this},this.remove=function(){for(var _=[],f=arguments.length;f--;)_[f]=arguments[f];return ma.apply(void 0,[n].concat(_))};var p,_,m=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),_=n,n=[],_.forEach(function(f){f===window?m=window:t.add(f)}),Object.defineProperties(this,{down:{get:function(){return c}},maxSpeed:{get:function(){return a}},point:{get:function(){return s}},scrolling:{get:function(){return r}}});var h,w=null;function y(_){for(var f=0;f<n.length;f++)if(n[f]===_.target){r=!0;break}r&&fe(function(){return r=!1})}function k(){c=!0}function C(){c=!1,M()}function M(){le(h),le(p)}function x(){c=!1}function O(){for(var _=null,f=0;f<n.length;f++)Lt(s,n[f])&&(_=n[f]);return _}function I(_){if(t.autoScroll()&&!_.dispatched){var f=_.target,P=document.body;w&&!Lt(s,w)&&(t.scrollWhenOutside||(w=null)),f&&f.parentNode===P?f=O():(f=function T(_){if(!_)return null;if(w===_||Xe(n,_))return _;for(;_=_.parentNode;)if(Xe(n,_))return _;return null}(f),f||(f=O())),f&&f!==w&&(w=f),m&&(le(p),p=fe(L)),w&&(le(h),h=fe(Z))}}function L(){Y(m),le(p),p=fe(L)}function Z(){!w||(Y(w),le(h),h=fe(Z))}function Y(_){var P,H,f=Pt(_);P=s.x<f.left+t.margin.left?Math.floor(Math.max(-1,(s.x-f.left)/t.margin.left-1)*t.maxSpeed.left):s.x>f.right-t.margin.right?Math.ceil(Math.min(1,(s.x-f.right)/t.margin.right+1)*t.maxSpeed.right):0,H=s.y<f.top+t.margin.top?Math.floor(Math.max(-1,(s.y-f.top)/t.margin.top-1)*t.maxSpeed.top):s.y>f.bottom-t.margin.bottom?Math.ceil(Math.min(1,(s.y-f.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):0,t.syncMove()&&d.dispatch(_,{pageX:s.pageX+P,pageY:s.pageY+H,clientX:s.x+P,clientY:s.y+H}),setTimeout(function(){H&&function E(_,f){_===window?window.scrollTo(_.pageXOffset,_.pageYOffset+f):_.scrollTop+=f}(_,H),P&&function S(_,f){_===window?window.scrollTo(_.pageXOffset+f,_.pageYOffset):_.scrollLeft+=f}(_,P)})}window.addEventListener("mousedown",k,!1),window.addEventListener("touchstart",k,!1),window.addEventListener("mouseup",C,!1),window.addEventListener("touchend",C,!1),window.addEventListener("pointerup",C,!1),window.addEventListener("mousemove",I,!1),window.addEventListener("touchmove",I,!1),window.addEventListener("mouseleave",x,!1),window.addEventListener("scroll",y,!0)}function Lt(n,i,t){return t?n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right:function ga(n,i){var t=Pt(i);return n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right}(n,i)}function it(n,i,t){t&&t.split(" ").forEach(a=>n.addClass(i.nativeElement,a))}function xe(n,i,t){t&&t.split(" ").forEach(a=>n.removeClass(i.nativeElement,a))}let Nt=(()=>{class n{constructor(){this.currentDrag=new z.xQ}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zt=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),Oe=(()=>{class n{constructor(t,a,r,o,s,l,d){this.element=t,this.renderer=a,this.draggableHelper=r,this.zone=o,this.vcr=s,this.scrollContainer=l,this.document=d,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new e.vpe,this.dragStart=new e.vpe,this.ghostElementCreated=new e.vpe,this.dragging=new e.vpe,this.dragEnd=new e.vpe,this.pointerDown$=new z.xQ,this.pointerMove$=new z.xQ,this.pointerUp$=new z.xQ,this.eventListenerSubscriptions={},this.destroy$=new z.xQ,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const t=this.pointerDown$.pipe((0,$.h)(()=>this.canDrag()),(0,Ge.zg)(a=>{a.event.stopPropagation&&!this.scrollContainer&&a.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const o=this.getScrollPosition(),s=new se.y(h=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",k=>h.next(k))).pipe((0,xt.O)(o),(0,W.U)(()=>this.getScrollPosition())),l=new z.xQ,d=new ta.t;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const c=(0,Q.T)(this.pointerUp$,this.pointerDown$,d,this.destroy$).pipe((0,j.B)()),m=(0,na.aj)([this.pointerMove$,s]).pipe((0,W.U)(([h,y])=>({currentDrag$:l,transformX:h.clientX-a.clientX,transformY:h.clientY-a.clientY,clientX:h.clientX,clientY:h.clientY,scrollLeft:y.left,scrollTop:y.top,target:h.event.target})),(0,W.U)(h=>(this.dragSnapGrid.x&&(h.transformX=Math.round(h.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(h.transformY=Math.round(h.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),h)),(0,W.U)(h=>(this.dragAxis.x||(h.transformX=0),this.dragAxis.y||(h.transformY=0),h)),(0,W.U)(h=>{const y=h.scrollLeft-o.left,k=h.scrollTop-o.top;return Object.assign(Object.assign({},h),{x:h.transformX+y,y:h.transformY+k})}),(0,$.h)(({x:h,y,transformX:k,transformY:C})=>!this.validateDrag||this.validateDrag({x:h,y,transform:{x:k,y:C}})),(0,X.R)(c),(0,j.B)()),p=m.pipe((0,he.q)(1),(0,j.B)()),w=m.pipe((0,aa.h)(1),(0,j.B)());return p.subscribe(({clientX:h,clientY:y,x:k,y:C})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:d})}),this.scroller=function wa(n,i){return new ya(n,i)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign(Object.assign({},this.autoScroll),{autoScroll:()=>!0})),it(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const M=this.element.nativeElement.getBoundingClientRect(),x=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(x):this.element.nativeElement.parentNode.insertBefore(x,this.element.nativeElement.nextSibling),this.ghostElement=x,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(x,{position:"fixed",top:`${M.top}px`,left:`${M.left}px`,width:`${M.width}px`,height:`${M.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const T=this.vcr.createEmbeddedView(this.ghostElementTemplate);x.innerHTML="",T.rootNodes.filter(O=>O instanceof Node).forEach(O=>{x.appendChild(O)}),w.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(T))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:h-k,clientY:y-C,element:x})}),w.subscribe(()=>{x.parentElement.removeChild(x),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),w.pipe((0,Ge.zg)(h=>{const y=d.pipe(function ra(n){return i=>i.lift(new oa(n,i))}(),(0,he.q)(1),(0,W.U)(k=>Object.assign(Object.assign({},h),{dragCancelled:k>0})));return d.complete(),y})).subscribe(({x:h,y,dragCancelled:k})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:h,y,dragCancelled:k})}),xe(this.renderer,this.element,this.dragActiveClass),l.complete()}),(0,Q.T)(c,w).pipe((0,he.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),m}),(0,j.B)());(0,Q.T)(t.pipe((0,he.q)(1),(0,W.U)(a=>[,a])),t.pipe((0,Qe.G)())).pipe((0,$.h)(([a,r])=>!a||a.x!==r.x||a.y!==r.y),(0,W.U)(([a,r])=>r)).subscribe(({x:a,y:r,currentDrag$:o,clientX:s,clientY:l,transformX:d,transformY:c,target:m})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:a,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const p=`translate3d(${d}px, ${c}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:p,"-webkit-transform":p,"-ms-transform":p,"-moz-transform":p,"-o-transform":p})}}),o.next({clientX:s,clientY:l,dropData:this.dropData,target:m})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const t=this.canDrag(),a=Object.keys(this.eventListenerSubscriptions).length>0;t&&!a?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&a&&this.unsubscribeEventListeners()}onMouseDown(t){0===t.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",a=>{this.pointerMove$.next({event:a,clientX:a.clientX,clientY:a.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){0===t.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let a,r,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,o=this.hasScrollbar(),a=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const s=(0,Je.R)(this.document,"contextmenu").subscribe(d=>{d.preventDefault()}),l=(0,Je.R)(this.document,"touchmove",{passive:!1}).subscribe(d=>{this.touchStartLongPress&&!r&&o&&(r=this.shouldBeginDrag(t,d,a)),(!this.touchStartLongPress||!o||r)&&(d.preventDefault(),this.pointerMove$.next({event:d,clientX:d.targetTouches[0].clientX,clientY:d.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,a){Object.keys(a).forEach(r=>{this.renderer.setStyle(t,r,a[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,a,r){const o=this.getScrollPosition(),s_top=Math.abs(o.top-r.top),s_left=Math.abs(o.left-r.left),l=Math.abs(a.targetTouches[0].clientX-t.touches[0].clientX)-s_left,d=Math.abs(a.targetTouches[0].clientY-t.touches[0].clientY)-s_top,m=this.touchStartLongPress;return(l+d>m.delta||s_top>0||s_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=m.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const t=this.getScrollElement();return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Nt),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Zt,8),e.Y36(g.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[e.TTD]}),n})();function Ft(n,i,t){return n>=t.left&&n<=t.right&&i>=t.top&&i<=t.bottom}let Ee=(()=>{class n{constructor(t,a,r,o,s){this.element=t,this.draggableHelper=a,this.zone=r,this.renderer=o,this.scrollContainer=s,this.dragEnter=new e.vpe,this.dragLeave=new e.vpe,this.dragOver=new e.vpe,this.drop=new e.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(t=>{it(this.renderer,this.element,this.dragActiveClass);const a={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{a.updateCache=!0});let o;const s=t.pipe((0,W.U)(({clientX:c,clientY:m,dropData:p,target:w})=>{o={clientX:c,clientY:m,dropData:p,target:w},a.updateCache&&(a.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(a.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),a.updateCache=!1);const h=Ft(c,m,a.rect),y=!this.validateDrop||this.validateDrop({clientX:c,clientY:m,target:w,dropData:p});return a.scrollContainerRect?h&&y&&Ft(c,m,a.scrollContainerRect):h&&y})),l=s.pipe((0,la.x)());let d;l.pipe((0,$.h)(c=>c)).subscribe(()=>{d=!0,it(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),s.pipe((0,$.h)(c=>c)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),l.pipe((0,Qe.G)(),(0,$.h)(([c,m])=>c&&!m)).subscribe(()=>{d=!1,xe(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),t.subscribe({complete:()=>{r(),xe(this.renderer,this.element,this.dragActiveClass),d&&(xe(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(Nt),e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36(Zt,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),Ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var K=D(7340),Ca=D(2994);const oe=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function Wt(n,i,t,a){const r=i.querySelectorAll(n);if(r.length){const o=t.querySelectorAll(n);for(let s=0;s<r.length;s++)a(r[s],o[s])}}let Ta=0;function Bt(n,i){"file"!==i.type&&(i.value=n.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${Ta++}`)}function zt(n,i){const t=i.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function Vt(n,i,t,a){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return i.top&&(r.top+=a),i.bottom&&(r.bottom+=a),i.left&&(r.left+=t),i.right&&(r.right+=t),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const Rt=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Ut(n,i){return n.left&&n.top?i.topLeft:n.right&&n.top?i.topRight:n.left&&n.bottom?i.bottomLeft:n.right&&n.bottom?i.bottomRight:n.left||n.right?i.leftOrRight:n.top||n.bottom?i.topOrBottom:""}function Ie({edges:n,initialRectangle:i,newRectangle:t}){const a={};return Object.keys(n).forEach(r=>{a[r]=(t[r]||0)-(i[r]||0)}),a}const qt="resize-active";let $t=(()=>{class n{constructor(t,a,r,o){this.platformId=t,this.renderer=a,this.elm=r,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Rt,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new z.xQ,this.mousedown=new z.xQ,this.mousemove=new z.xQ,this.destroy$=new z.xQ,this.pointerEventListeners=de.getInstance(a,o)}ngOnInit(){const t=(0,Q.T)(this.pointerEventListeners.pointerDown,this.mousedown),a=(0,Q.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,Ca.b)(({event:c})=>{if(o)try{c.preventDefault()}catch{}}),(0,j.B)()),r=(0,Q.T)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>Object.assign(Object.assign({},Rt),this.resizeCursors);t.pipe((0,Ge.zg)(c=>{function m(h){return{clientX:h.clientX-c.clientX,clientY:h.clientY-c.clientY}}const p=()=>{const h={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?h.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(h.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?h.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(h.y=+this.resizeSnapGrid.bottom)),h};function w(h,y){return{x:Math.ceil(h.clientX/y.x),y:Math.ceil(h.clientY/y.y)}}return(0,Q.T)(a.pipe((0,he.q)(1)).pipe((0,W.U)(h=>[,h])),a.pipe((0,Qe.G)())).pipe((0,W.U)(([h,y])=>[h&&m(h),m(y)])).pipe((0,$.h)(([h,y])=>{if(!h)return!0;const k=p(),C=w(h,k),M=w(y,k);return C.x!==M.x||C.y!==M.y})).pipe((0,W.U)(([,h])=>{const y=p();return{clientX:Math.round(h.clientX/y.x)*y.x,clientY:Math.round(h.clientY/y.y)*y.y}})).pipe((0,X.R)((0,Q.T)(r,t)))})).pipe((0,$.h)(()=>!!o)).pipe((0,W.U)(({clientX:c,clientY:m})=>Vt(o.startingRect,o.edges,c,m))).pipe((0,$.h)(c=>this.allowNegativeResizes||!!(c.height&&c.width&&c.height>0&&c.width>0))).pipe((0,$.h)(c=>!this.validateResize||this.validateResize({rectangle:c,edges:Ie({edges:o.edges,initialRectangle:o.startingRect,newRectangle:c})})),(0,X.R)(this.destroy$)).subscribe(c=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${c.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${c.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${c.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${c.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Ie({edges:o.edges,initialRectangle:o.startingRect,newRectangle:c}),rectangle:c})}),o.currentRect=c}),t.pipe((0,W.U)(({edges:c})=>c||{}),(0,$.h)(c=>Object.keys(c).length>0),(0,X.R)(this.destroy$)).subscribe(c=>{o&&s();const m=function Ma(n,i){let t=0,a=0;const r=n.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>r[l]).find(l=>!!l);if(s&&s.includes("translate")&&(t=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),a=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===i)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-a,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-a,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{const l=n.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-a,bottom:l.bottom-a,left:l.left-t,right:l.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:c,startingRect:m,currentRect:m};const p=l(),w=Ut(o.edges,p);this.renderer.setStyle(document.body,"cursor",w),this.setElementClass(this.elm,qt,!0),this.enableGhostResize&&(o.clonedNode=function Da(n){const i=n.cloneNode(!0),t=i.querySelectorAll("[id]"),a=n.nodeName.toLowerCase();return i.removeAttribute("id"),t.forEach(r=>{r.removeAttribute("id")}),"canvas"===a?zt(n,i):("input"===a||"select"===a||"textarea"===a)&&Bt(n,i),Wt("canvas",n,i,zt),Wt("input, textarea, select",n,i,Bt),i}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",Ut(o.edges,p)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Ie({edges:c,initialRectangle:m,newRectangle:m}),rectangle:Vt(m,{},0,0)})})}),r.pipe((0,X.R)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,qt),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Ie({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnDestroy(){(0,g.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(t,a,r){r?this.renderer.addClass(t.nativeElement,a):this.renderer.removeClass(t.nativeElement,a)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class de{constructor(i,t){this.pointerDown=new se.y(a=>{let r,o;return t.runOutsideAngular(()=>{r=i.listen("document","mousedown",s=>{a.next({clientX:s.clientX,clientY:s.clientY,event:s})}),oe&&(o=i.listen("document","touchstart",s=>{a.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{r(),oe&&o()}}).pipe((0,j.B)()),this.pointerMove=new se.y(a=>{let r,o;return t.runOutsideAngular(()=>{r=i.listen("document","mousemove",s=>{a.next({clientX:s.clientX,clientY:s.clientY,event:s})}),oe&&(o=i.listen("document","touchmove",s=>{a.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{r(),oe&&o()}}).pipe((0,j.B)()),this.pointerUp=new se.y(a=>{let r,o,s;return t.runOutsideAngular(()=>{r=i.listen("document","mouseup",l=>{a.next({clientX:l.clientX,clientY:l.clientY,event:l})}),oe&&(o=i.listen("document","touchend",l=>{a.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),s=i.listen("document","touchcancel",l=>{a.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{r(),oe&&(o(),s())}}).pipe((0,j.B)())}static getInstance(i,t){return de.instance||(de.instance=new de(i,t)),de.instance}}let Sa=(()=>{class n{constructor(t,a,r,o){this.renderer=t,this.element=a,this.zone=r,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new z.xQ}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),oe&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),(0,Q.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,a,r){t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:a,clientY:r,edges:this.resizeEdges})}onMouseup(t,a){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:a,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,a,r){this.resizable.mousemove.next({clientX:a,clientY:r,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return(0,Je.R)(this.element.nativeElement,t).pipe((0,X.R)(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36($t,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),Jt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var rt=D(7582);const xa=function(n){return{action:n}};function Oa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",5),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:r}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=i.$implicit;e.Q6J("ngClass",t.cssClass)("innerHtml",t.label,e.oJD),e.uIk("aria-label",e.xi3(1,3,e.VKq(6,xa,t),"actionButtonLabel"))}}function Ea(n,i){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,Oa,2,8,"a",4),e.qZA()),2&n){const t=e.oxw(),a=t.event,r=t.trackByActionId;e.xp6(1),e.Q6J("ngForOf",a.actions)("ngForTrackBy",r)}}function Aa(n,i){1&n&&e.YNc(0,Ea,2,2,"span",2),2&n&&e.Q6J("ngIf",i.event.actions)}function Ia(n,i){}const Ya=function(n,i){return{event:n,trackByActionId:i}},ce=function(){return{}};function Ha(n,i){if(1&n&&(e._UZ(0,"span",2),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y")),2&n){const t=i.event;e.Q6J("innerHTML",e.Dn7(1,2,t.title,i.view,t),e.oJD),e.uIk("aria-hidden",e.xi3(2,6,e.DdM(9,ce),"hideEventTitle"))}}function Pa(n,i){}const La=function(n,i){return{event:n,view:i}};function Na(n,i){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"div",3)(2,"div",4),e.qZA()),2&n){const t=i.contents;e.Q6J("ngClass","cal-tooltip-"+i.placement),e.xp6(2),e.Q6J("innerHtml",t,e.oJD)}}function Za(n,i){}const Fa=function(n,i,t){return{contents:n,placement:i,event:t}};function Wa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.columnHeaderClicked.emit({isoDayNumber:s.day,sourceEvent:r}))}),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()}if(2&n){const t=i.$implicit,a=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(1),e.hij(" ",e.Dn7(2,10,t.date,"monthViewColumnHeader",a)," ")}}function Ba(n,i){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,Wa,3,14,"div",3),e.qZA()),2&n){const t=i.days,a=i.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",a)}}function za(n,i){}const Va=function(n,i,t){return{days:n,locale:i,trackByWeekDayHeaderDate:t}};function Ra(n,i){if(1&n&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&n){const t=e.oxw().day;e.xp6(1),e.Oqu(t.badgeTotal)}}const ot=function(n){return{backgroundColor:n}},Ua=function(n,i){return{event:n,draggedFrom:i}},ve=function(n,i){return{x:n,y:i}},Ye=function(){return{delay:300,delta:30}};function qa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).highlightDay;return e.KtG(s.emit({event:o}))})("mouseleave",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).unhighlightDay;return e.KtG(s.emit({event:o}))})("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:r}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e.qZA()}if(2&n){const t=i.$implicit,a=e.oxw(2),r=a.tooltipPlacement,o=a.tooltipTemplate,s=a.tooltipAppendToBody,l=a.tooltipDelay,d=a.day,c=a.validateDrag;e.ekj("cal-draggable",t.draggable),e.Q6J("ngStyle",e.VKq(22,ot,null==t.color?null:t.color.primary))("ngClass",null==t?null:t.cssClass)("mwlCalendarTooltip",e.Dn7(1,15,t.title,"monthTooltip",t))("tooltipPlacement",r)("tooltipEvent",t)("tooltipTemplate",o)("tooltipAppendToBody",s)("tooltipDelay",l)("dropData",e.WLB(24,Ua,t,d))("dragAxis",e.WLB(27,ve,t.draggable,t.draggable))("validateDrag",c)("touchStartLongPress",e.DdM(30,Ye)),e.uIk("aria-hidden",e.xi3(2,19,e.DdM(31,ce),"hideMonthCellEvents"))}}function $a(n,i){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,qa,3,32,"div",9),e.qZA()),2&n){const t=e.oxw(),a=t.day,r=t.trackByEventId;e.xp6(1),e.Q6J("ngForOf",a.events)("ngForTrackBy",r)}}const Ja=function(n,i){return{day:n,locale:i}};function Ga(n,i){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.TgZ(2,"span",3),e.YNc(3,Ra,2,1,"span",4),e.TgZ(4,"span",5),e._uU(5),e.ALo(6,"calendarDate"),e.qZA()()(),e.YNc(7,$a,2,2,"div",6)),2&n){const t=i.day,a=i.locale;e.uIk("aria-label",e.xi3(1,4,e.WLB(11,Ja,t,a),"monthCell")),e.xp6(3),e.Q6J("ngIf",t.badgeTotal>0),e.xp6(2),e.Oqu(e.Dn7(6,7,t.date,"monthViewDayNumber",a)),e.xp6(2),e.Q6J("ngIf",t.events.length>0)}}function Qa(n,i){}const ja=function(n,i,t,a,r,o,s,l,d,c,m,p){return{day:n,openDay:i,locale:t,tooltipPlacement:a,highlightDay:r,unhighlightDay:o,eventClicked:s,tooltipTemplate:l,tooltipAppendToBody:d,tooltipDelay:c,trackByEventId:m,validateDrag:p}},Ka=function(n){return{event:n}},Gt=function(n,i){return{event:n,locale:i}};function Xa(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e._UZ(1,"span",8),e._uU(2," "),e.TgZ(3,"mwl-calendar-event-title",9),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:r}))}),e.ALo(4,"calendarA11y"),e.qZA(),e._uU(5," "),e._UZ(6,"mwl-calendar-event-actions",10),e.qZA()}if(2&n){const t=i.$implicit,a=e.oxw(2).validateDrag,r=e.oxw();e.ekj("cal-draggable",t.draggable),e.Q6J("ngClass",null==t?null:t.cssClass)("dropData",e.VKq(16,Ka,t))("dragAxis",e.WLB(18,ve,t.draggable,t.draggable))("validateDrag",a)("touchStartLongPress",e.DdM(21,Ye)),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,ot,null==t.color?null:t.color.primary)),e.xp6(2),e.Q6J("event",t)("customTemplate",r.eventTitleTemplate),e.uIk("aria-label",e.xi3(4,13,e.WLB(24,Gt,t,r.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t)("customTemplate",r.eventActionsTemplate)}}const Qt=function(n,i){return{date:n,locale:i}};function ei(n,i){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"span",4),e.ALo(2,"calendarA11y"),e._UZ(3,"span",5),e.ALo(4,"calendarA11y"),e.YNc(5,Xa,7,27,"div",6),e.qZA()),2&n){const t=e.oxw(),a=t.events,r=t.trackByEventId,o=e.oxw();e.Q6J("@collapse",void 0),e.xp6(1),e.uIk("aria-label",e.xi3(2,5,e.WLB(11,Qt,o.date,o.locale),"openDayEventsAlert")),e.xp6(2),e.uIk("aria-label",e.xi3(4,8,e.WLB(14,Qt,o.date,o.locale),"openDayEventsLandmark")),e.xp6(2),e.Q6J("ngForOf",a)("ngForTrackBy",r)}}function ti(n,i){1&n&&e.YNc(0,ei,6,17,"div",2),2&n&&e.Q6J("ngIf",i.isOpen)}function ni(n,i){}const ai=function(n,i,t,a,r){return{events:n,eventClicked:i,isOpen:t,trackByEventId:a,validateDrag:r}};function ii(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-cell",7),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:r}))})("highlightDay",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(r.event,!1))})("drop",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(s,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=i.$implicit,a=e.oxw(2);e.Q6J("ngClass",null==t?null:t.cssClass)("day",t)("openDay",a.openDay)("locale",a.locale)("tooltipPlacement",a.tooltipPlacement)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipTemplate",a.tooltipTemplate)("tooltipDelay",a.tooltipDelay)("customTemplate",a.cellTemplate)("ngStyle",e.VKq(15,ot,t.backgroundColor))("clickListenerDisabled",0===a.dayClicked.observers.length),e.uIk("tabindex",e.xi3(1,12,e.DdM(17,ce),"monthCellTabIndex"))}}function ri(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4),e.YNc(2,ii,2,18,"mwl-calendar-month-cell",5),e.ALo(3,"slice"),e.qZA(),e.TgZ(4,"mwl-calendar-open-day-events",6),e.NdJ("eventClicked",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.eventDropped(o.openDay,r.dropData.event,r.dropData.draggedFrom))}),e.qZA()()}if(2&n){const t=i.$implicit,a=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,9,a.view.days,t,t+a.view.totalDaysVisibleInWeek))("ngForTrackBy",a.trackByDate),e.xp6(2),e.Q6J("locale",a.locale)("isOpen",a.openRowIndex===t)("events",null==a.openDay?null:a.openDay.events)("date",null==a.openDay?null:a.openDay.date)("customTemplate",a.openDayEventsTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)}}function oi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw().dayHeaderClicked;return e.KtG(l.emit({day:s,sourceEvent:r}))})("drop",function(r){const s=e.CHM(t).$implicit,l=e.oxw().eventDropped;return e.KtG(l.emit({event:r.dropData.event,newStart:s.date}))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw().dragEnter;return e.KtG(s.emit({date:o.date}))}),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"calendarDate"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"calendarDate"),e.qZA()()}if(2&n){const t=i.$implicit,a=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(2),e.Oqu(e.Dn7(3,11,t.date,"weekViewColumnHeader",a)),e.xp6(4),e.Oqu(e.Dn7(7,15,t.date,"weekViewColumnSubHeader",a))}}function si(n,i){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,oi,8,19,"div",3),e.qZA()),2&n){const t=i.days,a=i.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",a)}}function li(n,i){}const di=function(n,i,t,a,r,o){return{days:n,locale:i,dayHeaderClicked:t,eventDropped:a,dragEnter:r,trackByWeekDayHeaderDate:o}},ci=function(n,i){return{backgroundColor:n,borderColor:i}};function ui(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("mwlClick",function(r){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:r}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e._UZ(3,"mwl-calendar-event-actions",3),e._uU(4," "),e._UZ(5,"mwl-calendar-event-title",4),e.qZA()}if(2&n){const t=i.weekEvent,a=i.tooltipPlacement,r=i.tooltipTemplate,o=i.tooltipAppendToBody,s=i.tooltipDisabled,l=i.tooltipDelay,d=i.daysInWeek,c=e.oxw();e.Q6J("ngStyle",e.WLB(20,ci,null==t.event.color?null:t.event.color.secondary,null==t.event.color?null:t.event.color.primary))("mwlCalendarTooltip",s?"":e.Dn7(1,13,t.event.title,1===d?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",a)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",r)("tooltipAppendToBody",o)("tooltipDelay",l),e.uIk("aria-label",e.xi3(2,17,e.WLB(23,Gt,t.tempEvent||t.event,c.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t.tempEvent||t.event)("customTemplate",c.eventActionsTemplate),e.xp6(2),e.Q6J("event",t.tempEvent||t.event)("customTemplate",c.eventTitleTemplate)("view",1===d?"day":"week")}}function mi(n,i){}const pi=function(n,i,t,a,r,o,s,l,d){return{weekEvent:n,tooltipPlacement:i,eventClicked:t,tooltipTemplate:a,tooltipAppendToBody:r,tooltipDisabled:o,tooltipDelay:s,column:l,daysInWeek:d}};function hi(n,i){if(1&n&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()),2&n){const t=e.oxw(),a=t.segment,r=t.daysInWeek,o=t.locale;e.xp6(1),e.hij(" ",e.Dn7(2,1,a.displayDate,1===r?"dayViewHour":"weekViewHour",o)," ")}}function gi(n,i){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.YNc(2,hi,3,5,"div",3),e.qZA()),2&n){const t=i.segment,r=i.isTimeLabel,o=i.daysInWeek;e.Udp("height",i.segmentHeight,"px"),e.ekj("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),e.Q6J("ngClass",t.cssClass),e.uIk("aria-hidden",e.xi3(1,9,e.DdM(12,ce),1===o?"hideDayHourSegment":"hideWeekHourSegment")),e.xp6(2),e.Q6J("ngIf",r)}}function fi(n,i){}const vi=function(n,i,t,a,r){return{segment:n,locale:i,segmentHeight:t,isTimeLabel:a,daysInWeek:r}};function yi(n,i){if(1&n&&e._UZ(0,"div",3),2&n){const t=e.oxw().topPx;e.Udp("top",t,"px")}}function wi(n,i){1&n&&e.YNc(0,yi,1,2,"div",2),2&n&&e.Q6J("ngIf",i.isVisible)}function _i(n,i){}const Ci=function(n,i,t,a,r,o,s){return{columnDate:n,dayStartHour:i,dayStartMinute:t,dayEndHour:a,dayEndMinute:r,isVisible:o,topPx:s}};function Di(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("drop",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(r,s.date,!0))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}}const Ti=function(){return{left:!0}};function Mi(n,i){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,Ti))}const ki=function(){return{right:!0}};function bi(n,i){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,ki))}const Si=function(n,i){return{left:n,right:i}},jt=function(n,i){return{event:n,calendarId:i}},xi=function(n){return{x:n}};function Oi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",17,18),e.NdJ("resizeStart",function(r){const s=e.CHM(t).$implicit;e.oxw();const l=e.MAs(1),d=e.oxw(2);return e.KtG(d.allDayEventResizeStarted(l,s,r))})("resizing",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.allDayEventResizing(s,r,l.dayColumnWidth))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.allDayEventResizeEnded(o))})("dragStart",function(){const o=e.CHM(t).$implicit,s=e.MAs(1);e.oxw();const l=e.MAs(1),d=e.oxw(2);return e.KtG(d.dragStarted(l,s,o,!1))})("dragging",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.allDayEventDragMove())})("dragEnd",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.dragEnded(s,r,l.dayColumnWidth))}),e.YNc(2,Mi,1,2,"div",19),e.TgZ(3,"mwl-calendar-week-view-event",20),e.NdJ("eventClicked",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent}))}),e.qZA(),e.YNc(4,bi,1,2,"div",21),e.qZA()}if(2&n){const t=i.$implicit,a=e.oxw(3);e.Udp("width",100/a.days.length*t.span,"%")("margin-left",a.rtl?null:100/a.days.length*t.offset,"%")("margin-right",a.rtl?100/a.days.length*(a.days.length-t.offset)*-1:null,"%"),e.ekj("cal-draggable",t.event.draggable&&0===a.allDayEventResizes.size)("cal-starts-within-week",!t.startsBeforeWeek)("cal-ends-within-week",!t.endsAfterWeek),e.Q6J("ngClass",null==t.event?null:t.event.cssClass)("resizeSnapGrid",e.WLB(32,Si,a.dayColumnWidth,a.dayColumnWidth))("validateResize",a.validateResize)("dropData",e.WLB(35,jt,t.event,a.calendarId))("dragAxis",e.WLB(38,ve,t.event.draggable&&0===a.allDayEventResizes.size,!a.snapDraggedEvents&&t.event.draggable&&0===a.allDayEventResizes.size))("dragSnapGrid",a.snapDraggedEvents?e.VKq(41,xi,a.dayColumnWidth):e.DdM(43,ce))("validateDrag",a.validateDrag)("touchStartLongPress",e.DdM(44,Ye)),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeWeek),e.xp6(1),e.Q6J("locale",a.locale)("weekEvent",t)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDelay",a.tooltipDelay)("customTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("daysInWeek",a.daysInWeek),e.xp6(1),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterWeek)}}function Ei(n,i){if(1&n&&(e.TgZ(0,"div",14,15),e.YNc(2,Oi,5,45,"div",16),e.qZA()),2&n){const t=i.$implicit,a=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.row)("ngForTrackBy",a.trackByWeekAllDayEvent)}}function Ai(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8,9),e.NdJ("dragEnter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dragEnter("allDay"))})("dragLeave",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dragLeave("allDay"))}),e.TgZ(2,"div",5),e._UZ(3,"div",10),e.YNc(4,Di,1,0,"div",11),e.qZA(),e.YNc(5,Ei,3,2,"div",12),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",t.allDayEventsLabelTemplate),e.xp6(1),e.Q6J("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),e.xp6(1),e.Q6J("ngForOf",t.view.allDayEventRows)("ngForTrackBy",t.trackById)}}function Ii(n,i){if(1&n&&e._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&n){const t=i.$implicit,a=e.oxw(3);e.Udp("height",a.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",a.hourSegmentHeight)("locale",a.locale)("customTemplate",a.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",a.daysInWeek)}}function Yi(n,i){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,Ii,1,8,"mwl-calendar-week-view-hour-segment",27),e.qZA()),2&n){const t=i.$implicit,a=i.odd,r=e.oxw(2);e.ekj("cal-hour-odd",a),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",r.trackByHourSegment)}}function Hi(n,i){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,Yi,2,4,"div",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.view.hourColumns[0].hours)("ngForTrackBy",t.trackByHour)}}const Pi=function(){return{left:!0,top:!0}};function Li(n,i){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,Pi))}function Ni(n,i){}function Zi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-event",36),e.NdJ("eventClicked",function(r){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.eventClicked.emit({event:o.event,sourceEvent:r.sourceEvent}))}),e.qZA()}if(2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit,r=e.oxw();e.Q6J("locale",r.locale)("weekEvent",t)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",a)("daysInWeek",r.daysInWeek)}}const Fi=function(){return{right:!0,bottom:!0}};function Wi(n,i){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,Fi))}const Bi=function(n,i,t,a){return{left:n,right:i,top:t,bottom:a}};function zi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",33,18),e.NdJ("resizeStart",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2),d=e.MAs(6);return e.KtG(l.timeEventResizeStarted(d,s,r))})("resizing",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.timeEventResizing(s,r))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.timeEventResizeEnded(o))})("dragStart",function(){const o=e.CHM(t).$implicit,s=e.MAs(1),l=e.oxw(2),d=e.MAs(6);return e.KtG(l.dragStarted(d,s,o,!0))})("dragging",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragMove(s,r))})("dragEnd",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragEnded(s,r,l.dayColumnWidth,!0))}),e.YNc(2,Li,1,2,"div",19),e.YNc(3,Ni,0,0,"ng-template",34),e.YNc(4,Zi,1,12,"ng-template",null,35,e.W1O),e.YNc(6,Wi,1,2,"div",21),e.qZA()}if(2&n){const t=i.$implicit,a=e.MAs(5),r=e.oxw(2);e.Udp("top",t.top,"px")("height",t.height,"px")("left",t.left,"%")("width",t.width,"%"),e.ekj("cal-draggable",t.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!t.startsBeforeDay)("cal-ends-within-day",!t.endsAfterDay),e.Q6J("ngClass",t.event.cssClass)("hidden",0===t.height&&0===t.width)("resizeSnapGrid",e.l5B(29,Bi,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",e.WLB(34,jt,t.event,r.calendarId))("dragAxis",e.WLB(37,ve,t.event.draggable&&0===r.timeEventResizes.size,t.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?e.WLB(40,ve,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):e.DdM(43,ce))("touchStartLongPress",e.DdM(44,Ye))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",a)("validateDrag",r.validateDrag),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeDay),e.xp6(1),e.Q6J("ngTemplateOutlet",a),e.xp6(3),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterDay)}}function Vi(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-hour-segment",38),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.hourSegmentClicked.emit({date:s.date,sourceEvent:r}))})("drop",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventDropped(r,s.date,!1))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}if(2&n){const t=i.$implicit,a=e.oxw(3);e.Udp("height",a.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",a.hourSegmentHeight)("locale",a.locale)("customTemplate",a.hourSegmentTemplate)("daysInWeek",a.daysInWeek)("clickListenerDisabled",0===a.hourSegmentClicked.observers.length)("dragOverClass",a.dragActive&&a.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===a.daysInWeek)}}function Ri(n,i){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,Vi,1,10,"mwl-calendar-week-view-hour-segment",37),e.qZA()),2&n){const t=i.$implicit,a=i.odd,r=e.oxw(2);e.ekj("cal-hour-odd",a),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",r.trackByHourSegment)}}function Ui(n,i){if(1&n&&(e.TgZ(0,"div",29),e._UZ(1,"mwl-calendar-week-view-current-time-marker",30),e.TgZ(2,"div",31),e.YNc(3,zi,7,45,"div",32),e.qZA(),e.YNc(4,Ri,2,4,"div",25),e.qZA()),2&n){const t=i.$implicit,a=e.oxw();e.xp6(1),e.Q6J("columnDate",t.date)("dayStartHour",a.dayStartHour)("dayStartMinute",a.dayStartMinute)("dayEndHour",a.dayEndHour)("dayEndMinute",a.dayEndMinute)("hourSegments",a.hourSegments)("hourDuration",a.hourDuration)("hourSegmentHeight",a.hourSegmentHeight)("customTemplate",a.currentTimeMarkerTemplate),e.xp6(2),e.Q6J("ngForOf",t.events)("ngForTrackBy",a.trackByWeekTimeEvent),e.xp6(1),e.Q6J("ngForOf",t.hours)("ngForTrackBy",a.trackByHour)}}let ne=(()=>{class n{constructor(t,a,r){this.renderer=t,this.elm=a,this.document=r,this.clickListenerDisabled=!1,this.click=new e.vpe,this.destroy$=new z.xQ}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,X.R)(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new se.y(t=>this.renderer.listen(this.elm.nativeElement,"click",a=>{t.next(a)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(g.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),ye=(()=>{class n{constructor(t,a,r){this.host=t,this.ngZone=a,this.renderer=r,this.keydown=new e.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(13===t.keyCode||13===t.which||"Enter"===t.key)&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),He=(()=>{class n{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:a}){return t.badgeTotal>0?`\n        ${(0,g.p6)(t.date,"EEEE MMMM d",a)},\n        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,g.p6)(t.date,"EEEE MMMM d",a)}`}openDayEventsLandmark({date:t,locale:a}){return`\n      Beginning of expanded view for ${(0,g.p6)(t,"EEEE MMMM dd",a)}\n    `}openDayEventsAlert({date:t,locale:a}){return`${(0,g.p6)(t,"EEEE MMMM dd",a)} expanded`}eventDescription({event:t,locale:a}){if(!0===t.allDay)return this.allDayEventDescription({event:t,locale:a});const r=`\n      ${(0,g.p6)(t.start,"EEEE MMMM dd",a)},\n      ${t.title}, from ${(0,g.p6)(t.start,"hh:mm a",a)}\n    `;return t.end?r+` to ${(0,g.p6)(t.end,"hh:mm a",a)}`:r}allDayEventDescription({event:t,locale:a}){const r=`\n      ${t.title}, event spans multiple days:\n      start time ${(0,g.p6)(t.start,"MMMM dd hh:mm a",a)}\n    `;return t.end?r+`, stop time ${(0,g.p6)(t.end,"MMMM d hh:mm a",a)}`:r+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(g.Gx))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),ae=(()=>{class n{constructor(t,a){this.calendarA11y=t,this.locale=a}transform(t,a){if(t.locale=t.locale||this.locale,typeof this.calendarA11y[a]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(He.prototype)).filter(o=>"constructor"!==o);throw new Error(`${a} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[a](t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(He,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarA11y",type:n,pure:!0}),n})(),Kt=(()=>{class n{constructor(){this.trackByActionId=(t,a)=>a.id?a.id:a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(t,a){if(1&t&&(e.YNc(0,Aa,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Ia,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.WLB(2,Ya,a.event,a.trackByActionId))}},dependencies:[g.O5,g.sg,g.mk,ne,ye,g.tP,ae],encapsulation:2}),n})();class st{month(i,t){return i.title}monthTooltip(i,t){return i.title}week(i,t){return i.title}weekTooltip(i,t){return i.title}day(i,t){return i.title}dayTooltip(i,t){return i.title}}let Pe=(()=>{class n{constructor(t){this.calendarEventTitle=t}transform(t,a,r){return this.calendarEventTitle[a](r,t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(st,16))},n.\u0275pipe=e.Yjl({name:"calendarEventTitle",type:n,pure:!0}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,a){if(1&t&&(e.YNc(0,Ha,3,10,"ng-template",null,0,e.W1O),e.YNc(2,Pa,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.WLB(2,La,a.event,a.view))}},dependencies:[g.tP,Pe,ae],encapsulation:2}),n})(),qi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,a){if(1&t&&(e.YNc(0,Na,3,2,"ng-template",null,0,e.W1O),e.YNc(2,Za,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.kEZ(2,Fa,a.contents,a.placement,a.event))}},dependencies:[g.mk,g.tP],encapsulation:2}),n})(),lt=(()=>{class n{constructor(t,a,r,o,s,l){this.elementRef=t,this.injector=a,this.renderer=r,this.viewContainerRef=s,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new z.xQ,this.tooltipFactory=o.resolveComponentFactory(qi)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,In.of)("now"):(0,Yn.H)(this.delay)).pipe((0,X.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function Bn(n,i,t,a,r){var o=Array.isArray(t)?t:t.split(Wn),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=i.classList,d=function(C){var M=C.split("-"),x=M[0],T=M[1],O=[];return r&&(O.push(r+"-"+x),T&&O.push(r+"-"+x+"-"+T),O.forEach(function(I){l.add(I)})),O};r&&s.forEach(function(C){l.remove(r+"-"+C)});var c=o.findIndex(function(C){return"auto"===C});c>=0&&s.forEach(function(C){null==o.find(function(M){return-1!==M.search("^"+C)})&&o.splice(c++,1,C)});var m=i.style;m.position="absolute",m.top="0",m.left="0",m["will-change"]="transform";for(var p,w=!1,h=0,y=o;h<y.length;h++){var k=d(p=y[h]);if(Ot.positionElements(n,i,p,a)){w=!0;break}r&&k.forEach(function(C){l.remove(C)})}return w||(d(p=o[0]),Ot.positionElements(n,i,p,a)),p}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===t.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.zs3),e.Y36(e.Qsj),e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(g.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,a){1&t&&e.NdJ("mouseenter",function(){return a.onMouseOver()})("mouseleave",function(){return a.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[e.TTD]}),n})();var U=(()=>{return(n=U||(U={})).Month="month",n.Week="week",n.Day="day",U;var n})();const en=n=>function ea(n,i){var t=!0;function a(r,o){i(r,o),t=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||a(te.StartPropertyNotDate,r):a(te.StartPropertyMissing,r),r.end&&(r.end instanceof Date||a(te.EndPropertyNotDate,r),r.start>r.end&&a(te.EndsBeforeStart,r))}),t):(i(te.NotArray,n),!1)}(n,(...t)=>console.warn("angular-calendar",...t));function tn(n,i){return Math.floor(n.left)<=Math.ceil(i.left)&&Math.floor(i.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(i.right)&&Math.floor(i.right)<=Math.ceil(n.right)}function nn(n,i){return Math.round(n/i)*i}const an=(n,i)=>i.id?i.id:i,dt=(n,i)=>i.date.toISOString(),Gi=(n,i)=>i.date.toISOString(),Qi=(n,i)=>i.segments[0].date.toISOString(),ji=(n,i)=>i.event.id?i.event.id:i.event,Ki=(n,i)=>i.event.id?i.event.id:i.event;function ct(n,i,t,a,r){const o=nn(n,a||t),s=function er(n,i,t){return(t||60)/(n*i)}(i,t,r);return o*s}function rn(n,i,t){return i.end?i.end:n.addMinutes(i.start,t)}function J(n,i,t,a){let r=0,o=0;const s=t<0?n.subDays:n.addDays;let l=i;for(;o<=Math.abs(t);){l=s(i,r);const d=n.getDay(l);-1===a.indexOf(d)&&o++,r++}return l}function ut(n,i,t,a=[],r){let o=r?n.startOfDay(i):n.startOfWeek(i,{weekStartsOn:t});const s=n.endOfWeek(i,{weekStartsOn:t});for(;a.indexOf(n.getDay(o))>-1&&o<s;)o=n.addDays(o,1);if(r)return{viewStart:o,viewEnd:n.endOfDay(J(n,o,r-1,a))};{let l=s;for(;a.indexOf(n.getDay(l))>-1&&l>o;)l=n.subDays(l,1);return{viewStart:o,viewEnd:l}}}function mt({x:n,y:i}){return Math.abs(n)>1||Math.abs(i)>1}class ie{}let ar=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===U.Day?J(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===U.Week&&this.daysInWeek?J(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ie))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(t,a){1&t&&e.NdJ("click",function(){return a.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),ir=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===U.Day?J(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===U.Week&&this.daysInWeek?J(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ie))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(t,a){1&t&&e.NdJ("click",function(){return a.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),rr=(()=>{class n{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:a}){return(0,g.p6)(t,"EEEE",a)}monthViewDayNumber({date:t,locale:a}){return(0,g.p6)(t,"d",a)}monthViewTitle({date:t,locale:a}){return(0,g.p6)(t,"LLLL y",a)}weekViewColumnHeader({date:t,locale:a}){return(0,g.p6)(t,"EEEE",a)}weekViewColumnSubHeader({date:t,locale:a}){return(0,g.p6)(t,"MMM d",a)}weekViewTitle({date:t,locale:a,weekStartsOn:r,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:d}=ut(this.dateAdapter,t,r,o,s),c=(m,p)=>(0,g.p6)(m,"MMM d"+(p?", yyyy":""),a);return`${c(l,l.getUTCFullYear()!==d.getUTCFullYear())} - ${c(d,!0)}`}weekViewHour({date:t,locale:a}){return(0,g.p6)(t,"h a",a)}dayViewHour({date:t,locale:a}){return(0,g.p6)(t,"h a",a)}dayViewTitle({date:t,locale:a}){return(0,g.p6)(t,"EEEE, MMMM d, y",a)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ie))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n extends rr{}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n{constructor(t,a){this.dateFormatter=t,this.locale=a}transform(t,a,r=this.locale,o=0,s=[],l){if(typeof this.dateFormatter[a]>"u"){const d=Object.getOwnPropertyNames(Object.getPrototypeOf(Le.prototype)).filter(c=>"constructor"!==c);throw new Error(`${a} is not a valid date formatter. Can only be one of ${d.join(", ")}`)}return this.dateFormatter[a]({date:t,locale:r,weekStartsOn:o,excludeDays:s,daysInWeek:l})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Le,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarDate",type:n,pure:!0}),n})(),Ne=(()=>{class n{constructor(t){this.dateAdapter=t}getMonthView(t){return function jn(n,i){var t=i.events,a=void 0===t?[]:t,r=i.viewDate,o=i.weekStartsOn,s=i.excluded,l=void 0===s?[]:s,d=i.viewStart,c=void 0===d?n.startOfMonth(r):d,m=i.viewEnd,p=void 0===m?n.endOfMonth(r):m,w=i.weekendDays;a||(a=[]);for(var S,y=n.endOfWeek,k=n.differenceInDays,C=n.startOfDay,M=n.addHours,x=n.endOfDay,T=n.isSameMonth,O=n.getDay,L=(0,n.startOfWeek)(c,{weekStartsOn:o}),Z=y(p,{weekStartsOn:o}),Y=pe(n,{events:a,periodStart:L,periodEnd:Z}),E=[],_=function(Tt){var B;if(S?(B=C(M(S,24)),S.getTime()===B.getTime()&&(B=C(M(S,25))),S=B):B=S=L,!l.some(function(Mt){return O(B)===Mt})){var R=It(n,{date:B,weekendDays:w}),Ve=pe(n,{events:Y,periodStart:C(B),periodEnd:x(B)});R.inMonth=T(B,r),R.events=Ve,R.badgeTotal=Ve.length,E.push(R)}},f=0;f<k(Z,L)+1;f++)_();var P=[],H=7-l.length;if(H<7)for(f=0;f<E.length;f+=H){var ze=E.slice(f,f+H);ze.some(function(B){return c<=B.date&&B.date<p})&&(P=Et(P,ze))}else P=E;var Dt=Math.floor(P.length/H),Te=[];for(f=0;f<Dt;f++)Te.push(f*H);return{rowOffsets:Te,totalDaysVisibleInWeek:H,days:P,period:{start:P[0].date,end:x(P[P.length-1].date),events:Y}}}(this.dateAdapter,t)}getWeekViewHeader(t){return $e(this.dateAdapter,t)}getWeekView(t){return function Qn(n,i){var t=i.events,a=void 0===t?[]:t,r=i.viewDate,o=i.weekStartsOn,s=i.excluded,l=void 0===s?[]:s,d=i.precision,c=void 0===d?"days":d,m=i.absolutePositionedEvents,p=void 0!==m&&m,w=i.hourSegments,h=i.hourDuration,y=i.dayStart,k=i.dayEnd,C=i.weekendDays,M=i.segmentHeight,x=i.minimumEventHeight,T=i.viewStart,O=void 0===T?n.startOfWeek(r,{weekStartsOn:o}):T,I=i.viewEnd,L=void 0===I?n.endOfWeek(r,{weekStartsOn:o}):I;a||(a=[]);var Y=n.endOfDay,E=pe(n,{events:a,periodStart:O=(0,n.startOfDay)(O),periodEnd:L=Y(L)}),S=$e(n,{viewDate:r,weekStartsOn:o,excluded:l,weekendDays:C,viewStart:O,viewEnd:L});return{allDayEventRows:Jn(n,{events:E,excluded:l,precision:c,absolutePositionedEvents:p,viewStart:O,viewEnd:L}),period:{events:E,start:S[0].date,end:Y(S[S.length-1].date)},hourColumns:Gn(n,{events:a,viewDate:r,hourSegments:w,hourDuration:h,dayStart:y,dayEnd:k,weekStartsOn:o,excluded:l,weekendDays:C,segmentHeight:M,viewStart:O,viewEnd:L,minimumEventHeight:x})}}(this.dateAdapter,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ie))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();new e.OlP("Moment");var G=(()=>{return(n=G||(G={})).Drag="drag",n.Drop="drop",n.Resize="resize",G;var n})();let _e=(()=>{class n{static forRoot(t,a={}){return{ngModule:n,providers:[t,a.eventTitleFormatter||st,a.dateFormatter||Le,a.utils||Ne,a.a11y||He]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[g.Gx],imports:[[g.ez]]}),n})(),or=(()=>{class n{constructor(){this.columnHeaderClicked=new e.vpe,this.trackByWeekDayHeaderDate=dt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(t,a){if(1&t&&(e.YNc(0,Ba,2,2,"ng-template",null,0,e.W1O),e.YNc(2,za,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.kEZ(2,Va,a.days,a.locale,a.trackByWeekDayHeaderDate))}},dependencies:[g.sg,g.mk,g.tP,we],encapsulation:2}),n})(),sr=(()=>{class n{constructor(){this.highlightDay=new e.vpe,this.unhighlightDay=new e.vpe,this.eventClicked=new e.vpe,this.trackByEventId=an,this.validateDrag=mt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,a){2&t&&e.ekj("cal-past",a.day.isPast)("cal-today",a.day.isToday)("cal-future",a.day.isFuture)("cal-weekend",a.day.isWeekend)("cal-in-month",a.day.inMonth)("cal-out-month",!a.day.inMonth)("cal-has-events",a.day.events.length>0)("cal-open",a.day===a.openDay)("cal-event-highlight",!!a.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(t,a){if(1&t&&(e.YNc(0,Ga,8,14,"ng-template",null,0,e.W1O),e.YNc(2,Qa,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.rFY(2,ja,[a.day,a.openDay,a.locale,a.tooltipPlacement,a.highlightDay,a.unhighlightDay,a.eventClicked,a.tooltipTemplate,a.tooltipAppendToBody,a.tooltipDelay,a.trackByEventId,a.validateDrag]))}},dependencies:[g.O5,g.sg,Oe,g.PC,g.mk,lt,ne,g.tP,ae,we,Pe],encapsulation:2}),n})();const lr=(0,K.X$)("collapse",[(0,K.SB)("void",(0,K.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,K.SB)("*",(0,K.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,K.eR)("* => void",(0,K.jt)("150ms ease-out")),(0,K.eR)("void => *",(0,K.jt)("150ms ease-in"))]);let dr=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new e.vpe,this.trackByEventId=an,this.validateDrag=mt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(t,a){if(1&t&&(e.YNc(0,ti,1,1,"ng-template",null,0,e.W1O),e.YNc(2,ni,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.qbA(2,ai,a.events,a.eventClicked,a.isOpen,a.trackByEventId,a.validateDrag))}},dependencies:[Xt,Kt,g.O5,g.sg,Oe,g.mk,g.PC,ne,ye,g.tP,ae],encapsulation:2,data:{animation:[lr]}}),n})(),cr=(()=>{class n{constructor(t,a,r,o){this.cdr=t,this.utils=a,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new e.vpe,this.dayClicked=new e.vpe,this.eventClicked=new e.vpe,this.columnHeaderClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.trackByRowOffset=(s,l)=>this.view.days.slice(l,this.view.totalDaysVisibleInWeek).map(d=>d.date.toISOString()).join("-"),this.trackByDate=(s,l)=>l.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const a=t.viewDate||t.excludeDays||t.weekendDays,r=t.viewDate||t.events||t.excludeDays||t.weekendDays;a&&this.refreshHeader(),t.events&&en(this.events),r&&this.refreshBody(),(a||r)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,a){this.view.days.forEach(r=>{a&&r.events.indexOf(t)>-1?r.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(t,a,r){if(t!==r){const o=this.dateAdapter.getYear(t.date),s=this.dateAdapter.getMonth(t.date),l=this.dateAdapter.getDate(t.date),d=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(a.start,o),s),l);let c;if(a.end){const m=this.dateAdapter.differenceInSeconds(d,a.start);c=this.dateAdapter.addSeconds(a.end,m)}this.eventTimesChanged.emit({event:a,newStart:d,newEnd:c,day:t,type:G.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,t));const a=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(a/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(Ne),e.Y36(e.soG),e.Y36(ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[e.TTD],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-month-view-header",1),e.NdJ("columnHeaderClicked",function(o){return a.columnHeaderClicked.emit(o)}),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,ri,5,13,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("days",a.columnHeaders)("locale",a.locale)("customTemplate",a.headerTemplate),e.xp6(2),e.Q6J("ngForOf",a.view.rowOffsets)("ngForTrackBy",a.trackByRowOffset))},dependencies:[or,sr,dr,g.sg,Ee,g.mk,g.PC,ne,ye,ae,g.OU],encapsulation:2}),n})(),on=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,Ae,_e],Ae]}),n})();class ur{constructor(i,t){this.dragContainerElement=i,this.startPosition=t.getBoundingClientRect()}validateDrag({x:i,y:t,snapDraggedEvents:a,dragAlreadyMoved:r,transform:o}){const s=mt({x:i,y:t})||r;if(a){const l=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(s){const d=this.dragContainerElement.getBoundingClientRect(),c=d.top<l.top&&l.top<d.bottom,m=d.top<l.bottom&&l.bottom<d.bottom;return tn(d,l)&&(c||m)}return!1}return s}}class mr{constructor(i,t,a){this.resizeContainerElement=i,this.minWidth=t,this.rtl=a}validateResize({rectangle:i,edges:t}){return this.rtl&&(typeof t.left<"u"?(i.left-=t.left,i.right+=t.left):typeof t.right<"u"&&(i.left+=t.right,i.right-=t.right),i.width=i.right-i.left),!(this.minWidth&&Math.ceil(i.width)<Math.ceil(this.minWidth))&&function Ji(n,i){return tn(n,i)&&function $i(n,i){return Math.floor(n.top)<=Math.ceil(i.top)&&Math.floor(i.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(i.bottom)&&Math.floor(i.bottom)<=Math.ceil(n.bottom)}(n,i)}(this.resizeContainerElement.getBoundingClientRect(),i)}}let pr=(()=>{class n{constructor(){this.dayHeaderClicked=new e.vpe,this.eventDropped=new e.vpe,this.dragEnter=new e.vpe,this.trackByWeekDayHeaderDate=dt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(t,a){if(1&t&&(e.YNc(0,si,2,2,"ng-template",null,0,e.W1O),e.YNc(2,li,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.HTZ(2,di,a.days,a.locale,a.dayHeaderClicked,a.eventDropped,a.dragEnter,a.trackByWeekDayHeaderDate))}},dependencies:[g.sg,Ee,g.mk,ne,g.tP,we],encapsulation:2}),n})(),hr=(()=>{class n{constructor(){this.eventClicked=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(t,a){if(1&t&&(e.YNc(0,ui,6,26,"ng-template",null,0,e.W1O),e.YNc(2,mi,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.rFY(2,pi,[a.weekEvent,a.tooltipPlacement,a.eventClicked,a.tooltipTemplate,a.tooltipAppendToBody,a.tooltipDisabled,a.tooltipDelay,a.column,a.daysInWeek]))}},dependencies:[Kt,Xt,g.PC,lt,ne,ye,g.tP,Pe,ae],encapsulation:2}),n})(),gr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(t,a){if(1&t&&(e.YNc(0,gi,3,13,"ng-template",null,0,e.W1O),e.YNc(2,fi,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.qbA(2,vi,a.segment,a.locale,a.segmentHeight,a.isTimeLabel,a.daysInWeek))}},dependencies:[g.mk,g.O5,g.tP,ae,we],encapsulation:2}),n})(),fr=(()=>{class n{constructor(t,a){this.dateAdapter=t,this.zone=a,this.columnDate$=new Hn.X(void 0),this.marker$=this.zone.onStable.pipe((0,Re.w)(()=>function Ln(n=0,i=St.P){return(!(0,Pn.k)(n)||n<0)&&(n=0),(!i||"function"!=typeof i.schedule)&&(i=St.P),new se.y(t=>(t.add(i.schedule(Nn,n,{subscriber:t,counter:0,period:n})),t))}(6e4)),(0,xt.O)(0),function Zn(n,i){return i?(0,Re.w)(()=>n,i):(0,Re.w)(()=>n)}(this.columnDate$),(0,W.U)(r=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),d=new Date;return{isVisible:this.dateAdapter.isSameDay(r,d)&&d>=o&&d<=s,top:this.dateAdapter.differenceInMinutes(d,o)*l}}))}ngOnChanges(t){t.columnDate&&this.columnDate$.next(t.columnDate.currentValue)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ie),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[e.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(t,a){if(1&t&&(e.YNc(0,wi,1,1,"ng-template",null,0,e.W1O),e.YNc(2,_i,0,0,"ng-template",1),e.ALo(3,"async"),e.ALo(4,"async")),2&t){const r=e.MAs(1);let o;e.xp6(2),e.Q6J("ngTemplateOutlet",a.customTemplate||r)("ngTemplateOutletContext",e.Hh0(6,Ci,a.columnDate,a.dayStartHour,a.dayStartMinute,a.dayEndHour,a.dayEndMinute,null==(o=e.lcZ(3,2,a.marker$))?null:o.isVisible,null==(o=e.lcZ(4,4,a.marker$))?null:o.top))}},dependencies:[g.O5,g.tP,g.Ov],encapsulation:2}),n})(),sn=(()=>{class n{constructor(t,a,r,o,s){this.cdr=t,this.utils=a,this.dateAdapter=o,this.element=s,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new e.vpe,this.eventClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe,this.hourSegmentClicked=new e.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=dt,this.trackByHourSegment=Gi,this.trackByHour=Qi,this.trackByWeekAllDayEvent=ji,this.trackByWeekTimeEvent=Ki,this.trackByHourColumn=(l,d)=>d.hours[0]?d.hours[0].segments[0].date.toISOString():d,this.trackById=(l,d)=>d.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const a=t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek||t.weekStartsOn,r=t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.hourDuration||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek||t.minimumEventHeight;a&&this.refreshHeader(),t.events&&en(this.events),r&&this.refreshBody(),(a||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(t,a,r){this.timeEventResizes.set(a.event,r),this.resizeStarted(t,a)}timeEventResizing(t,a){this.timeEventResizes.set(t.event,a);const r=new Map,o=[...this.events];this.timeEventResizes.forEach((s,l)=>{const d=this.getTimeEventResizedDates(l,s),c=Object.assign(Object.assign({},l),d);r.set(c,l);const m=o.indexOf(l);o[m]=c}),this.restoreOriginalEvents(o,r,!0)}timeEventResizeEnded(t){this.view=this.getWeekView(this.events);const a=this.timeEventResizes.get(t.event);if(a){this.timeEventResizes.delete(t.event);const r=this.getTimeEventResizedDates(t.event,a);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:t.event,type:G.Resize})}}allDayEventResizeStarted(t,a,r){this.allDayEventResizes.set(a,{originalOffset:a.offset,originalSpan:a.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(t,a,this.getDayColumnWidth(t))}allDayEventResizing(t,a,r){const o=this.allDayEventResizes.get(t),s=this.rtl?-1:1;if(typeof a.edges.left<"u"){const l=Math.round(+a.edges.left/r)*s;t.offset=o.originalOffset+l,t.span=o.originalSpan-l}else if(typeof a.edges.right<"u"){const l=Math.round(+a.edges.right/r)*s;t.span=o.originalSpan+l}}allDayEventResizeEnded(t){const a=this.allDayEventResizes.get(t);if(a){const r="left"===a.edge;let o;o=r?t.offset-a.originalOffset:t.span-a.originalSpan,t.offset=a.originalOffset,t.span=a.originalSpan;const s=this.getAllDayEventResizedDates(t.event,o,r);this.eventTimesChanged.emit({newStart:s.start,newEnd:s.end,event:t.event,type:G.Resize}),this.allDayEventResizes.delete(t)}}getDayColumnWidth(t){return Math.floor(t.offsetWidth/this.days.length)}dateDragEnter(t){this.lastDragEnterDate=t}eventDropped(t,a,r){(function nr(n,i,t,a){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==a||n.dropData.event.allDay&&!t||!n.dropData.event.allDay&&t)})(t,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===a.getTime()&&(!this.snapDraggedEvents||t.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:G.Drop,event:t.dropData.event,newStart:a,allDay:r}),this.lastDraggedEvent=null}dragEnter(t){this.eventDragEnterByType[t]++}dragLeave(t){this.eventDragEnterByType[t]--}dragStarted(t,a,r,o){this.dayColumnWidth=this.getDayColumnWidth(t);const s=new ur(t,a);this.validateDrag=({x:l,y:d,transform:c})=>{const m=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&s.validateDrag({x:l,y:d,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:c});if(m&&this.validateEventTimesChanged){const p=this.getDragMovedEventTimes(r,{x:l,y:d},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:G.Drag,event:r.event,newStart:p.start,newEnd:p.end})}return m},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(l=>{const d=l.events.find(c=>c.event===r.event&&c!==r);d&&(d.width=0,d.height=0)}),this.cdr.markForCheck()}dragMove(t,a){const r=this.getDragMovedEventTimes(t,a,this.dayColumnWidth,!0),o=t.event,s=Object.assign(Object.assign({},o),r),l=this.events.map(d=>d===o?s:d);this.restoreOriginalEvents(l,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(t,a,r,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:l}=this.getDragMovedEventTimes(t,a,r,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function tr(n,i,t){const a=i||n;return t.start<=n&&n<=t.end||t.start<=a&&a<=t.end}(s,l,this.view.period)&&(this.lastDraggedEvent=t.event,this.eventTimesChanged.emit({newStart:s,newEnd:l,event:t.event,type:G.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},ut(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(t){return this.utils.getWeekView(Object.assign({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},ut(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(t,a,r,o){const s=nn(a.x,r)/r*(this.rtl?-1:1),l=o?ct(a.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,d=this.dateAdapter.addMinutes(J(this.dateAdapter,t.event.start,s,this.excludeDays),l);let c;return t.event.end&&(c=this.dateAdapter.addMinutes(J(this.dateAdapter,t.event.end,s,this.excludeDays),l)),{start:d,end:c}}restoreOriginalEvents(t,a,r=!0){const o=this.view;r&&(this.view=this.getWeekView(t));const s=t.filter(l=>a.has(l));this.view.hourColumns.forEach((l,d)=>{o.hourColumns[d].hours.forEach((c,m)=>{c.segments.forEach((p,w)=>{l.hours[m].segments[w].cssClass=p.cssClass})}),s.forEach(c=>{const m=a.get(c),p=l.events.find(w=>w.event===(r?c:m));p?(p.event=m,p.tempEvent=c,r||(p.height=0,p.width=0)):l.events.push({event:m,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:c})})}),a.clear()}getTimeEventResizedDates(t,a){const r={start:t.start,end:rn(this.dateAdapter,t,this.minimumEventHeight)},s=(0,rt._T)(t,["end"]),l={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:rn(this.dateAdapter,s,this.minimumEventHeight)},d=this.rtl?-1:1;if(typeof a.edges.left<"u"){const c=Math.round(+a.edges.left/this.dayColumnWidth)*d,m=J(this.dateAdapter,r.start,c,this.excludeDays);r.start=m<l.start?m:l.start}else if(typeof a.edges.right<"u"){const c=Math.round(+a.edges.right/this.dayColumnWidth)*d,m=J(this.dateAdapter,r.end,c,this.excludeDays);r.end=m>l.end?m:l.end}if(typeof a.edges.top<"u"){const c=ct(a.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),m=this.dateAdapter.addMinutes(r.start,c);r.start=m<l.start?m:l.start}else if(typeof a.edges.bottom<"u"){const c=ct(a.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),m=this.dateAdapter.addMinutes(r.end,c);r.end=m>l.end?m:l.end}return r}resizeStarted(t,a,r){this.dayColumnWidth=this.getDayColumnWidth(t);const o=new mr(t,r,this.rtl);this.validateResize=({rectangle:s,edges:l})=>{const d=o.validateResize({rectangle:Object.assign({},s),edges:l});if(d&&this.validateEventTimesChanged){let c;if(r){const m=this.rtl?-1:1;if(typeof l.left<"u"){const p=Math.round(+l.left/r)*m;c=this.getAllDayEventResizedDates(a.event,p,!this.rtl)}else{const p=Math.round(+l.right/r)*m;c=this.getAllDayEventResizedDates(a.event,p,this.rtl)}}else c=this.getTimeEventResizedDates(a.event,{rectangle:s,edges:l});return this.validateEventTimesChanged({type:G.Resize,event:a.event,newStart:c.start,newEnd:c.end})}return d},this.cdr.markForCheck()}getAllDayEventResizedDates(t,a,r){let o=t.start,s=t.end||t.start;return r?o=J(this.dateAdapter,o,a,this.excludeDays):s=J(this.dateAdapter,s,a,this.excludeDays),{start:o,end:s}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(Ne),e.Y36(e.soG),e.Y36(ie),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[e.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-week-view-header",1),e.NdJ("dayHeaderClicked",function(o){return a.dayHeaderClicked.emit(o)})("eventDropped",function(o){return a.eventDropped({dropData:o},o.newStart,!0)})("dragEnter",function(o){return a.dateDragEnter(o.date)}),e.qZA(),e.YNc(2,Ai,6,5,"div",2),e.TgZ(3,"div",3),e.NdJ("dragEnter",function(){return a.dragEnter("time")})("dragLeave",function(){return a.dragLeave("time")}),e.YNc(4,Hi,2,2,"div",4),e.TgZ(5,"div",5,6),e.YNc(7,Ui,5,13,"div",7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("days",a.days)("locale",a.locale)("customTemplate",a.headerTemplate),e.xp6(1),e.Q6J("ngIf",a.view.allDayEventRows.length>0),e.xp6(2),e.Q6J("ngIf",a.view.hourColumns.length>0&&1!==a.daysInWeek),e.xp6(1),e.ekj("cal-resize-active",a.timeEventResizes.size>0),e.xp6(2),e.Q6J("ngForOf",a.view.hourColumns)("ngForTrackBy",a.trackByHourColumn))},dependencies:[pr,hr,gr,fr,g.O5,Ee,g.tP,g.sg,$t,Oe,g.mk,Sa,ne],encapsulation:2}),n})(),pt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,Jt,Ae,_e],Jt,Ae]}),n})(),vr=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new e.vpe,this.hourSegmentClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:26,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(t,a){1&t&&(e.TgZ(0,"mwl-calendar-week-view",0),e.NdJ("eventClicked",function(o){return a.eventClicked.emit(o)})("hourSegmentClicked",function(o){return a.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return a.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return a.beforeViewRender.emit(o)}),e.qZA()),2&t&&e.Q6J("daysInWeek",1)("viewDate",a.viewDate)("events",a.events)("hourSegments",a.hourSegments)("hourDuration",a.hourDuration)("hourSegmentHeight",a.hourSegmentHeight)("minimumEventHeight",a.minimumEventHeight)("dayStartHour",a.dayStartHour)("dayStartMinute",a.dayStartMinute)("dayEndHour",a.dayEndHour)("dayEndMinute",a.dayEndMinute)("refresh",a.refresh)("locale",a.locale)("eventSnapSize",a.eventSnapSize)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDelay",a.tooltipDelay)("hourSegmentTemplate",a.hourSegmentTemplate)("eventTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("snapDraggedEvents",a.snapDraggedEvents)("allDayEventsLabelTemplate",a.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",a.currentTimeMarkerTemplate)("validateEventTimesChanged",a.validateEventTimesChanged)},dependencies:[sn],encapsulation:2}),n})(),ln=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,_e,pt]]}),n})(),yr=(()=>{class n{static forRoot(t,a={}){return{ngModule:n,providers:[t,a.eventTitleFormatter||st,a.dateFormatter||Le,a.utils||Ne,a.a11y||He]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[_e,on,pt,ln],_e,on,pt,ln]}),n})();function F(n){if(null===n||!0===n||!1===n)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}function Ze(n){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ze(n)}function b(n,i){if(i.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+i.length+" present")}function A(n){b(1,arguments);var i=Object.prototype.toString.call(n);return n instanceof Date||"object"===Ze(n)&&"[object Date]"===i?new Date(n.getTime()):"number"==typeof n||"[object Number]"===i?new Date(n):(("string"==typeof n||"[object String]"===i)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function ht(n,i){b(2,arguments);var t=A(n),a=F(i);return t.setHours(a),t}function gt(n,i){b(2,arguments);var t=A(n),a=F(i);return t.setMinutes(a),t}var v=D(5439),dn=D(2340),V=D(4465),N=D(7266),cn=D(7154),un=D(349),wr=D(6270),mn=D(9080),pn=D(7185),Fe=D(9383),ft=D(1377),vt=D(5498),hn=D(3274),_r=D(2615);function Cr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-day-view",35),e.NdJ("eventClicked",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEvent("dayView",r.event))})("hourSegmentClicked",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.hourSegmentClicked(r))}),e.qZA()}if(2&n){const t=e.oxw(),a=e.MAs(43),r=e.MAs(41),o=e.MAs(47);e.Q6J("viewDate",t.viewDate)("locale",t.locale)("hourDuration",30)("dayStartHour",0)("dayStartMinute",0)("dayEndHour",23)("dayEndMinute",59)("hourSegmentHeight",100)("hourSegments",1)("currentTimeMarkerTemplate",a)("hourSegmentTemplate",r)("events",t.events)("eventTemplate",o)("refresh",t.refresh)}}function Dr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view",36),e.NdJ("eventClicked",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEvent("weekView",r.event))})("hourSegmentClicked",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.hourSegmentClicked(r))})("dayHeaderClicked",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.dayClicked("weekView",r.day))}),e.qZA()}if(2&n){const t=e.oxw(),a=e.MAs(51),r=e.MAs(41),o=e.MAs(45),s=e.MAs(49);e.Q6J("viewDate",t.viewDate)("locale",t.locale)("weekStartsOn",1)("events",t.events)("hourDuration",30)("dayStartHour",0)("dayStartMinute",0)("dayEndHour",23)("dayEndMinute",59)("hourSegmentHeight",100)("hourSegments",1)("headerTemplate",a)("hourSegmentTemplate",r)("currentTimeMarkerTemplate",o)("eventTemplate",s)("refresh",t.refresh)}}function Tr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-view",37),e.NdJ("dayClicked",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.dayClicked("monthView",r.day))})("eventClicked",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.handleEvent("monthView",r.event))}),e.qZA()}if(2&n){const t=e.oxw(),a=e.MAs(53),r=e.MAs(55);e.Q6J("viewDate",t.viewDate)("locale",t.locale)("weekStartsOn",1)("events",t.events)("headerTemplate",a)("cellTemplate",r)("refresh",t.refresh)}}function Mr(n,i){if(1&n&&(e.TgZ(0,"div",40)(1,"span"),e._uU(2),e.ALo(3,"date"),e.ALo(4,"translate"),e.ALo(5,"date"),e.qZA(),e._UZ(6,"div",41),e.qZA()),2&n){const t=e.oxw().segment;e.xp6(2),e.AsE("",e.xi3(3,2,t.displayDate,"hh:mm"),"",e.lcZ(4,5,e.xi3(5,7,t.displayDate,"a")),"")}}const gn=function(){return{}};function kr(n,i){if(1&n&&(e.TgZ(0,"div",38),e.ALo(1,"calendarA11y"),e.YNc(2,Mr,7,10,"div",39),e.qZA()),2&n){const t=i.segment,a=i.segmentHeight,r=i.isTimeLabel,o=i.daysInWeek,s=e.oxw();e.Udp("height",a,"px"),e.ekj("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart)("dayOff",s.checkIfDayOff(t.date)),e.Q6J("ngClass",t.cssClass),e.uIk("aria-hidden",e.xi3(1,11,e.DdM(14,gn),1===o?"hideDayHourSegment":"hideWeekHourSegment")),e.xp6(2),e.Q6J("ngIf",r)}}function br(n,i){if(1&n&&(e.TgZ(0,"div",43),e._UZ(1,"div",44),e.qZA()),2&n){const t=e.oxw().topPx;e.Udp("top",t,"px")}}function Sr(n,i){1&n&&e.YNc(0,br,2,2,"div",42),2&n&&e.Q6J("ngIf",i.isVisible)}function xr(n,i){if(1&n&&(e.TgZ(0,"div",46),e._UZ(1,"div",44),e.qZA()),2&n){const t=e.oxw().topPx;e.Udp("top",t,"px")}}function Or(n,i){1&n&&e.YNc(0,xr,2,2,"div",45),2&n&&e.Q6J("ngIf",i.isVisible)}const fn=function(n,i){return{backgroundColor:n,borderColor:i}},vn=function(n,i){return{event:n,locale:i}};function Er(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",47),e.NdJ("mwlClick",function(r){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:r}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e.TgZ(3,"div",48)(4,"div",49),e._UZ(5,"img",50),e.TgZ(6,"div",51)(7,"h6",6),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p",6),e._uU(11),e.ALo(12,"date"),e.ALo(13,"translate"),e.ALo(14,"lowercase"),e.ALo(15,"date"),e.ALo(16,"date"),e.ALo(17,"translate"),e.ALo(18,"lowercase"),e.ALo(19,"date"),e.qZA()()(),e.TgZ(20,"div",49),e._UZ(21,"img",52),e.TgZ(22,"div",51)(23,"h6",6),e._uU(24),e.ALo(25,"noValue"),e.ALo(26,"translate"),e.ALo(27,"noValue"),e.ALo(28,"translate"),e.ALo(29,"translate"),e.ALo(30,"noValue"),e.qZA(),e.TgZ(31,"p",6),e._uU(32),e.ALo(33,"translate"),e.qZA()()(),e.TgZ(34,"div",49),e._UZ(35,"img",52),e.TgZ(36,"div",51)(37,"h6",6),e._uU(38),e.ALo(39,"noValue"),e.ALo(40,"translate"),e.ALo(41,"noValue"),e.ALo(42,"translate"),e.ALo(43,"translate"),e.ALo(44,"noValue"),e.qZA(),e.TgZ(45,"p",6),e._uU(46),e.ALo(47,"translate"),e.qZA()()()()()}if(2&n){const t=i.weekEvent,a=i.tooltipPlacement,r=i.tooltipTemplate,o=i.tooltipAppendToBody,s=i.tooltipDisabled,l=i.tooltipDelay,d=i.daysInWeek,c=e.oxw();e.Q6J("ngStyle",e.WLB(86,fn,null==t.event.color?null:t.event.color.secondary,null==t.event.color?null:t.event.color.primary))("mwlCalendarTooltip",s?"":e.Dn7(1,23,t.event.title,1===d?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",a)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",r)("tooltipAppendToBody",o)("tooltipDelay",l),e.uIk("aria-label",e.xi3(2,27,e.WLB(89,vn,t.tempEvent||t.event,c.locale),"eventDescription")),e.xp6(8),e.Oqu(e.lcZ(9,30,(t.tempEvent||t.event).title)),e.xp6(3),e.HOy("",e.xi3(12,32,(t.tempEvent||t.event).start,"h:mm"),"",e.lcZ(13,35,e.lcZ(14,37,e.xi3(15,39,(t.tempEvent||t.event).start,"a")))," - ",e.xi3(16,42,(t.tempEvent||t.event).end,"h:mm"),"",e.lcZ(17,45,e.lcZ(18,47,e.xi3(19,49,(t.tempEvent||t.event).end,"a"))),""),e.xp6(10),e.Q6J("src",c.baseUrl+"/personimage/"+(t.tempEvent||t.event).meta.patientId,e.LSH),e.xp6(3),e.lnq("",e.xi3(25,52,null==(t.tempEvent||t.event).meta?null:(t.tempEvent||t.event).meta.patientName,e.lcZ(26,55,"NA"))," (",e.xi3(27,57,e.lcZ(28,60,null==(t.tempEvent||t.event).meta?null:(t.tempEvent||t.event).meta.patientGender),e.lcZ(29,62,"NA")),", ",e.xi3(30,64,null==(t.tempEvent||t.event).meta?null:(t.tempEvent||t.event).meta.patientAge,"0"),")"),e.xp6(8),e.Oqu(e.lcZ(33,67,"Patient")),e.xp6(3),e.Q6J("src",c.base+"/di/"+(t.tempEvent||t.event).meta.hwUUID+"_image.png",e.LSH),e.xp6(3),e.lnq("",e.xi3(39,69,null==(t.tempEvent||t.event).meta?null:(t.tempEvent||t.event).meta.hwName,e.lcZ(40,72,"NA"))," (",e.xi3(41,74,e.lcZ(42,77,null==(t.tempEvent||t.event).meta?null:(t.tempEvent||t.event).meta.hwGender),e.lcZ(43,79,"NA")),", ",e.xi3(44,81,null==(t.tempEvent||t.event).meta?null:(t.tempEvent||t.event).meta.hwAge,"0"),")"),e.xp6(8),e.Oqu(e.lcZ(47,84,"Health Worker"))}}function Ar(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",53),e.NdJ("mwlClick",function(r){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:r}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e.TgZ(3,"div",54)(4,"h6",6),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",6),e._uU(8),e.ALo(9,"date"),e.ALo(10,"translate"),e.ALo(11,"lowercase"),e.ALo(12,"date"),e.ALo(13,"date"),e.ALo(14,"translate"),e.ALo(15,"lowercase"),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"div",49),e._UZ(18,"img",52),e.TgZ(19,"div",51)(20,"h6",6),e._uU(21),e.ALo(22,"noValue"),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"h6",6),e._uU(25),e.ALo(26,"noValue"),e.ALo(27,"translate"),e.ALo(28,"translate"),e.ALo(29,"noValue"),e.qZA()()()()()}if(2&n){const t=i.weekEvent,a=i.tooltipPlacement,r=i.tooltipTemplate,o=i.tooltipAppendToBody,s=i.tooltipDisabled,l=i.tooltipDelay,d=i.daysInWeek,c=e.oxw();e.Q6J("ngStyle",e.WLB(61,fn,null==t.event.color?null:t.event.color.secondary,null==t.event.color?null:t.event.color.primary))("mwlCalendarTooltip",s?"":e.Dn7(1,17,t.event.title,1===d?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",a)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",r)("tooltipAppendToBody",o)("tooltipDelay",l),e.uIk("aria-label",e.xi3(2,21,e.WLB(64,vn,t.tempEvent||t.event,c.locale),"eventDescription")),e.xp6(5),e.Oqu(e.lcZ(6,24,(t.tempEvent||t.event).title)),e.xp6(3),e.HOy("",e.xi3(9,26,(t.tempEvent||t.event).start,"h:mm")," ",e.lcZ(10,29,e.lcZ(11,31,e.xi3(12,33,(t.tempEvent||t.event).start,"a")))," - ",e.xi3(13,36,(t.tempEvent||t.event).end,"h:mm"),"",e.lcZ(14,39,e.lcZ(15,41,e.xi3(16,43,(t.tempEvent||t.event).end,"a"))),""),e.xp6(10),e.Q6J("src",c.baseUrl+"/personimage/"+(t.tempEvent||t.event).meta.patientId,e.LSH),e.xp6(3),e.Oqu(e.xi3(22,46,null==(t.tempEvent||t.event).meta?null:(t.tempEvent||t.event).meta.patientName,e.lcZ(23,49,"NA"))),e.xp6(4),e.AsE("(",e.xi3(26,51,e.lcZ(27,54,null==(t.tempEvent||t.event).meta?null:(t.tempEvent||t.event).meta.patientGender),e.lcZ(28,56,"NA")),", ",e.xi3(29,58,null==(t.tempEvent||t.event).meta?null:(t.tempEvent||t.event).meta.patientAge,"0"),")")}}function Ir(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",57),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw().dayHeaderClicked;return e.KtG(l.emit({day:s,sourceEvent:r}))})("drop",function(r){const s=e.CHM(t).$implicit,l=e.oxw().eventDropped;return e.KtG(l.emit({event:r.dropData.event,newStart:s.date}))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw().dragEnter;return e.KtG(s.emit({date:o.date}))}),e._uU(1),e.ALo(2,"date"),e.ALo(3,"translate"),e.ALo(4,"uppercase"),e.ALo(5,"date"),e.qZA()}if(2&n){const t=i.$implicit,a=e.oxw(2);e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend)("dayOff",a.checkIfDayOff(t.date)),e.Q6J("ngClass",t.cssClass),e.xp6(1),e.AsE(" ",e.xi3(2,13,t.date,"d")," ",e.lcZ(3,16,e.lcZ(4,18,e.xi3(5,20,t.date,"EEE")))," ")}}function Yr(n,i){if(1&n&&(e.TgZ(0,"div",55),e.YNc(1,Ir,6,23,"div",56),e.qZA()),2&n){const t=i.days,a=i.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",a)}}function Hr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",60),e.NdJ("click",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.columnHeaderClicked.emit({isoDayNumber:s.day,sourceEvent:r}))}),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"uppercase"),e.ALo(4,"date"),e.qZA()}if(2&n){const t=i.$implicit;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(1),e.hij(" ",e.lcZ(2,10,e.lcZ(3,12,e.xi3(4,14,t.date,"EEE")))," ")}}function Pr(n,i){if(1&n&&(e.TgZ(0,"div",58),e.YNc(1,Hr,5,17,"div",59),e.qZA()),2&n){const t=i.days,a=i.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",a)}}function Lr(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"s")))}function Nr(n,i){if(1&n&&(e.TgZ(0,"div",70),e._uU(1),e.ALo(2,"translate"),e.YNc(3,Lr,3,3,"span",71),e.qZA()),2&n){const t=e.oxw(2).day,a=e.oxw();e.xp6(1),e.AsE("",a.getCount("Appointment",t.events)," ",e.lcZ(2,3,"Appointment"),""),e.xp6(2),e.Q6J("ngIf",a.getCount("Appointment",t.events)>1)}}function Zr(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"s")))}function Fr(n,i){if(1&n&&(e.TgZ(0,"div",70),e._uU(1),e.ALo(2,"translate"),e.YNc(3,Zr,3,3,"span",71),e.qZA()),2&n){const t=e.oxw(2).day,a=e.oxw();e.xp6(1),e.AsE("",a.getCount("Follow-up visit",t.events)," ",e.lcZ(2,3,"Follow-up visit"),""),e.xp6(2),e.Q6J("ngIf",a.getCount("Follow-up visit",t.events)>1)}}const Wr=function(n){return{backgroundColor:n}},Br=function(n,i){return{event:n,draggedFrom:i}},zr=function(n,i){return{x:n,y:i}},Vr=function(){return{delay:300,delta:30}};function Rr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",73),e.NdJ("mouseenter",function(){e.CHM(t);const r=e.oxw().$implicit,o=e.oxw(2).highlightDay;return e.KtG(o.emit({event:r}))})("mouseleave",function(){e.CHM(t);const r=e.oxw().$implicit,o=e.oxw(2).unhighlightDay;return e.KtG(o.emit({event:r}))})("mwlClick",function(r){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2).eventClicked;return e.KtG(s.emit({event:o,sourceEvent:r}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e._uU(3),e.ALo(4,"date"),e.ALo(5,"translate"),e.ALo(6,"lowercase"),e.ALo(7,"date"),e.ALo(8,"date"),e.ALo(9,"translate"),e.ALo(10,"lowercase"),e.ALo(11,"date"),e.qZA()}if(2&n){const t=e.oxw().$implicit,a=e.oxw(2),r=a.tooltipPlacement,o=a.tooltipTemplate,s=a.tooltipAppendToBody,l=a.tooltipDelay,d=a.day,c=a.validateDrag;e.ekj("cal-draggable",t.draggable),e.Q6J("ngStyle",e.VKq(46,Wr,null==t.color?null:t.color.primary))("ngClass",null==t?null:t.cssClass)("mwlCalendarTooltip",e.Dn7(1,19,t.title,"monthTooltip",t))("tooltipPlacement",r)("tooltipEvent",t)("tooltipTemplate",o)("tooltipAppendToBody",s)("tooltipDelay",l)("dropData",e.WLB(48,Br,t,d))("dragAxis",e.WLB(51,zr,t.draggable,t.draggable))("validateDrag",c)("touchStartLongPress",e.DdM(54,Vr)),e.uIk("aria-hidden",e.xi3(2,23,e.DdM(55,gn),"hideMonthCellEvents")),e.xp6(3),e.HOy(" ",e.xi3(4,26,t.start,"h:mm"),"",e.lcZ(5,29,e.lcZ(6,31,e.xi3(7,33,t.start,"a")))," - ",e.xi3(8,36,t.end,"h:mm")," ",e.lcZ(9,39,e.lcZ(10,41,e.xi3(11,43,t.end,"a")))," ")}}function Ur(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Rr,12,56,"div",72),e.BQk()),2&n){const t=i.index;e.xp6(1),e.Q6J("ngIf",t<2)}}function qr(n,i){if(1&n&&(e.TgZ(0,"div",74),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw(2).day;e.xp6(1),e.AsE(" ",t.events.length-2," ",e.lcZ(2,2,"more"),"... ")}}function $r(n,i){if(1&n&&(e.TgZ(0,"div",66),e.YNc(1,Nr,4,5,"div",67),e.YNc(2,Fr,4,5,"div",67),e.YNc(3,Ur,2,1,"ng-container",68),e.YNc(4,qr,3,4,"div",69),e.qZA()),2&n){const t=e.oxw(),a=t.day,r=t.trackByEventId,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.getCount("Appointment",a.events)),e.xp6(1),e.Q6J("ngIf",o.getCount("Follow-up visit",a.events)),e.xp6(1),e.Q6J("ngForOf",a.events)("ngForTrackBy",r),e.xp6(1),e.Q6J("ngIf",a.events.length>2)}}const Jr=function(n,i){return{day:n,locale:i}};function Gr(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",61),e.ALo(2,"calendarA11y"),e.TgZ(3,"span",62)(4,"span",63),e._uU(5),e.ALo(6,"calendarDate"),e.qZA()(),e.TgZ(7,"div",64),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.YNc(10,$r,5,5,"div",65),e.qZA()),2&n){const t=i.day,a=i.locale,r=e.oxw();e.ekj("dayOff",r.checkIfDayOff(t.date)),e.xp6(1),e.uIk("aria-label",e.xi3(2,6,e.WLB(15,Jr,t,a),"monthCell")),e.xp6(4),e.Oqu(e.Dn7(6,9,t.date,"monthViewDayNumber",a)),e.xp6(3),e.hij(" ",e.lcZ(9,13,"Day Off")," "),e.xp6(2),e.Q6J("ngIf",t.events.length>0)}}let Qr=(()=>{class n{constructor(t,a,r,o,s,l,d){this.pageTitleService=t,this.appointmentService=a,this.visitService=r,this.coreService=o,this.router=s,this.toastr=l,this.translateService=d,this.viewDate=new Date,this.view=U.Day,this.CalendarView=U,this.events=[],this.baseUrl=dn.N.baseURL,this.base=dn.N.base,this.fetchedYears=[],this.fetchedMonths=[],this.daysOff=[],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.refresh=new z.xQ}ngOnInit(){this.translateService.use((0,V.TL)(!1,N.Mj.SELECTED_LANGUAGE)),this.pageTitleService.setTitle({title:"",imgUrl:"assets/svgs/menu-calendar-circle.svg"}),this.user=(0,V.TL)(!0,N.On.USER),this.provider=(0,V.TL)(!0,N.On.PROVIDER),this.fetchedYears.push((new Date).getFullYear()),this.fetchedMonths.push(`${v(new Date).format("MMMM")} ${v(new Date).format("YYYY")}`),this.getFollowUpVisit(),this.getAppointments(v().startOf("year").format("DD/MM/YYYY"),v().endOf("year").format("DD/MM/YYYY")),this.getSchedule()}dateChanged(t){-1==this.fetchedYears.indexOf(t.getFullYear())&&(this.fetchedYears.push(t.getFullYear()),this.getAppointments(v(t).startOf("year").format("DD/MM/YYYY"),v(t).endOf("year").format("DD/MM/YYYY"))),-1==this.fetchedMonths.indexOf(`${v(t).format("MMMM")} ${v(t).format("YYYY")}`)&&(this.fetchedMonths.push(`${v(t).format("MMMM")} ${v(t).format("YYYY")}`),this.getSchedule(v(t).format("YYYY"),v(t).format("MMMM")))}getAppointments(t,a){this.appointmentService.getUserSlots((0,V.TL)(!0,N.On.USER).uuid,t,a).subscribe(r=>{r.data.forEach(s=>{"booked"==s.status&&("Awaiting Consult"==s.visitStatus||"Visit In Progress"==s.visitStatus)&&s.visit&&(this.events.find(l=>l.id==s.visitUuid&&"Appointment"==l.title&&l.meta?.id==s.id)||this.events.push({id:s.visitUuid,title:"Appointment",start:v(s.slotJsDate).toDate(),end:v(s.slotJsDate).add(s.slotDuration,s.slotDurationUnit).toDate(),meta:s}))}),setTimeout(()=>{this.refresh.next()},500)})}getSchedule(t=v(new Date).format("YYYY"),a=v(new Date).format("MMMM")){this.appointmentService.getUserAppoitment(this.userId,t,a).subscribe({next:r=>{r&&r.data?(r.data.daysOff||(r.data.daysOff=[]),this.daysOff.push(r.data)):this.daysOff.push({type:"month",month:a,year:t,daysOff:[],slotSchedule:[],startDate:v(`${a} ${t}`,"MMMM yyyy").startOf("month").add(1,"day").toISOString(),endDate:v(`${a} ${t}`,"MMMM yyyy").endOf("month").toISOString(),drName:this.drName,userUuid:this.userId,speciality:this.getSpeciality(),slotDays:""})}})}getFollowUpVisit(){this.appointmentService.getFollowUpVisit(this.providerId).subscribe({next:t=>{t&&t.forEach(r=>{this.visitService.fetchVisitDetails(r.visit_id).subscribe(o=>{let s=r.followup_text.includes("Time:")?v(r.followup_text.split(", Time: ")[0]).format("YYYY-MM-DD"):v(r.followup_text.split(", Remark: ")[0]).format("YYYY-MM-DD"),l=r.followup_text.includes("Time:")?r.followup_text.split(", Time: ")[1].split(", Remark: ")[0]:null,d=l?v(s+" "+l,"YYYY-MM-DD hh:mm a").toDate():ht(gt(new Date(s),0),9),c=l?v(s+" "+l,"YYYY-MM-DD hh:mm a").add(30,"minutes").toDate():ht(gt(new Date(s),30),9);if(v(d).isValid()&&v(c).isValid()){let m=this.getHW(o.encounters);this.events.push({id:o.uuid,title:"Follow-up visit",start:d,end:c,meta:{createdAt:this.getCreatedAtTime(o.encounters),drName:this.provider?.person.display,hwAge:m.hwAge,hwGender:m.hwGender,hwName:m.hwName,hwPic:null,hwUUID:m.hwProviderUuid,openMrsId:o.patient.identifiers[0].identifier,patientAge:o.patient.person.age,patientGender:o.patient.person.gender,patientId:o.patient.uuid,patientName:o.patient.person.display,patientPic:null,slotDate:v(s).format("DD/MM/YYYY"),slotDay:v(s).format("dddd"),slotDuration:30,slotDurationUnit:"minutes",slotJsDate:v(d).utc().format(),slotTime:l||"9:00 AM",type:"follow-up visit",userUuid:this.user.uuid,visitUuid:o.uuid,visit_info:o}})}})})}})}getCreatedAtTime(t){let a="";return t.forEach(r=>{null!==r.display.match(N.fj.VISIT_NOTE)&&(a=r.encounterDatetime)}),a}getHW(t){let a={hwName:null,hwAge:null,hwGender:null,hwProviderUuid:null};return t.forEach(r=>{null!==r.display.match(N.fj.ADULTINITIAL)&&(a.hwName=r.encounterProviders[0].provider.person.display,a.hwAge=r.encounterProviders[0].provider.person.age,a.hwGender=r.encounterProviders[0].provider.person.gender,a.hwProviderUuid=r.encounterProviders[0].provider.uuid)}),a}get providerId(){return(0,V.TL)(!0,N.On.PROVIDER).uuid}get userId(){return(0,V.TL)(!0,N.On.USER).uuid}get drName(){return(0,V.TL)(!0,N.On.USER)?.person?.display||(0,V.TL)(!0,N.On.USER)?.display}getSpeciality(){return(0,V.TL)(!0,N.On.PROVIDER).attributes.find(t=>t.display.includes(N.On.SPECIALIZATION)).value}onTabChanged(t){switch(t){case 0:this.setView(U.Day);break;case 1:this.setView(U.Week);break;case 2:this.setView(U.Month)}}setView(t){this.view=t}getCount(t,a){let r=0;return a.forEach(o=>{o.title==t&&r++}),r}dayClicked(t,a){if("monthView"==t){let r=this.daysOff.find(o=>o.month==this.monthNames[a.date.getMonth()]&&o.year==a.date.getFullYear().toString());if(r&&-1!=r.daysOff.indexOf(v(a.date).format("DD/MM/YYYY")))return void this.toastr.warning(this.translateService.instant("This day is already marked as Day Off"),this.translateService.instant("Already DayOff"));this.coreService.openAppointmentDetailMonthViewModal(a).subscribe(o=>{if(o)switch(o.markAs){case"dayOff":this.coreService.openConfirmDayOffModal(a.date).subscribe(s=>{if(s){let l={userUuid:this.userId,daysOff:r?r.daysOff.concat([v(a.date).format("DD/MM/YYYY")]):[v(a.date).format("DD/MM/YYYY")],month:this.monthNames[a.date.getMonth()],year:a.date.getFullYear().toString()};this.appointmentService.updateDaysOff(l).subscribe({next:d=>{if(d.status){let c=this.daysOff.findIndex(p=>p.month==this.monthNames[a.date.getMonth()]&&p.year==a.date.getFullYear().toString());-1!=c&&(this.daysOff[c].daysOff=this.daysOff[c].daysOff?this.daysOff[c].daysOff.concat(v(a.date).format("DD/MM/YYYY")):[v(a.date).format("DD/MM/YYYY")]),a.events.forEach(p=>{"Appointment"==p.title&&this.cancel(p.meta,!1)});let m=this.daysOff.find(p=>p.month==this.monthNames[a.date.getMonth()]&&p.year==a.date.getFullYear().toString());m?.slotSchedule.length&&(m.slotSchedule=m.slotSchedule.filter(p=>!v(a.date).isSame(v(p.date))),this.appointmentService.updateOrCreateAppointment(m).subscribe({next:p=>{p.status&&(this.daysOff[c]=m)}}))}}})}});break;case"hoursOff":this.coreService.openConfirmHoursOffModal({day:a.date,detail:o}).subscribe(s=>{s&&a.events.forEach(l=>{"Appointment"==l.title&&v(l.meta.slotTime,"LT").isBetween(v(o.from,"LT"),v(o.to,"LT"))&&this.cancel(l.meta,!1)})})}})}}handleEvent(t,a){("dayView"==t||"weekView"==t)&&this.coreService.openAppointmentDetailDayViewModal(a).subscribe(r=>{if(r)switch(r){case"view":this.router.navigate(["/dashboard/visit-summary",a.id]);break;case"reschedule":this.reschedule(a.meta);break;case"cancel":this.cancel(a.meta)}})}cancel(t,a=!0){a?this.coreService.openConfirmCancelAppointmentModal(t).subscribe(r=>{r&&(this.events.splice(this.events.findIndex(o=>o.id==t.visitUuid&&"Appointment"==o.title&&o.meta?.id==t.id),1),this.toastr.success(this.translateService.instant("The Appointment has been successfully canceled."),this.translateService.instant("Canceling successful")),setTimeout(()=>{this.refresh.next()},500))}):this.appointmentService.cancelAppointment({id:t.id,visitUuid:t.visitUuid,hwUUID:this.userId}).subscribe(o=>{o&&o.status&&(this.events.splice(this.events.findIndex(s=>s.id==t.visitUuid&&"Appointment"==s.title&&s.meta?.id==t.id),1),setTimeout(()=>{this.refresh.next()},500))})}reschedule(t){const a=t.visit.encounters.filter(o=>o.type.name.includes(N.fj.PATIENT_EXIT_SURVEY)||o.type.name.includes(N.fj.VISIT_COMPLETE)).length;Boolean(a)?this.toastr.error(this.translateService.instant("Visit is already completed, it can't be rescheduled."),this.translateService.instant("Rescheduling failed")):this.coreService.openRescheduleAppointmentModal(t).subscribe(o=>{if(o){let s=o;this.coreService.openRescheduleAppointmentConfirmModal({appointment:t,newSlot:s}).subscribe(l=>{l&&(t.appointmentId=t.id,t.slotDate=v(s.date,"YYYY-MM-DD").format("DD/MM/YYYY"),t.slotTime=s.slot,delete t.visit_info,this.appointmentService.rescheduleAppointment(t).subscribe(d=>{const c=d.message;d.status?(this.events.splice(this.events.findIndex(m=>m.id==t.visitUuid&&"Appointment"==m.title&&m.meta?.id==t.id),1),this.events.push({id:t.visitUuid,title:"Appointment",start:v(d.data.slotJsDate).toDate(),end:v(d.data.slotJsDate).add(d.data.slotDuration,d.data.slotDurationUnit).toDate(),meta:d.data}),this.toastr.success(this.translateService.instant("The appointment has been rescheduled successfully!"),this.translateService.instant("Rescheduling successful!"))):this.toastr.success(c,this.translateService.instant("Rescheduling failed!"))}))})}})}checkIfDayOff(t){let a=this.daysOff.find(r=>r.month==this.monthNames[t.getMonth()]&&r.year==t.getFullYear().toString());return!(!a||!a?.daysOff||-1==a.daysOff.indexOf(v(t).format("DD/MM/YYYY")))}get locale(){return(0,V.TL)(!1,N.Mj.SELECTED_LANGUAGE)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(cn.Z),e.Y36(un.H),e.Y36(wr.W),e.Y36(mn.p),e.Y36(ue.F0),e.Y36(pn._W),e.Y36(Fe.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-calendar"]],decls:56,vars:29,consts:[[1,"container-fluid"],[1,"row","setup-title-con"],[1,"col","p-0","pb-2"],[1,"title-con","d-flex","align-items-center"],["src","assets/svgs/menu-calendar-circle.svg","alt","",1,"mr-2"],[1,"d-flex","flex-column"],[1,"mb-0"],["mat-button","","routerLink","/calendar/setup-calendar","data-test-id","btnManageCal",1,"view-btn"],[1,"row"],[1,"col-md-12","p-0","pt-3"],[1,"intel-card"],[1,"col-md-6","p-0"],["mat-align-tabs","start",1,"calendar-tab-group",3,"disableRipple","selectedIndexChange"],["data-test-id","tabDaily",3,"label"],["data-test-id","tabWeekly",3,"label"],["data-test-id","tabMonthly",3,"label"],[1,"header-date-con"],["src","assets/svgs/calendar-white.svg","alt","",1,"mr-2"],[1,"mb-0","mr-2"],["mwlCalendarPreviousView","","data-test-id","btnCalPreviousView",1,"arrow-btn","mr-2",3,"view","viewDate","viewDateChange"],["src","assets/svgs/chevron-left.svg","alt","","width","100%"],["mwlCalendarNextView","","data-test-id","btnCalNextView",1,"arrow-btn",3,"view","viewDate","viewDateChange"],["src","assets/svgs/chevron-right.svg","alt","","width","100%"],[3,"ngSwitch"],["class","day-view-con",3,"viewDate","locale","hourDuration","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegmentHeight","hourSegments","currentTimeMarkerTemplate","hourSegmentTemplate","events","eventTemplate","refresh","eventClicked","hourSegmentClicked",4,"ngSwitchCase"],["class","week-view-con",3,"viewDate","locale","weekStartsOn","events","hourDuration","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegmentHeight","hourSegments","headerTemplate","hourSegmentTemplate","currentTimeMarkerTemplate","eventTemplate","refresh","eventClicked","hourSegmentClicked","dayHeaderClicked",4,"ngSwitchCase"],[3,"viewDate","locale","weekStartsOn","events","headerTemplate","cellTemplate","refresh","dayClicked","eventClicked",4,"ngSwitchCase"],["hourSegmentTemplate",""],["currentTimeMarkerTemplate",""],["currentTimeMarkerTemplate2",""],["eventTemplate",""],["eventTemplate2",""],["headerTemplate",""],["monthHeaderTemplate",""],["cellTemplate",""],[1,"day-view-con",3,"viewDate","locale","hourDuration","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegmentHeight","hourSegments","currentTimeMarkerTemplate","hourSegmentTemplate","events","eventTemplate","refresh","eventClicked","hourSegmentClicked"],[1,"week-view-con",3,"viewDate","locale","weekStartsOn","events","hourDuration","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegmentHeight","hourSegments","headerTemplate","hourSegmentTemplate","currentTimeMarkerTemplate","eventTemplate","refresh","eventClicked","hourSegmentClicked","dayHeaderClicked"],[3,"viewDate","locale","weekStartsOn","events","headerTemplate","cellTemplate","refresh","dayClicked","eventClicked"],[1,"cal-hour-segment-con",3,"ngClass"],["class","cal-time-con",4,"ngIf"],[1,"cal-time-con"],[1,"marker"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"],[1,"round"],["class","cal-current-time-marker-2",3,"top",4,"ngIf"],[1,"cal-current-time-marker-2"],["tabindex","0","role","application",1,"cal-event-con",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],["data-test-id","mwlCalDayView",1,"event-con"],[1,"con-item"],["src","assets/svgs/appointment.svg","alt","",1,"mr-2"],[1,"con-info"],["alt","",1,"mr-1",3,"src"],["tabindex","0","role","application",1,"cal-event-con-2",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],["data-test-id","mwlCalWeekView",1,"event-con"],["role","row",1,"cal-day-headers-con"],["class","cal-header-con","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","dayOff","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header-con",3,"ngClass","mwlClick","drop","dragEnter"],["role","row",1,"cal-cell-row-con","cal-header-con"],["class","cal-cell-con","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell-con",3,"ngClass","click"],["data-test-id","mwlCalMonthView",1,"cal-cell-top-con"],["aria-hidden","true"],[1,"cal-day-number-con"],[1,"day-off-con"],["class","cal-events-con",4,"ngIf"],[1,"cal-events-con"],["class","event-badge",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-event-con2",4,"ngIf"],[1,"event-badge"],[4,"ngIf"],["class","cal-event-con2","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngIf"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-con2",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"],[1,"cal-event-con2"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"div",5)(6,"h6",6),e._uU(7),e.ALo(8,"translate"),e.qZA()()()(),e.TgZ(9,"div",2)(10,"button",7),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",0)(17,"div",8)(18,"div",11)(19,"mat-tab-group",12),e.NdJ("selectedIndexChange",function(o){return a.onTabChanged(o)}),e._UZ(20,"mat-tab",13),e.ALo(21,"translate"),e._UZ(22,"mat-tab",14),e.ALo(23,"translate"),e._UZ(24,"mat-tab",15),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",11)(27,"div",16),e._UZ(28,"img",17),e.TgZ(29,"h6",18),e._uU(30),e.ALo(31,"calendarDate"),e.qZA(),e.TgZ(32,"button",19),e.NdJ("viewDateChange",function(o){return a.viewDate=o})("viewDateChange",function(o){return a.dateChanged(o)}),e._UZ(33,"img",20),e.qZA(),e.TgZ(34,"button",21),e.NdJ("viewDateChange",function(o){return a.viewDate=o})("viewDateChange",function(o){return a.dateChanged(o)}),e._UZ(35,"img",22),e.qZA()()()()(),e.TgZ(36,"div",23),e.YNc(37,Cr,1,14,"mwl-calendar-day-view",24),e.YNc(38,Dr,1,16,"mwl-calendar-week-view",25),e.YNc(39,Tr,1,7,"mwl-calendar-month-view",26),e.qZA(),e.YNc(40,kr,3,15,"ng-template",null,27,e.W1O),e.YNc(42,Sr,1,1,"ng-template",null,28,e.W1O),e.YNc(44,Or,1,1,"ng-template",null,29,e.W1O),e.YNc(46,Er,48,92,"ng-template",null,30,e.W1O),e.YNc(48,Ar,30,67,"ng-template",null,31,e.W1O),e.YNc(50,Yr,2,2,"ng-template",null,32,e.W1O),e.YNc(52,Pr,2,2,"ng-template",null,33,e.W1O),e.YNc(54,Gr,11,18,"ng-template",null,34,e.W1O),e.qZA()()()()),2&t&&(e.xp6(7),e.Oqu(e.lcZ(8,15,"Your calendar")),e.xp6(4),e.Oqu(e.lcZ(12,17,"Manage calendar")),e.xp6(8),e.Q6J("disableRipple",!0),e.xp6(1),e.s9C("label",e.lcZ(21,19,"Daily")),e.xp6(2),e.s9C("label",e.lcZ(23,21,"Weekly")),e.xp6(2),e.s9C("label",e.lcZ(25,23,"Monthly")),e.xp6(6),e.Oqu(e.Dn7(31,25,a.viewDate,a.view+"ViewTitle",a.locale)),e.xp6(2),e.Q6J("view",a.view)("viewDate",a.viewDate),e.xp6(2),e.Q6J("view",a.view)("viewDate",a.viewDate),e.xp6(2),e.Q6J("ngSwitch",a.view),e.xp6(1),e.Q6J("ngSwitchCase",a.CalendarView.Day),e.xp6(1),e.Q6J("ngSwitchCase",a.CalendarView.Week),e.xp6(1),e.Q6J("ngSwitchCase",a.CalendarView.Month))},dependencies:[g.mk,g.sg,g.O5,g.PC,g.RF,g.n9,ue.rH,ft.lW,lt,ar,ir,ne,ye,Oe,Ee,cr,sn,vr,vt.SP,vt.uX,hn.z,g.gd,g.i8,g.uU,we,Pe,ae,_r.U,Fe.X$],styles:[".setup-title-con[_ngcontent-%COMP%]   .title-con[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px}.setup-title-con[_ngcontent-%COMP%]   .title-con[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:var(--color-darkestBlue)}.setup-title-con[_ngcontent-%COMP%]   .title-con[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--color-gray)}.setup-title-con[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{text-decoration:none;background:var(--color-lightGray);border-radius:8px;height:44px;color:var(--color-darkBlue);font-weight:700;font-size:18px;float:right}.intel-card[_ngcontent-%COMP%]{overflow:hidden}  .calendar-tab-group.mat-tab-group{font-family:DM Sans}  .calendar-tab-group.mat-tab-group .mat-tab-body-wrapper .mat-tab-body .mat-tab-body-content{padding:0}  .calendar-tab-group.mat-tab-group .mat-tab-header{padding:24px 0 0;border-bottom:2px solid rgba(178,175,190,.2);box-shadow:none}  .calendar-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-ink-bar{background:var(--color-lightRed);border-radius:1px}  .calendar-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-tab-label{min-width:fit-content;opacity:1}  .calendar-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-tab-label .mat-tab-label-content{font-weight:700;font-size:16px;line-height:150%;color:var(--color-darkestBlue)}.header-date-con[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end;height:100%;padding:24px;border-bottom:2px solid rgba(178,175,190,.2)}.header-date-con[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--color-darkestBlue)}.header-date-con[_ngcontent-%COMP%]   .arrow-btn[_ngcontent-%COMP%]{width:24px;height:24px;background:none;border:none;outline:none;padding:0}.day-view-con[_ngcontent-%COMP%]     .cal-week-view{border-top:none;padding-top:24px;background:var(--color-offWhite)}.day-view-con[_ngcontent-%COMP%]     .cal-week-view .cal-events-container{margin-left:100px}.day-view-con[_ngcontent-%COMP%]     .cal-week-view .cal-time-events{border:none;background:var(--color-offWhite)}.week-view-con[_ngcontent-%COMP%]     .cal-week-view{border-top:none}.week-view-con[_ngcontent-%COMP%]     .cal-week-view .cal-time-label-column{width:100px}.week-view-con[_ngcontent-%COMP%]     .cal-week-view .cal-time-events{border:none;background:var(--color-offWhite)}.week-view-con[_ngcontent-%COMP%]     .cal-week-view .cal-time-events .cal-day-columns .cal-day-column:first-child{border-left:none}.cal-event-con[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.cal-event-con[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px;width:4px}.cal-event-con[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:2px}.cal-event-con[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:2px}.cal-event-con[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]{width:calc(100% - 10px);height:calc(100% - 5px);background:var(--color-white);box-shadow:0 4px 8px #1f1c3a0a;border-radius:8px;padding:16px;display:flex;flex-wrap:nowrap;overflow-x:auto;justify-content:space-between;align-items:center}.cal-event-con[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   .con-item[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;margin:0 5px}.cal-event-con[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   .con-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.cal-event-con[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   .con-item[_ngcontent-%COMP%]   .con-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cal-event-con[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   .con-item[_ngcontent-%COMP%]   .con-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--color-darkestBlue);font-size:16px;font-weight:700}.cal-event-con[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   .con-item[_ngcontent-%COMP%]   .con-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--color-gray)}.cal-hour-segment-con[_ngcontent-%COMP%]{background:var(--color-offWhite);border-top:1px solid rgba(178,175,190,.2)}.cal-hour-segment-con[_ngcontent-%COMP%]   .cal-time-con[_ngcontent-%COMP%]{position:relative;background:var(--color-white);font-weight:700;font-size:16px;line-height:150%;color:var(--color-gray);text-transform:lowercase;height:101%;width:98px}.cal-hour-segment-con[_ngcontent-%COMP%]   .cal-time-con[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:-13px;right:0;left:0;text-align:center;background:var(--color-white)}.cal-hour-segment-con[_ngcontent-%COMP%]   .cal-time-con[_ngcontent-%COMP%]   .marker[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;width:32px;height:0px;text-align:center;background:var(--color-white);border:1px solid rgba(178,175,190,.2);transform:translateY(-50%)}.cal-hour-segment-con.dayOff[_ngcontent-%COMP%]{background:#F0EFF7}.cal-current-time-marker[_ngcontent-%COMP%]{height:3px;background:var(--color-green);position:relative;margin-left:100px;width:calc(100% - 100px)}.cal-current-time-marker[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{position:absolute;width:15px;height:15px;background:var(--color-green);top:50%;left:0;transform:translateY(-50%);border-radius:50%}.cal-current-time-marker-2[_ngcontent-%COMP%]{height:3px;background:var(--color-green);position:absolute;width:100%}.cal-current-time-marker-2[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;background:var(--color-green);top:50%;left:0;transform:translateY(-50%);border-radius:50%}.cal-day-headers-con[_ngcontent-%COMP%]{display:flex;padding-left:100px;background:var(--color-white)}.cal-day-headers-con[_ngcontent-%COMP%]   .cal-header-con[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;flex:1;text-align:center;padding:10px 5px;font-weight:700;font-size:16px;line-height:150%;color:var(--color-gray)}.cal-day-headers-con[_ngcontent-%COMP%]   .cal-header-con.cal-today[_ngcontent-%COMP%]{background:#4B39B7!important;color:var(--color-white)!important}.cal-day-headers-con[_ngcontent-%COMP%]   .cal-header-con.dayOff[_ngcontent-%COMP%]{background:#F5F5F7}.cal-event-con-2[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.cal-event-con-2[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]{width:calc(100% - 2px);height:calc(100% - 2px);background:var(--color-white);box-shadow:0 4px 8px #1f1c3a0a;border-radius:8px;padding:10px 6px;display:flex;flex-wrap:nowrap;flex-direction:column;overflow:hidden;justify-content:center}.cal-event-con-2[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--color-darkBlue);font-size:14px;font-weight:700;overflow:hidden;white-space:nowrap;max-width:120px;text-overflow:ellipsis;width:100%}.cal-event-con-2[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:var(--color-gray);overflow:hidden;white-space:nowrap;max-width:120px;width:100%;text-overflow:ellipsis}.cal-event-con-2[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   .con-item[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;flex-wrap:nowrap;margin:5px 0}.cal-event-con-2[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   .con-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%}.cal-event-con-2[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   .con-item[_ngcontent-%COMP%]   .con-info[_ngcontent-%COMP%]{display:flex}.cal-event-con-2[_ngcontent-%COMP%]   .event-con[_ngcontent-%COMP%]   .con-item[_ngcontent-%COMP%]   .con-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--color-darkestBlue);max-width:80px}.cal-cell-row-con[_ngcontent-%COMP%]{display:flex;background:var(--color-white);text-align:center;font-weight:700;font-size:16px;color:var(--color-gray)}.cal-cell-row-con[_ngcontent-%COMP%]   .cal-cell-con[_ngcontent-%COMP%]{padding:10px 0;overflow:hidden;text-overflow:ellipsis;display:block;white-space:nowrap;float:left;flex:1}.cal-cell-row-con[_ngcontent-%COMP%]   .cal-cell-con.dayOff[_ngcontent-%COMP%]{background:#F5F5F7}.cal-cell-top-con[_ngcontent-%COMP%]{flex:1;min-height:150px;background:transparent;border-radius:8px}.cal-events-con[_ngcontent-%COMP%]{flex:1;justify-content:flex-end;line-height:10px;display:flex;flex-direction:column;flex-wrap:wrap;position:absolute;inset:38px 0 5px;pointer-events:none}.cal-events-con[_ngcontent-%COMP%]   .event-badge[_ngcontent-%COMP%]{font-size:14px;line-height:150%;font-weight:700;color:var(--color-darkBlue);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 5px;width:100%}.cal-events-con[_ngcontent-%COMP%]   .cal-event-con2[_ngcontent-%COMP%]{padding:0 5px;font-size:12px;line-height:150%;color:var(--color-gray);width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dayOff[_ngcontent-%COMP%]   .cal-cell-top-con[_ngcontent-%COMP%]{background:#F0EFF7}.dayOff[_ngcontent-%COMP%]   .cal-cell-top-con[_ngcontent-%COMP%]   .day-off-con[_ngcontent-%COMP%]{display:block}.day-off-con[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--color-lightGray);border-radius:4px;font-size:14px;line-height:150%;color:var(--color-darkestBlue);padding:4px 8px;display:none;box-shadow:8px 4px 8px #1f1c3a0a}  .cal-month-view .cal-day-cell.cal-has-events .day-off-con{top:20%;transform:translate(-50%,-20%)}  .cal-month-view .cal-cell{position:relative}  .cal-month-view .cal-day-number-con{padding:4px;border-radius:50%;background:var(--color-white);box-shadow:0 4px 8px #1f1c3a0a;font-size:14px;line-height:150%;font-weight:700;color:var(--color-darkestBlue);margin:5px;display:inline-block;width:30px;height:30px;text-align:center}  .cal-month-view .cal-day-cell.cal-has-events .cal-cell-top-con{background:var(--color-white)}  .cal-month-view .cal-day-cell.cal-has-events .cal-day-number-con{background:var(--color-lightGray)!important;color:var(--color-darkestBlue)!important}  .cal-month-view .cal-day-cell.cal-today .cal-cell-top-con{background:var(--color-lightGray)!important}  .cal-month-view .cal-day-cell.cal-out-month .cal-day-number-con{opacity:.56;cursor:default}  .cal-month-view .cal-day-cell.cal-today .cal-day-number-con{background:var(--color-darkBlue)!important;color:var(--color-white)!important}  .cal-month-view .cal-day-cell.cal-out-month .cal-events-con{opacity:.56;pointer-events:none}  .cal-month-view .cal-days{border:0;border-bottom:0;background:var(--color-offWhite)}  .cal-month-view .cal-day-cell.cal-weekend .cal-day-number-con{background:#F3F2F7;color:#7d7a92}@media (max-width: 768px){.header-date-con[_ngcontent-%COMP%]{justify-content:center}.day-view-con[_ngcontent-%COMP%]     .cal-week-view .cal-events-container{margin-left:70px}.week-view-con[_ngcontent-%COMP%]     .cal-week-view .cal-time-label-column{width:70px}.cal-hour-segment-con[_ngcontent-%COMP%]   .cal-time-con[_ngcontent-%COMP%]{width:70px;font-size:12px}.cal-current-time-marker[_ngcontent-%COMP%]{margin-left:70px;width:calc(100% - 70px)}.cal-current-time-marker[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{width:10px;height:10px}.cal-day-headers-con[_ngcontent-%COMP%]{padding-left:70px}.cal-day-headers-con[_ngcontent-%COMP%]   .cal-header-con[_ngcontent-%COMP%], .cal-cell-row-con[_ngcontent-%COMP%]{font-size:12px}  .cal-month-view .cal-day-number-con{padding:3px;font-size:12px;width:24px;height:24px}.day-off-con[_ngcontent-%COMP%]{font-size:8px}}"]}),n})();var yt=D(6201),u=D(4006),yn=D(1279),We=D(8796),Ce=D(5559);const jr=["picker3"];function Kr(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",52),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectMonth(o.name,o.year))}),e.TgZ(2,"span",53),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"mat-icon"),e._uU(7,"keyboard_arrow_right"),e.qZA()(),e.BQk()}if(2&n){const t=i.$implicit,a=e.oxw();e.xp6(1),e.ekj("selected",a.selectedMonth&&a.selectedMonth.name==t.name),e.xp6(2),e.AsE("",e.lcZ(4,4,t.name)," ",e.lcZ(5,6,t.year),"")}}function Xr(n,i){1&n&&(e._uU(0),e.ALo(1,"translate")),2&n&&e.hij(" ",e.lcZ(1,1,i.item.shortName),", ")}function eo(n,i){if(1&n&&(e.TgZ(0,"div",66),e._UZ(1,"input",67),e.TgZ(2,"div",68),e._UZ(3,"img",69),e.TgZ(4,"label"),e._uU(5),e.ALo(6,"translate"),e.qZA()()()),2&n){const t=i.item,a=i.item$;e.xp6(1),e.Q6J("checked",a.selected),e.xp6(4),e.Oqu(e.lcZ(6,2,t.name))}}function to(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",56),e._UZ(3,"ng-select",57)(4,"ng-select",58),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"td")(7,"div",56),e._UZ(8,"ng-select",59)(9,"ng-select",60),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"td")(12,"ng-select",61),e.ALo(13,"translate"),e.YNc(14,Xr,2,3,"ng-template",62),e.YNc(15,eo,7,4,"ng-template",63),e.qZA()(),e.TgZ(16,"td")(17,"button",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,o=e.oxw();return e.KtG(o.deleteSlot(r))}),e._UZ(18,"img",65),e._uU(19),e.ALo(20,"translate"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("items",t.timeList)("placeholder",t.timeList[0].name)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("items",t.clockTimeAmPM)("placeholder",e.lcZ(5,22,t.clockTimeAmPM[0].name))("clearable",!1)("searchable",!1),e.xp6(4),e.Q6J("items",t.timeList)("placeholder",t.timeList[0].name)("clearable",!1)("searchable",!1),e.xp6(1),e.Q6J("items",t.clockTimeAmPM)("placeholder",e.lcZ(10,24,t.clockTimeAmPM[0].name))("clearable",!1)("searchable",!1),e.xp6(3),e.Q6J("items",t.filteredDays)("placeholder",e.lcZ(13,26,null==t.filteredDays[0]?null:t.filteredDays[0].shortName))("closeOnSelect",!1)("clearable",!1)("searchable",!1),e.xp6(7),e.hij(" ",e.lcZ(20,28,"Delete")," ")}}function no(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",70)(2,"a",71),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleAddMoreTiming())}),e._UZ(3,"img",17),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.ekj("disbled",0==t.filteredDays.length),e.xp6(2),e.hij(" ",e.lcZ(5,3,"Add more timings")," ")}}function ao(n,i){1&n&&(e._uU(0),e.ALo(1,"translate")),2&n&&e.hij(" ",e.lcZ(1,1,i.item.shortName),", ")}function io(n,i){if(1&n&&(e.TgZ(0,"div",66),e._UZ(1,"input",67),e.TgZ(2,"div",68),e._UZ(3,"img",69),e.TgZ(4,"label"),e._uU(5),e.ALo(6,"translate"),e.qZA()()()),2&n){const t=i.item,a=i.item$;e.xp6(1),e.Q6J("checked",a.selected),e.xp6(4),e.Oqu(e.lcZ(6,2,t.name))}}function ro(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",56),e._UZ(3,"ng-select",72)(4,"ng-select",73),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"td")(7,"div",56),e._UZ(8,"ng-select",74)(9,"ng-select",75),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"td")(12,"ng-select",76),e.ALo(13,"translate"),e.YNc(14,ao,2,3,"ng-template",62),e.YNc(15,io,7,4,"ng-template",63),e.qZA()(),e.TgZ(16,"td")(17,"button",77),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.save())}),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",78),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.toggleAddMoreTiming())}),e._uU(21),e.ALo(22,"translate"),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,a=e.oxw();e.xp6(3),e.ekj("invalid-input",a.submitted&&t.controls.startTime.errors),e.Q6J("items",a.timeList)("placeholder",a.timeList[0].name)("clearable",!1)("searchable",!1),e.xp6(1),e.ekj("invalid-input",a.submitted&&t.controls.startMeridiem.errors),e.Q6J("items",a.clockTimeAmPM)("placeholder",e.lcZ(5,33,a.clockTimeAmPM[0].name))("clearable",!1)("searchable",!1),e.xp6(4),e.ekj("invalid-input",a.submitted&&t.controls.endTime.errors),e.Q6J("items",a.timeList)("placeholder",a.timeList[0].name)("clearable",!1)("searchable",!1),e.xp6(1),e.ekj("invalid-input",a.submitted&&t.controls.endMeridiem.errors),e.Q6J("items",a.clockTimeAmPM)("placeholder",e.lcZ(10,35,a.clockTimeAmPM[0].name))("clearable",!1)("searchable",!1),e.xp6(3),e.ekj("invalid-input",a.submitted&&t.controls.days.errors),e.Q6J("items",a.filteredDays)("placeholder",e.lcZ(13,37,null==a.filteredDays[0]?null:a.filteredDays[0].shortName))("closeOnSelect",!1)("clearable",!1)("searchable",!1),e.xp6(6),e.hij(" ",e.lcZ(19,39,"Save")," "),e.xp6(3),e.hij(" ",e.lcZ(22,41,"Cancel")," ")}}function oo(n,i){if(1&n&&(e.ynx(0)(1,54),e.YNc(2,to,21,30,"tr",55),e.YNc(3,no,6,5,"tr",55),e.YNc(4,ro,23,43,"tr",55),e.BQk()()),2&n){const t=i.index,a=i.last,r=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("ngIf",!a),e.xp6(1),e.Q6J("ngIf",!r._addMoreTiming&&a),e.xp6(1),e.Q6J("ngIf",r._addMoreTiming&&a)}}function so(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",79)(2,"span"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"button",80),e.NdJ("click",function(){const o=e.CHM(t).index,s=e.oxw();return e.KtG(s.removeDaysOff(o))}),e.TgZ(6,"mat-icon"),e._uU(7,"close"),e.qZA()()(),e.BQk()}if(2&n){const t=i.$implicit,a=i.index;e.xp6(3),e.Oqu(e.xi3(4,2,t.value,"dd MMM YYYY")),e.xp6(2),e.uIk("data-test-id","btnRemoveDaysOff"+a)}}const lo={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let co=(()=>{class n extends yt.LF{format(t,a){return"input"===a?(0,g.p6)(t,"dd MMM, yyyy",this.locale):t.toDateString()}}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const uo=[{path:"",redirectTo:"/calendar/setup-calendar",pathMatch:"full"},{path:"view-calendar",component:Qr,data:{breadcrumb:"View Calendar"}},{path:"setup-calendar",component:(()=>{class n{constructor(t,a,r,o,s){this.appointmentService=t,this.pageTitleService=a,this.toastr=r,this.coreService=o,this.translateService=s,this.days=[{id:1,name:"Monday",shortName:"Mon"},{id:2,name:"Tuesday",shortName:"Tue"},{id:3,name:"Wednesday",shortName:"Wed"},{id:4,name:"Thursday",shortName:"Thu"},{id:5,name:"Friday",shortName:"Fri"},{id:6,name:"Saturday",shortName:"Sat"},{id:7,name:"Sunday",shortName:"Sun"}],this.timeList=[{id:1,name:"9:00"},{id:2,name:"10:00"},{id:3,name:"11:00"},{id:4,name:"12:00"},{id:5,name:"1:00"},{id:6,name:"2:00"},{id:7,name:"3:00"},{id:8,name:"4:00"},{id:9,name:"5:00"},{id:10,name:"6:00"},{id:11,name:"7:00"},{id:12,name:"8:00"}],this.clockTimeAmPM=[{id:1,name:"AM"},{id:2,name:"PM"}],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.scheduledMonths=[],this._addMoreTiming=!1,this.daysOffSelected=[],this.filteredDays=[],this.submitted=!1,this.isDayOff=l=>{const d=v(l.getFullYear()+"-"+("00"+(l.getMonth()+1)).slice(-2)+"-"+("00"+l.getDate()).slice(-2)).format("YYYY-MM-DD HH:mm:ss");return this.daysOffSelected.find(c=>c==d)?"dayOffDate":null},this.addSlotsForm=new u.cw({drName:new u.NI(this.drName,u.kI.required),userUuid:new u.NI(this.userId,u.kI.required),speciality:new u.NI(this.getSpeciality(),u.kI.required),type:new u.NI("month",u.kI.required),month:new u.NI(null,u.kI.required),year:new u.NI(null,u.kI.required),startDate:new u.NI(null,u.kI.required),endDate:new u.NI(null,u.kI.required),slotDays:new u.NI(""),slotSchedule:new u.Oe([]),timings:new u.Oe([]),daysOff:new u.Oe([])})}get f(){return this.addSlotsForm.controls}get ft(){return this.addSlotsForm.get("timings")}get fd(){return this.addSlotsForm.get("daysOff")}get fs(){return this.addSlotsForm.get("slotSchedule")}ngOnInit(){this.pageTitleService.setTitle({title:"",imgUrl:"assets/svgs/menu-calendar-circle.svg"}),this.getScheduledMonths()}addMonth(){let t=(new Date).getFullYear(),a=(new Date).getMonth(),r=this.scheduledMonths.length?this.scheduledMonths[this.scheduledMonths.length-1]:{name:this.monthNames[a],year:t.toString()},o=this.monthNames.indexOf(r.name);if(o>=0){let s=new Date(+r.year,o+1,1);-1!=[t,t+1].indexOf(s.getFullYear())&&this.scheduledMonths.push({name:this.monthNames[s.getMonth()],year:s.getFullYear().toString()})}}selectMonth(t,a){this.selectedMonth.name!=t&&(this.selectedMonth={name:t,year:a},this.getSchedule(a,t),this.submitted=!1)}getMinMaxDate(){let t=v(),a=v(`${this.selectedMonth.year}-${this.selectedMonth.name}-1`,"YYYY-MMMM-D"),r=v(`${this.selectedMonth.year}-${this.selectedMonth.name}-1`,"YYYY-MMMM-D").endOf("month");this.minDate=a<t?t.format("YYYY-MM-DD"):a.format("YYYY-MM-DD"),this.maxDate=r.format("YYYY-MM-DD")}getScheduledMonths(){this.appointmentService.getScheduledMonths(this.userId,(new Date).getFullYear().toString()).subscribe({next:t=>{this.scheduledMonths=t.data,0===this.scheduledMonths.length?(this.scheduledMonths.push({name:this.monthNames[(new Date).getMonth()],year:(new Date).getFullYear().toString()}),this.getSchedule(this.scheduledMonths[0].year,this.scheduledMonths[0].name),this.selectedMonth={name:this.scheduledMonths[0].name,year:this.scheduledMonths[0].year}):(this.selectedMonth=this.scheduledMonths.find(a=>a.name==this.monthNames[(new Date).getMonth()]&&a.year==(new Date).getFullYear().toString()),this.selectedMonth?this.getSchedule(this.selectedMonth.year,this.selectedMonth.name):(this.getSchedule(this.scheduledMonths[0].year,this.scheduledMonths[0].name),this.selectedMonth={name:this.scheduledMonths[0].name,year:this.scheduledMonths[0].year}))}})}getSchedule(t=v(this.minDate).format("YYYY"),a=v(this.minDate).format("MMMM")){this.appointmentService.getUserAppoitment(this.userId,t,a).subscribe({next:r=>{r&&r.data?(this.selectedMonthSchedule=r.data,this.selectedMonthSchedule.added=!0,this.setData(r.data)):(this.selectedMonthSchedule={added:!1,month:a,year:t,startDate:null,endDate:null,slotDays:"",slotSchedule:[],timings:[],daysOff:[]},this.setData(this.selectedMonthSchedule)),this.getMinMaxDate()}})}setData(t){this.scheduledMonths.some(r=>r.name===t.month)||this.scheduledMonths.push({name:t.month,year:t.year}),this.ft.clear(),this.fd.clear(),this.fs.clear();let a=[];for(let r=0;r<t.slotSchedule.length;r++)-1==a.findIndex(o=>o.startTime==t.slotSchedule[r].startTime&&o.endTime==t.slotSchedule[r].endTime)&&a.push(t.slotSchedule[r]);a.forEach(r=>{let o=t.slotSchedule.filter(l=>l.startTime==r.startTime&&l.endTime==r.endTime),s=new u.cw({startTime:new u.NI({value:r.startTime.split(" ")[0],disabled:!0},u.kI.required),startMeridiem:new u.NI({value:r.startTime.split(" ")[1],disabled:!0},u.kI.required),endTime:new u.NI({value:r.endTime.split(" ")[0],disabled:!0},u.kI.required),endMeridiem:new u.NI({value:r.endTime.split(" ")[1],disabled:!0},u.kI.required),days:new u.NI({value:[...new Set(o.map(l=>l.day))].map(l=>l.slice(0,3)),disabled:!0},u.kI.required),slots:this.getSlotsArray(o)});this.ft.push(s)}),this.ft.push(new u.cw({startTime:new u.NI(null,u.kI.required),startMeridiem:new u.NI(null,u.kI.required),endTime:new u.NI(null,u.kI.required),endMeridiem:new u.NI(null,u.kI.required),days:new u.NI(null,u.kI.required),slots:new u.Oe([])})),t.daysOff&&t.daysOff.forEach(r=>{this.fd.push(new u.NI(v(r,"DD/MM/YYYY").format("YYYY-MM-DD HH:mm:ss"),u.kI.required))}),this.addSlotsForm.patchValue({month:this.selectedMonth.name,year:this.selectedMonth.year,startDate:t.startDate?v(t.startDate).format("YYYY-MM-DD"):null,endDate:t.endDate?v(t.endDate).format("YYYY-MM-DD"):null,slotDays:""}),this.daysOffSelected=[],this.filteredDays=[],this.days.forEach((r,o)=>{0===t.slotSchedule.filter(l=>r.name==l.day).length&&this.filteredDays.push(r)})}getSlotsArray(t){let a=new u.Oe([]);return t.forEach(r=>{let o;o=new u.cw({id:new u.NI(r.id,u.kI.required),day:new u.NI(r.day,u.kI.required),date:new u.NI(v(r.date).format("YYYY-MM-DD HH:mm:ss"),u.kI.required),startTime:new u.NI(r.startTime,u.kI.required),endTime:new u.NI(r.endTime,u.kI.required)}),a.push(o)}),a}toggleAddMoreTiming(){this._addMoreTiming=!this._addMoreTiming}getSlotsFormArray(t){return this.ft.at(t).get("slots")}save(){if(this.submitted=!0,this.fs.clear(),this.addSlotsForm.invalid)return;if(v(this.addSlotsForm.value.startDate)>v(this.addSlotsForm.value.endDate))return void this.toastr.warning(this.translateService.instant("Start date should greater than end date."),this.translateService.instant("Invalid Dates!"));let t=0,a=[...this.ft.getRawValue()];for(let o=0;o<a.length;o++){if(!this.validateTimeSlot({startTime:`${a[o].startTime} ${a[o].startMeridiem}`,endTime:`${a[o].endTime} ${a[o].endMeridiem}`})){this.toastr.warning(this.translateService.instant("Slot start time should be less than end time."),this.translateService.instant("Invalid Slot Timings!")),t=1;break}{let s=this.createSlots(a[o].days,`${a[o].startTime} ${a[o].startMeridiem}`,`${a[o].endTime} ${a[o].endMeridiem}`),l=[...this.getSlotsFormArray(o).value];this.getSlotsFormArray(o).clear();for(let d=0;d<l.length;d++)s.find(c=>c.date==l[d].date&&c.day==l[d].day)&&(this.getSlotsFormArray(o).push(new u.cw({id:new u.NI(l[d].id,u.kI.required),day:new u.NI(l[d].day,u.kI.required),date:new u.NI(l[d].date,u.kI.required),startTime:new u.NI(l[d].startTime,u.kI.required),endTime:new u.NI(l[d].endTime,u.kI.required)})),this.fs.push(new u.cw({id:new u.NI(l[d].id,u.kI.required),day:new u.NI(l[d].day,u.kI.required),date:new u.NI(l[d].date,u.kI.required),startTime:new u.NI(l[d].startTime,u.kI.required),endTime:new u.NI(l[d].endTime,u.kI.required)})));l=[...this.getSlotsFormArray(o).value];for(let d=0;d<s.length;d++)l.find(c=>c.date==s[d].date&&c.day==s[d].day)||(this.getSlotsFormArray(o).push(new u.cw({id:new u.NI(s[d].id,u.kI.required),day:new u.NI(s[d].day,u.kI.required),date:new u.NI(s[d].date,u.kI.required),startTime:new u.NI(s[d].startTime,u.kI.required),endTime:new u.NI(s[d].endTime,u.kI.required)})),this.fs.push(new u.cw({id:new u.NI(s[d].id,u.kI.required),day:new u.NI(s[d].day,u.kI.required),date:new u.NI(s[d].date,u.kI.required),startTime:new u.NI(s[d].startTime,u.kI.required),endTime:new u.NI(s[d].endTime,u.kI.required)})));o==a.length-1&&this.addSlotsForm.get("slotDays").setValue([...new Set([...this.getSlotsFormArray(o).value].map(d=>d.day))].join("||"))}}if(1==t)return;let r={...this.addSlotsForm.value};delete r.timings,delete r.daysOff,this.appointmentService.updateOrCreateAppointment(r).subscribe({next:o=>{o.status&&(this.getSchedule(this.selectedMonth.year,this.selectedMonth.name),this.submitted=!1)}})}deleteSlot(t){this.coreService.openConfirmationDialog({confirmationMsg:"Do you really want to delete this timing slot?",cancelBtnText:"Cancel",confirmBtnText:"Confirm"}).afterClosed().subscribe(a=>{if(a){if(this.fs.clear(),v(this.addSlotsForm.value.startDate)>v(this.addSlotsForm.value.endDate))return void this.toastr.warning(this.translateService.instant("Start date should greater than end date."),this.translateService.instant("Invalid Dates!"));let r=0,o=[...this.ft.getRawValue()];for(let l=0;l<o.length-1;l++)if(l!=t){if(!this.validateTimeSlot({startTime:`${o[l].startTime} ${o[l].startMeridiem}`,endTime:`${o[l].endTime} ${o[l].endMeridiem}`})){this.toastr.warning(this.translateService.instant("Slot start time should be less than end time."),this.translateService.instant("Invalid Slot Timings!")),r=1;break}{let d=this.createSlots(o[l].days,`${o[l].startTime} ${o[l].startMeridiem}`,`${o[l].endTime} ${o[l].endMeridiem}`),c=[...this.getSlotsFormArray(l).value];this.getSlotsFormArray(l).clear();for(let m=0;m<c.length;m++)d.find(p=>p.date==c[m].date&&p.day==c[m].day)&&(this.getSlotsFormArray(l).push(new u.cw({id:new u.NI(c[m].id,u.kI.required),day:new u.NI(c[m].day,u.kI.required),date:new u.NI(c[m].date,u.kI.required),startTime:new u.NI(c[m].startTime,u.kI.required),endTime:new u.NI(c[m].endTime,u.kI.required)})),this.fs.push(new u.cw({id:new u.NI(c[m].id,u.kI.required),day:new u.NI(c[m].day,u.kI.required),date:new u.NI(c[m].date,u.kI.required),startTime:new u.NI(c[m].startTime,u.kI.required),endTime:new u.NI(c[m].endTime,u.kI.required)})));c=[...this.getSlotsFormArray(l).value];for(let m=0;m<d.length;m++)c.find(p=>p.date==d[m].date&&p.day==d[m].day)||(this.getSlotsFormArray(l).push(new u.cw({id:new u.NI(d[m].id,u.kI.required),day:new u.NI(d[m].day,u.kI.required),date:new u.NI(d[m].date,u.kI.required),startTime:new u.NI(d[m].startTime,u.kI.required),endTime:new u.NI(d[m].endTime,u.kI.required)})),this.fs.push(new u.cw({id:new u.NI(d[m].id,u.kI.required),day:new u.NI(d[m].day,u.kI.required),date:new u.NI(d[m].date,u.kI.required),startTime:new u.NI(d[m].startTime,u.kI.required),endTime:new u.NI(d[m].endTime,u.kI.required)})));this.addSlotsForm.get("slotDays").setValue("")}}if(1==r)return;let s={...this.addSlotsForm.value};delete s.timings,delete s.daysOff,this.appointmentService.updateOrCreateAppointment(s).subscribe({next:l=>{l.status&&(this.getSchedule(this.selectedMonth.year,this.selectedMonth.name),this.submitted=!1)}})}})}validateTimeSlot(t){return!(v(t.startTime,["h:mm A"]).format("HH:mm:ss")>=v(t.endTime,["h:mm A"]).format("HH:mm:ss"))}createSlots(t,a,r){let o=[];const s=v(this.addSlotsForm.value.startDate).format("YYYY-MM-DD"),l=v(this.addSlotsForm.value.endDate).format("YYYY-MM-DD"),d=[...this.fd.value];let c=v(s);for(;c<=v(l);){const m=c.format("ddd");t.includes(m)&&!d.includes(c.format("YYYY-MM-DD HH:mm:ss"))&&o.push({id:this.getUniqueId(),day:c.format("dddd"),date:c.format("YYYY-MM-DD HH:mm:ss"),startTime:a,endTime:r}),c.add(1,"day")}return o}dayOffSelected(t){if(t.value){const a=v(t.value).format("YYYY-MM-DD HH:mm:ss"),r=this.daysOffSelected.indexOf(a);r<0?this.daysOffSelected.push(a):this.daysOffSelected.splice(r,1),this._picker.select(void 0),this._picker.close()}}resetSelectedDaysOff(){this.daysOffSelected=[]}saveDaysOff(){this.daysOffSelected.length?this.coreService.openConfirmationDialog({confirmationMsg:"Do you really want to save these days off ?",cancelBtnText:"Cancel",confirmBtnText:"Confirm"}).afterClosed().subscribe(t=>{if(t){let a=[...new Set([...this.fd.value].concat(this.daysOffSelected))].map(r=>v(r,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY"));if(this.selectedMonthSchedule.added)this.appointmentService.updateDaysOff({userUuid:this.userId,daysOff:a,month:this.selectedMonth.name,year:this.selectedMonth.year}).subscribe({next:o=>{o.status&&(this.daysOffSelected.forEach(s=>{this.fd.push(new u.NI(s,u.kI.required))}),this.daysOffSelected=[],this.updateSlot())}});else{if(v(this.minDate).isAfter(this.maxDate))return void this.toastr.warning(this.translateService.instant("Can't add daysOff's for the past dates!"),this.translateService.instant("Can't add daysOff's"));let r={...this.addSlotsForm.value};delete r.timings,delete r.daysOff,r.startDate=v(this.minDate,"YYYY-MM-DD").toISOString(),r.endDate=v(this.maxDate,"YYYY-MM-DD").toISOString(),this.appointmentService.updateOrCreateAppointment(r).subscribe({next:o=>{o.status&&this.appointmentService.updateDaysOff({userUuid:this.userId,daysOff:a,month:this.selectedMonth.name,year:this.selectedMonth.year}).subscribe({next:l=>{l.status&&(this.daysOffSelected=[],this.getSchedule(this.selectedMonth.year,this.selectedMonth.name))}})}})}}}):this.toastr.warning(this.translateService.instant("Please select atleast 1 date for day off."),this.translateService.instant("Select dates!"))}removeDaysOff(t){this.coreService.openConfirmationDialog({confirmationMsg:"Do you really want to remove this day off ?",cancelBtnText:"Cancel",confirmBtnText:"Confirm"}).afterClosed().subscribe(a=>{if(a){let r=[...this.fd.value];r.splice(t,1),r=[...new Set(r)].map(s=>v(s,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY")),this.appointmentService.updateDaysOff({userUuid:this.userId,daysOff:r,month:this.selectedMonth.name,year:this.selectedMonth.year}).subscribe({next:s=>{s.status&&(this.fd.removeAt(t),this.updateSlot())}})}})}get daysOffDates(){let t="";return this.daysOffSelected.forEach(a=>{t+=`${v(a).format("DD MMM")}, `}),t}getUniqueId(){return Math.random().toString(36).substr(2,9)}get userId(){return(0,V.TL)(!0,N.On.USER).uuid}get drName(){return(0,V.TL)(!0,N.On.USER)?.person?.display||(0,V.TL)(!0,N.On.USER)?.display}getSpeciality(){return(0,V.TL)(!0,N.On.PROVIDER).attributes.find(t=>t.display.includes(N.On.SPECIALIZATION))?.value}updateSlot(){if(this.fs.clear(),v(this.addSlotsForm.value.startDate)>v(this.addSlotsForm.value.endDate))return void this.toastr.warning(this.translateService.instant("Start date should greater than end date."),this.translateService.instant("Invalid Dates!"));let t=0,a=[...this.ft.getRawValue()];for(let o=0;o<a.length-1;o++){if(!this.validateTimeSlot({startTime:`${a[o].startTime} ${a[o].startMeridiem}`,endTime:`${a[o].endTime} ${a[o].endMeridiem}`})){this.toastr.warning(this.translateService.instant("Slot start time should be less than end time."),this.translateService.instant("Invalid Slot Timings!")),t=1;break}{let s=this.createSlots(a[o].days,`${a[o].startTime} ${a[o].startMeridiem}`,`${a[o].endTime} ${a[o].endMeridiem}`),l=[...this.getSlotsFormArray(o).value];this.getSlotsFormArray(o).clear();for(let d=0;d<l.length;d++)s.find(c=>c.date==l[d].date&&c.day==l[d].day)&&(this.getSlotsFormArray(o).push(new u.cw({id:new u.NI(l[d].id,u.kI.required),day:new u.NI(l[d].day,u.kI.required),date:new u.NI(l[d].date,u.kI.required),startTime:new u.NI(l[d].startTime,u.kI.required),endTime:new u.NI(l[d].endTime,u.kI.required)})),this.fs.push(new u.cw({id:new u.NI(l[d].id,u.kI.required),day:new u.NI(l[d].day,u.kI.required),date:new u.NI(l[d].date,u.kI.required),startTime:new u.NI(l[d].startTime,u.kI.required),endTime:new u.NI(l[d].endTime,u.kI.required)})));l=[...this.getSlotsFormArray(o).value];for(let d=0;d<s.length;d++)l.find(c=>c.date==s[d].date&&c.day==s[d].day)&&(this.getSlotsFormArray(o).push(new u.cw({id:new u.NI(s[d].id,u.kI.required),day:new u.NI(s[d].day,u.kI.required),date:new u.NI(s[d].date,u.kI.required),startTime:new u.NI(s[d].startTime,u.kI.required),endTime:new u.NI(s[d].endTime,u.kI.required)})),this.fs.push(new u.cw({id:new u.NI(s[d].id,u.kI.required),day:new u.NI(s[d].day,u.kI.required),date:new u.NI(s[d].date,u.kI.required),startTime:new u.NI(s[d].startTime,u.kI.required),endTime:new u.NI(s[d].endTime,u.kI.required)})));this.addSlotsForm.get("slotDays").setValue("")}}if(1==t)return;let r={...this.addSlotsForm.value};delete r.timings,delete r.daysOff,this.appointmentService.updateOrCreateAppointment(r).subscribe({next:o=>{o.status&&this.getSchedule(this.selectedMonth.year,this.selectedMonth.name)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(un.H),e.Y36(cn.Z),e.Y36(pn._W),e.Y36(mn.p),e.Y36(Fe.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-setup-calendar"]],viewQuery:function(t,a){if(1&t&&e.Gf(jr,7),2&t){let r;e.iGM(r=e.CRH())&&(a._picker=r.first)}},features:[e._Bn([{provide:yt._A,useClass:co},{provide:yt.sG,useValue:lo}])],decls:120,vars:87,consts:[[1,"container-fluid"],[1,"row","setup-title-con"],[1,"col-md-8","p-0","pb-2"],[1,"title-con","d-flex","align-items-center"],["src","assets/svgs/menu-calendar-circle.svg","alt","",1,"mr-2"],[1,"d-flex","flex-column"],[1,"mb-0"],[1,"col-md-4","p-0","pb-2"],["mat-button","","routerLink","/calendar/view-calendar","data-test-id","btnViewCal",1,"view-btn"],[1,"row","mt-3"],[1,"col-md-3","p-1"],[1,"month-con"],[1,"month-title"],[1,"month-list"],[4,"ngFor","ngForOf"],[1,"add-more-list-item"],["href","javascript:void(0)","data-test-id","linkAddMonths",3,"click"],["src","assets/svgs/add-more-plus-icon-green.svg","alt","",1,"mr-2"],[1,"col-md-9","p-1"],[3,"formGroup"],[1,"card","intel-card"],[1,"month-title2"],[1,"card-header"],[1,"mb-0","color-blue"],[1,"card-body"],[1,"form-row"],[1,"form-group","col-md-6"],[1,"input-group"],["type","text","formControlName","startDate","aria-label","Start date","aria-describedby","basic-addon1","readonly","","data-test-id","etSelStartDate",1,"form-control",3,"min","max","matDatepicker","placeholder"],["picker1",""],[1,"input-group-append"],["id","basic-addon1","data-test-id","dpicSelStartDate",1,"input-group-text"],["matSuffix","",3,"for"],["matDatepickerToggleIcon","","src","assets/svgs/calendar-date.svg","alt",""],["type","text","formControlName","endDate","aria-label","End date","aria-describedby","basic-addon2","readonly","","data-test-id","etSelEndDate",1,"form-control",3,"min","max","matDatepicker","placeholder"],["picker2",""],["id","basic-addon2","data-test-id","dpicSelEndDate",1,"input-group-text"],[1,"table-responsive"],["formArrayName","timings","aria-describedby","timings",1,"table"],["scope","col"],["type","text","aria-label","Start date","aria-describedby","basic-addon3","readonly","","data-test-id","etDayOff",1,"form-control",3,"value","placeholder"],["type","text","aria-label","Start date","aria-describedby","basic-addon3","readonly","","data-test-id","etDayOffSelect",1,"form-control","hidden-input",3,"min","max","matDatepicker","placeholder","dateChange"],[3,"panelClass","dateClass"],["picker3",""],["data-test-id","dpicSelDayOff",1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],[1,"col-md-6","pb-3"],[1,"h-100","d-flex","align-items-end"],["mat-button","","type","button","data-test-id","btnSaveDayOff",1,"save-btn","mr-2",3,"click"],["mat-button","","type","button","data-test-id","btnCanelDayOff",1,"cancel-btn",3,"click"],[1,"days-off-chips-con"],["formArrayName","daysOff",1,"days-off-chips"],[1,"list-item",3,"click"],["data-test-id","spSelectMonth"],[3,"formGroupName"],[4,"ngIf"],[1,"d-flex"],["formControlName","startTime","appendTo",".intel-card","bindLabel","name","bindValue","name",1,"customSelect2","mr-2",3,"items","placeholder","clearable","searchable"],["formControlName","startMeridiem","appendTo",".intel-card","bindLabel","name","bindValue","name",1,"customSelect2",3,"items","placeholder","clearable","searchable"],["formControlName","endTime","appendTo",".intel-card","bindLabel","name","bindValue","name",1,"customSelect2","mr-2",3,"items","placeholder","clearable","searchable"],["formControlName","endMeridiem","appendTo",".intel-card","bindLabel","name","bindValue","name",1,"customSelect2",3,"items","placeholder","clearable","searchable"],["formControlName","days","appendTo",".intel-card","bindLabel","shortName","bindValue","shortName","multiple","true",1,"customSelect1",3,"items","placeholder","closeOnSelect","clearable","searchable"],["ng-label-tmp",""],["ng-option-tmp",""],["mat-button","","type","button","data-test-id","btnDeleteSlot",1,"delete-btn",3,"click"],["src","assets/svgs/delete-icon.svg","alt",""],[1,"pretty","p-image","p-plain"],["type","checkbox",3,"checked"],[1,"state"],["src","assets/svgs/checkbox-tick.png","alt","",1,"image"],["colspan","4"],["href","javascript:void(0)","data-test-id","linkAddTime",1,"add-more-btn",3,"click"],["formControlName","startTime","appendTo",".intel-card","bindLabel","name","bindValue","name","data-test-id","selStartTime",1,"customSelect2","mr-2",3,"items","placeholder","clearable","searchable"],["formControlName","startMeridiem","appendTo",".intel-card","bindLabel","name","bindValue","name","data-test-id","selStartAm&Pm",1,"customSelect2",3,"items","placeholder","clearable","searchable"],["formControlName","endTime","appendTo",".intel-card","bindLabel","name","bindValue","name","data-test-id","selEndTime",1,"customSelect2","mr-2",3,"items","placeholder","clearable","searchable"],["formControlName","endMeridiem","appendTo",".intel-card","bindLabel","name","bindValue","name","data-test-id","selEndAm&Pm",1,"customSelect2",3,"items","placeholder","clearable","searchable"],["formControlName","days","appendTo",".intel-card","bindLabel","shortName","bindValue","shortName","multiple","true","data-test-id","selDays",1,"customSelect1",3,"items","placeholder","closeOnSelect","clearable","searchable"],["mat-button","","type","button","data-test-id","btnSaveSlot",1,"save-btn","mr-2",3,"click"],["mat-button","","type","button","data-test-id","btnCanelSlot",1,"cancel-btn",3,"click"],[1,"chip-item"],["mat-icon-button","","type","button",3,"click"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"div",5)(6,"h6",6),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"p",6),e._uU(10),e.ALo(11,"translate"),e.qZA()()()(),e.TgZ(12,"div",7)(13,"button",8),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"h6",6),e._uU(21),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"ul",13),e.YNc(24,Kr,8,8,"ng-container",14),e.TgZ(25,"li",15)(26,"a",16),e.NdJ("click",function(){return a.addMonth()}),e._UZ(27,"img",17),e._uU(28),e.ALo(29,"translate"),e.qZA()()()()(),e.TgZ(30,"div",18)(31,"form",19)(32,"div",20)(33,"div",21)(34,"h6",6),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",22)(38,"h6",23),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",24)(42,"div",25)(43,"div",26)(44,"label"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"div",27),e._UZ(48,"input",28),e.ALo(49,"translate"),e._UZ(50,"mat-datepicker",null,29),e.TgZ(52,"div",30)(53,"span",31)(54,"mat-datepicker-toggle",32),e._UZ(55,"img",33),e.qZA()()()()(),e.TgZ(56,"div",26)(57,"label"),e._uU(58),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"div",27),e._UZ(61,"input",34),e.ALo(62,"translate"),e._UZ(63,"mat-datepicker",null,35),e.TgZ(65,"div",30)(66,"span",36)(67,"mat-datepicker-toggle",32),e._UZ(68,"img",33),e.qZA()()()()()(),e.TgZ(69,"div",37)(70,"table",38)(71,"thead")(72,"tr")(73,"th",39),e._uU(74),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"th",39),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"th",39),e._uU(80),e.ALo(81,"translate"),e.qZA(),e._UZ(82,"th",39),e.qZA()(),e.TgZ(83,"tbody"),e.YNc(84,oo,5,4,"ng-container",14),e.qZA()()()(),e.TgZ(85,"div",22)(86,"h6",23),e._uU(87),e.ALo(88,"translate"),e.qZA()(),e.TgZ(89,"div",24)(90,"div",25)(91,"div",26)(92,"label"),e._uU(93),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"div",27),e._UZ(96,"input",40),e.ALo(97,"translate"),e.TgZ(98,"input",41),e.NdJ("dateChange",function(o){return a.dayOffSelected(o)}),e.ALo(99,"translate"),e.qZA(),e._UZ(100,"mat-datepicker",42,43),e.TgZ(102,"div",44)(103,"span",45)(104,"mat-datepicker-toggle",32),e._UZ(105,"img",33),e.qZA()()()()(),e.TgZ(106,"div",46)(107,"div",47)(108,"button",48),e.NdJ("click",function(){return a.saveDaysOff()}),e._uU(109),e.ALo(110,"translate"),e.qZA(),e.TgZ(111,"button",49),e.NdJ("click",function(){return a.resetSelectedDaysOff()}),e._uU(112),e.ALo(113,"translate"),e.qZA()()()(),e.TgZ(114,"div",50)(115,"h6",6),e._uU(116),e.ALo(117,"translate"),e.qZA(),e.TgZ(118,"div",51),e.YNc(119,so,8,5,"ng-container",14),e.qZA()()()()()()()()),2&t){const r=e.MAs(51),o=e.MAs(64),s=e.MAs(101);e.xp6(7),e.Oqu(e.lcZ(8,45,"Setup your calendar")),e.xp6(3),e.Oqu(e.lcZ(11,47,"Please set up your scedule for the month according to your availability")),e.xp6(4),e.Oqu(e.lcZ(15,49,"View calendar")),e.xp6(7),e.Oqu(e.lcZ(22,51,"Month")),e.xp6(3),e.Q6J("ngForOf",a.scheduledMonths),e.xp6(4),e.hij(" ",e.lcZ(29,53,"Add more months")," "),e.xp6(3),e.Q6J("formGroup",a.addSlotsForm),e.xp6(4),e.AsE("",e.lcZ(36,55,null==a.selectedMonth?null:a.selectedMonth.name)," ",null==a.selectedMonth?null:a.selectedMonth.year,""),e.xp6(4),e.Oqu(e.lcZ(40,57,"Working days")),e.xp6(6),e.Oqu(e.lcZ(46,59,"Start date")),e.xp6(2),e.ekj("invalid-input",a.submitted&&a.f.startDate.errors),e.xp6(1),e.s9C("placeholder",e.lcZ(49,61,"Select start date")),e.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",r),e.xp6(6),e.Q6J("for",r),e.xp6(4),e.Oqu(e.lcZ(59,63,"End date")),e.xp6(2),e.ekj("invalid-input",a.submitted&&a.f.endDate.errors),e.xp6(1),e.s9C("placeholder",e.lcZ(62,65,"Select end date")),e.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",o),e.xp6(6),e.Q6J("for",o),e.xp6(7),e.Oqu(e.lcZ(75,67,"Start time")),e.xp6(3),e.Oqu(e.lcZ(78,69,"End time")),e.xp6(3),e.Oqu(e.lcZ(81,71,"Days")),e.xp6(4),e.Q6J("ngForOf",a.ft.controls),e.xp6(3),e.Oqu(e.lcZ(88,73,"Days off")),e.xp6(6),e.Oqu(e.lcZ(94,75,"Dates")),e.xp6(3),e.s9C("placeholder",e.lcZ(97,77,"Select dates")),e.Q6J("value",a.daysOffDates),e.xp6(2),e.s9C("placeholder",e.lcZ(99,79,"Select dates")),e.Q6J("min",a.minDate)("max",a.maxDate)("matDatepicker",s),e.xp6(2),e.Q6J("panelClass","daysOffCalendar")("dateClass",a.isDayOff),e.xp6(4),e.Q6J("for",s),e.xp6(5),e.hij(" ",e.lcZ(110,81,"Save")," "),e.xp6(3),e.hij(" ",e.lcZ(113,83,"Cancel")," "),e.xp6(4),e.Oqu(e.lcZ(117,85,"Your days off")),e.xp6(3),e.Q6J("ngForOf",a.fd.controls)}},dependencies:[g.sg,g.O5,ue.rH,yn.Hw,ft.lW,We.w9,We.ir,We.mR,Ce.Mq,Ce.hl,Ce.nW,Ce.Q0,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,u.x0,u.CE,hn.z,g.uU,Fe.X$],styles:[".setup-title-con[_ngcontent-%COMP%]   .title-con[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:44px}.setup-title-con[_ngcontent-%COMP%]   .title-con[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:var(--color-darkestBlue)}.setup-title-con[_ngcontent-%COMP%]   .title-con[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--color-gray);margin-top:.5rem;line-height:normal}.setup-title-con[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{text-decoration:none;background:var(--color-lightGray);border-radius:8px;height:44px;color:var(--color-darkBlue);font-weight:700;font-size:18px;float:right}.month-con[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 4px 16px #1f1c3a14;border-radius:12px;padding:0 0 24px;overflow:hidden}.month-con[_ngcontent-%COMP%]   .month-title[_ngcontent-%COMP%]{height:63px;background:var(--color-lightGray);padding:20px 24px 16px}.month-con[_ngcontent-%COMP%]   .month-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:var(--color-darkestBlue)}.month-con[_ngcontent-%COMP%]   ul.month-list[_ngcontent-%COMP%]{list-style-type:none;padding:0 24px;margin-bottom:0}.month-con[_ngcontent-%COMP%]   ul.month-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(178,175,190,.2);font-size:16px;color:var(--color-darkestBlue);padding:15px 0;cursor:pointer}.month-con[_ngcontent-%COMP%]   ul.month-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 15px}.month-con[_ngcontent-%COMP%]   ul.month-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--color-gray)}.month-con[_ngcontent-%COMP%]   ul.month-list[_ngcontent-%COMP%]   .list-item.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-left:3px solid var(--color-lightRed)}.month-con[_ngcontent-%COMP%]   ul.month-list[_ngcontent-%COMP%]   li.add-more-list-item[_ngcontent-%COMP%]{padding:15px 0 0}.month-con[_ngcontent-%COMP%]   ul.month-list[_ngcontent-%COMP%]   li.add-more-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;color:var(--color-darkestBlue);text-decoration:none}.month-title2[_ngcontent-%COMP%]{height:63px;background:var(--color-lightGray);padding:20px 24px 16px;border-radius:12px 12px 0 0}.month-title2[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:var(--color-darkestBlue)}.color-blue[_ngcontent-%COMP%]{color:var(--color-darkBlue)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{position:relative;border:1px solid rgba(178,175,190,.2);background:var(--color-offWhite);border-radius:8px}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:14px 16px;height:48px;font-size:16px;color:var(--color-darkestBlue);border:none;background:transparent;text-overflow:ellipsis}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control.hidden-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:-1}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:transparent;border:none}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;outline:none}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;white-space:nowrap}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;font-size:14px;line-height:150%;color:var(--color-gray);border:none}.add-more-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;color:var(--color-darkestBlue);text-decoration:none;width:fit-content}.delete-btn[_ngcontent-%COMP%]{background:var(--color-white);border:.770833px solid rgba(178,175,190,.2);border-radius:8px;font-weight:700;font-size:18px;line-height:150%;color:var(--color-red);height:48px}.save-btn[_ngcontent-%COMP%]{background:var(--color-darkBlue);border:none;border-radius:8px;font-weight:700;font-size:18px;line-height:150%;color:var(--color-white);height:48px;min-width:100px}.cancel-btn[_ngcontent-%COMP%]{background:var(--color-white);border:.770833px solid rgba(178,175,190,.2);border-radius:8px;font-weight:700;font-size:18px;line-height:150%;color:var(--color-darkBlue);height:48px;min-width:100px}.days-off-chips-con[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:var(--color-gray)}.days-off-chips-con[_ngcontent-%COMP%]   .days-off-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:10px 0}.days-off-chips-con[_ngcontent-%COMP%]   .days-off-chips[_ngcontent-%COMP%]   .chip-item[_ngcontent-%COMP%]{background:var(--color-lightGray);border:1px solid rgba(178,175,190,.2);border-radius:8px;font-size:16px;font-weight:700;color:var(--color-darkBlue);padding:5px 5px 5px 10px;margin:0 5px 5px 0}  .ng-select.customSelect1{min-height:48px;background:var(--color-offWhite);border:.770833px solid rgba(178,175,190,.2);border-radius:8px}  .ng-select.customSelect1 .ng-select-container{background:none!important;min-height:48px;height:100%;border:none}  .ng-select.customSelect1 .ng-select-container .ng-value-container{position:relative;padding-top:0;overflow:hidden;flex-wrap:nowrap!important;width:150px}  .ng-select.customSelect1 .ng-select-container .ng-value-container .ng-placeholder{top:0;padding-bottom:0}  .ng-select.customSelect1 .ng-select-container .ng-value-container .ng-input{padding:0 0 0 3px;font-size:16px;color:var(--color-darkestBlue)}  .ng-select.customSelect1 .ng-select-container .ng-value-container .ng-value{background:none;color:var(--color-darkestBlue);margin:0;font-size:16px}  .ng-select.customSelect1 .ng-arrow-wrapper .ng-arrow{border:none}  .ng-select.customSelect1 .ng-arrow-wrapper .ng-arrow:after{content:url(chevron-down-input.fbed60456e1aa553.svg);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}  .ng-select.customSelect1.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value{background-color:transparent;border:none}.pretty.p-image[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:none}  .ng-select.customSelect2{min-height:48px;border-radius:8px;overflow:hidden}  .ng-select.customSelect2 .ng-select-container{min-height:48px;height:100%;border:none}  .ng-select.customSelect2 .ng-select-container .ng-value-container{position:relative;padding-top:0;overflow:hidden;flex-wrap:nowrap!important;width:fit-content}  .ng-select.customSelect2 .ng-select-container .ng-value-container .ng-input{top:0;padding-right:10px;font-size:16px;color:var(--color-darkestBlue)}  .ng-select.customSelect2 .ng-select-container:hover{box-shadow:none}  .ng-select.customSelect2 .ng-arrow-wrapper .ng-arrow{border:none}  .ng-select.customSelect2 .ng-arrow-wrapper .ng-arrow:after{content:url(chevron-down-input.fbed60456e1aa553.svg);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}  .ng-select.customSelect2.ng-select-disabled>.ng-select-container{background-color:transparent}  .daysOffCalendar .mat-calendar-body-cell-content.mat-calendar-body-selected{background:transparent;color:var(--color-darkestBlue)}  .mat-calendar-body-cell.dayOffDate{background:var(--color-green)!important;border-radius:50%}  .mat-calendar-body-cell.dayOffDate .mat-calendar-body-cell-content.mat-calendar-body-selected{background:transparent;color:var(--color-darkestBlue)}.invalid-input[_ngcontent-%COMP%]{border:1px solid red!important}.disbled[_ngcontent-%COMP%]{pointer-events:none;color:gray}@media (max-width: 768px){.setup-title-con[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{width:100%}.chip-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6rem;display:inline-block}}"]}),n})(),data:{breadcrumb:"Setup Calendar"}}];let mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[ue.Bz.forChild(uo),ue.Bz]}),n})();function wt(n,i){b(2,arguments);var t=A(n),a=F(i);return isNaN(a)?new Date(NaN):(a&&t.setDate(t.getDate()+a),t)}function _t(n,i){b(2,arguments);var t=A(n).getTime(),a=F(i);return new Date(t+a)}function ho(n,i){b(2,arguments);var t=F(i);return _t(n,36e5*t)}function fo(n,i){b(2,arguments);var t=F(i);return _t(n,6e4*t)}function vo(n,i){b(2,arguments);var t=F(i);return _t(n,1e3*t)}function wn(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}function De(n){b(1,arguments);var i=A(n);return i.setHours(0,0,0,0),i}function wo(n,i){b(2,arguments);var t=De(n),a=De(i),r=t.getTime()-wn(t),o=a.getTime()-wn(a);return Math.round((r-o)/864e5)}function _n(n,i){var t=n.getFullYear()-i.getFullYear()||n.getMonth()-i.getMonth()||n.getDate()-i.getDate()||n.getHours()-i.getHours()||n.getMinutes()-i.getMinutes()||n.getSeconds()-i.getSeconds()||n.getMilliseconds()-i.getMilliseconds();return t<0?-1:t>0?1:t}function _o(n,i){b(2,arguments);var t=A(n),a=A(i),r=_n(t,a),o=Math.abs(wo(t,a));t.setDate(t.getDate()-r*o);var s=Number(_n(t,a)===-r),l=r*(o-s);return 0===l?0:l}function Dn(n,i){return b(2,arguments),A(n).getTime()-A(i).getTime()}Math.pow(10,8);var Tn={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(i){return i<0?Math.ceil(i):Math.floor(i)}};function Mn(n){return n?Tn[n]:Tn.trunc}function xo(n,i,t){b(2,arguments);var a=Dn(n,i)/6e4;return Mn(t?.roundingMethod)(a)}function Oo(n,i,t){b(2,arguments);var a=Dn(n,i)/1e3;return Mn(t?.roundingMethod)(a)}function Eo(n){b(1,arguments);var i=A(n);return i.setHours(23,59,59,999),i}function Ao(n){b(1,arguments);var i=A(n),t=i.getMonth();return i.setFullYear(i.getFullYear(),t+1,0),i.setHours(23,59,59,999),i}var kn={};function bn(){return kn}function Io(n,i){var t,a,r,o,s,l,d,c;b(1,arguments);var m=bn(),p=F(null!==(t=null!==(a=null!==(r=null!==(o=i?.weekStartsOn)&&void 0!==o?o:null==i||null===(s=i.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:m.weekStartsOn)&&void 0!==a?a:null===(d=m.locale)||void 0===d||null===(c=d.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==t?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=A(n),h=w.getDay(),y=6+(h<p?-7:0)-(h-p);return w.setDate(w.getDate()+y),w.setHours(23,59,59,999),w}function Yo(n){b(1,arguments);var i=A(n),t=i.getDay();return t}function Ho(n){b(1,arguments);var i=A(n),t=i.getMonth();return t}function Po(n,i){b(2,arguments);var t=De(n),a=De(i);return t.getTime()===a.getTime()}function Lo(n,i){b(2,arguments);var t=A(n),a=A(i);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()}function Sn(n){b(1,arguments);var i=A(n);return i.setMilliseconds(0),i}function No(n,i){b(2,arguments);var t=Sn(n),a=Sn(i);return t.getTime()===a.getTime()}function Zo(n){var i,t;if(b(1,arguments),n&&"function"==typeof n.forEach)i=n;else{if("object"!==Ze(n)||null===n)return new Date(NaN);i=Array.prototype.slice.call(n)}return i.forEach(function(a){var r=A(a);(void 0===t||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Fo(n){b(1,arguments);var i=A(n);return i.setSeconds(0,0),i}function Wo(n){b(1,arguments);var i=A(n);return i.setDate(1),i.setHours(0,0,0,0),i}function xn(n,i){var t,a,r,o,s,l,d,c;b(1,arguments);var m=bn(),p=F(null!==(t=null!==(a=null!==(r=null!==(o=i?.weekStartsOn)&&void 0!==o?o:null==i||null===(s=i.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:m.weekStartsOn)&&void 0!==a?a:null===(d=m.locale)||void 0===d||null===(c=d.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==t?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=A(n),h=w.getDay(),y=(h<p?7:0)+h-p;return w.setDate(w.getDate()-y),w.setHours(0,0,0,0),w}function Bo(n){b(1,arguments);var i=A(n),t=i.getHours();return t}function zo(n){b(1,arguments);var i=A(n),t=i.getMinutes();return t}function Vo(n){return new Date(n).getTimezoneOffset()}function On(n,i){b(2,arguments);var t=F(i),a=7*t;return wt(n,a)}function En(n,i){b(2,arguments);var t=A(n),a=F(i);if(isNaN(a))return new Date(NaN);if(!a)return t;var r=t.getDate(),o=new Date(t.getTime());o.setMonth(t.getMonth()+a+1,0);var s=o.getDate();return r>=s?o:(t.setFullYear(o.getFullYear(),o.getMonth(),r),t)}function Uo(n,i){b(2,arguments);var t=F(i);return wt(n,-t)}function qo(n,i){b(2,arguments);var t=F(i);return On(n,-t)}function $o(n,i){b(2,arguments);var t=F(i);return En(n,-t)}function Be(n){return b(1,arguments),xn(n,{weekStartsOn:1})}function Jo(n){b(1,arguments);var i=A(n),t=i.getFullYear(),a=new Date(0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);var r=Be(a),o=new Date(0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);var s=Be(o);return i.getTime()>=r.getTime()?t+1:i.getTime()>=s.getTime()?t:t-1}function Go(n){b(1,arguments);var i=Jo(n),t=new Date(0);t.setFullYear(i,0,4),t.setHours(0,0,0,0);var a=Be(t);return a}var Qo=6048e5;function jo(n){b(1,arguments);var i=A(n),t=Be(i).getTime()-Go(i).getTime();return Math.round(t/Qo)+1}function Ko(n,i){b(2,arguments);var t=A(n),a=F(i);return t.setDate(a),t}function Xo(n){b(1,arguments);var i=A(n),t=i.getFullYear(),a=i.getMonth(),r=new Date(0);return r.setFullYear(t,a+1,0),r.setHours(0,0,0,0),r.getDate()}function es(n,i){b(2,arguments);var t=A(n),a=F(i),r=t.getFullYear(),o=t.getDate(),s=new Date(0);s.setFullYear(r,a,15),s.setHours(0,0,0,0);var l=Xo(s);return t.setMonth(a,Math.min(o,l)),t}function ts(n,i){b(2,arguments);var t=A(n),a=F(i);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(a),t)}function ns(n){b(1,arguments);var i=A(n),t=i.getDate();return t}function as(n){return b(1,arguments),A(n).getFullYear()}function is(){return(0,rt.pi)((0,rt.pi)({},function Ro(){return{addDays:wt,addHours:ho,addMinutes:fo,addSeconds:vo,differenceInDays:_o,differenceInMinutes:xo,differenceInSeconds:Oo,endOfDay:Eo,endOfMonth:Ao,endOfWeek:Io,getDay:Yo,getMonth:Ho,isSameDay:Po,isSameMonth:Lo,isSameSecond:No,max:Zo,setHours:ht,setMinutes:gt,startOfDay:De,startOfMinute:Fo,startOfMonth:Wo,startOfWeek:xn,getHours:Bo,getMinutes:zo,getTimezoneOffset:Vo}}()),{addWeeks:On,addMonths:En,subDays:Uo,subWeeks:qo,subMonths:$o,getISOWeek:jo,setDate:Ko,setMonth:es,setYear:ts,getDate:ns,getYear:as})}var rs=D(1075);let os=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,mo,yn.Ps,ft.ot,We.A0,Ce.FA,u.u5,u.UX,yr.forRoot({provide:ie,useFactory:is}),vt.Nh,rs.m]}),n})()}}]);