"use strict";(self.webpackChunkintelehealth_ui=self.webpackChunkintelehealth_ui||[]).push([[384],{9646:(nt,De,O)=>{O.d(De,{x:()=>kt});var e=O(655),y=O(1998),W=O(953),H=O(833);function ue(f,u){(0,H.Z)(2,arguments);var p=(0,W.Z)(f),D=(0,y.Z)(u);return isNaN(D)?new Date(NaN):(D&&p.setDate(p.getDate()+D),p)}function pe(f,u){(0,H.Z)(2,arguments);var p=(0,W.Z)(f).getTime(),D=(0,y.Z)(u);return new Date(p+D)}function Ce(f,u){(0,H.Z)(2,arguments);var p=(0,y.Z)(u);return pe(f,36e5*p)}function rt(f,u){(0,H.Z)(2,arguments);var p=(0,y.Z)(u);return pe(f,6e4*p)}function be(f,u){(0,H.Z)(2,arguments);var p=(0,y.Z)(u);return pe(f,1e3*p)}function he(f){var u=new Date(Date.UTC(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()));return u.setUTCFullYear(f.getFullYear()),f.getTime()-u.getTime()}function Re(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f);return u.setHours(0,0,0,0),u}function Dt(f,u){(0,H.Z)(2,arguments);var p=Re(f),D=Re(u),M=p.getTime()-he(p),j=D.getTime()-he(D);return Math.round((M-j)/864e5)}function Ye(f,u){var p=f.getFullYear()-u.getFullYear()||f.getMonth()-u.getMonth()||f.getDate()-u.getDate()||f.getHours()-u.getHours()||f.getMinutes()-u.getMinutes()||f.getSeconds()-u.getSeconds()||f.getMilliseconds()-u.getMilliseconds();return p<0?-1:p>0?1:p}function je(f,u){(0,H.Z)(2,arguments);var p=(0,W.Z)(f),D=(0,W.Z)(u),M=Ye(p,D),j=Math.abs(Dt(p,D));p.setDate(p.getDate()-M*j);var ie=Number(Ye(p,D)===-M),We=M*(j-ie);return 0===We?0:We}function ye(f,u){return(0,H.Z)(2,arguments),(0,W.Z)(f).getTime()-(0,W.Z)(u).getTime()}Math.pow(10,8);var F={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(u){return u<0?Math.ceil(u):Math.floor(u)}};function ve(f){return f?F[f]:F.trunc}function le(f,u,p){(0,H.Z)(2,arguments);var D=ye(f,u)/6e4;return ve(p?.roundingMethod)(D)}function Oe(f,u,p){(0,H.Z)(2,arguments);var D=ye(f,u)/1e3;return ve(p?.roundingMethod)(D)}function xe(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f);return u.setHours(23,59,59,999),u}function Pe(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f),p=u.getMonth();return u.setFullYear(u.getFullYear(),p+1,0),u.setHours(23,59,59,999),u}var ze={};function He(){return ze}function Ve(f,u){var p,D,M,j,ie,We,et,tt;(0,H.Z)(1,arguments);var gt=He(),$e=(0,y.Z)(null!==(p=null!==(D=null!==(M=null!==(j=u?.weekStartsOn)&&void 0!==j?j:null==u||null===(ie=u.locale)||void 0===ie||null===(We=ie.options)||void 0===We?void 0:We.weekStartsOn)&&void 0!==M?M:gt.weekStartsOn)&&void 0!==D?D:null===(et=gt.locale)||void 0===et||null===(tt=et.options)||void 0===tt?void 0:tt.weekStartsOn)&&void 0!==p?p:0);if(!($e>=0&&$e<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Fe=(0,W.Z)(f),yt=Fe.getDay(),wt=6+(yt<$e?-7:0)-(yt-$e);return Fe.setDate(Fe.getDate()+wt),Fe.setHours(23,59,59,999),Fe}function _t(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f),p=u.getDay();return p}function Ae(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f),p=u.getMonth();return p}function ke(f,u){(0,H.Z)(2,arguments);var p=Re(f),D=Re(u);return p.getTime()===D.getTime()}function Le(f,u){(0,H.Z)(2,arguments);var p=(0,W.Z)(f),D=(0,W.Z)(u);return p.getFullYear()===D.getFullYear()&&p.getMonth()===D.getMonth()}function vt(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f);return u.setMilliseconds(0),u}function Ct(f,u){(0,H.Z)(2,arguments);var p=vt(f),D=vt(u);return p.getTime()===D.getTime()}function Ze(f){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(f)}function Tt(f){var u,p;if((0,H.Z)(1,arguments),f&&"function"==typeof f.forEach)u=f;else{if("object"!==Ze(f)||null===f)return new Date(NaN);u=Array.prototype.slice.call(f)}return u.forEach(function(D){var M=(0,W.Z)(D);(void 0===p||p<M||isNaN(Number(M)))&&(p=M)}),p||new Date(NaN)}var Mt=O(3413),bt=O(1144);function d(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f);return u.setSeconds(0,0),u}function v(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f);return u.setDate(1),u.setHours(0,0,0,0),u}function c(f,u){var p,D,M,j,ie,We,et,tt;(0,H.Z)(1,arguments);var gt=He(),$e=(0,y.Z)(null!==(p=null!==(D=null!==(M=null!==(j=u?.weekStartsOn)&&void 0!==j?j:null==u||null===(ie=u.locale)||void 0===ie||null===(We=ie.options)||void 0===We?void 0:We.weekStartsOn)&&void 0!==M?M:gt.weekStartsOn)&&void 0!==D?D:null===(et=gt.locale)||void 0===et||null===(tt=et.options)||void 0===tt?void 0:tt.weekStartsOn)&&void 0!==p?p:0);if(!($e>=0&&$e<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Fe=(0,W.Z)(f),yt=Fe.getDay(),wt=(yt<$e?7:0)+yt-$e;return Fe.setDate(Fe.getDate()-wt),Fe.setHours(0,0,0,0),Fe}function k(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f),p=u.getHours();return p}function T(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f),p=u.getMinutes();return p}function R(f){return new Date(f).getTimezoneOffset()}function N(f,u){(0,H.Z)(2,arguments);var p=(0,y.Z)(u),D=7*p;return ue(f,D)}function U(f,u){(0,H.Z)(2,arguments);var p=(0,W.Z)(f),D=(0,y.Z)(u);if(isNaN(D))return new Date(NaN);if(!D)return p;var M=p.getDate(),j=new Date(p.getTime());j.setMonth(p.getMonth()+D+1,0);var ie=j.getDate();return M>=ie?j:(p.setFullYear(j.getFullYear(),j.getMonth(),M),p)}function B(f,u){(0,H.Z)(2,arguments);var p=(0,y.Z)(u);return ue(f,-p)}function X(f,u){(0,H.Z)(2,arguments);var p=(0,y.Z)(u);return N(f,-p)}function re(f,u){(0,H.Z)(2,arguments);var p=(0,y.Z)(u);return U(f,-p)}function oe(f){return(0,H.Z)(1,arguments),c(f,{weekStartsOn:1})}function Y(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f),p=u.getFullYear(),D=new Date(0);D.setFullYear(p+1,0,4),D.setHours(0,0,0,0);var M=oe(D),j=new Date(0);j.setFullYear(p,0,4),j.setHours(0,0,0,0);var ie=oe(j);return u.getTime()>=M.getTime()?p+1:u.getTime()>=ie.getTime()?p:p-1}function se(f){(0,H.Z)(1,arguments);var u=Y(f),p=new Date(0);p.setFullYear(u,0,4),p.setHours(0,0,0,0);var D=oe(p);return D}var ce=6048e5;function ge(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f),p=oe(u).getTime()-se(u).getTime();return Math.round(p/ce)+1}function Ne(f,u){(0,H.Z)(2,arguments);var p=(0,W.Z)(f),D=(0,y.Z)(u);return p.setDate(D),p}function _e(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f),p=u.getFullYear(),D=u.getMonth(),M=new Date(0);return M.setFullYear(p,D+1,0),M.setHours(0,0,0,0),M.getDate()}function at(f,u){(0,H.Z)(2,arguments);var p=(0,W.Z)(f),D=(0,y.Z)(u),M=p.getFullYear(),j=p.getDate(),ie=new Date(0);ie.setFullYear(M,D,15),ie.setHours(0,0,0,0);var We=_e(ie);return p.setMonth(D,Math.min(j,We)),p}function Je(f,u){(0,H.Z)(2,arguments);var p=(0,W.Z)(f),D=(0,y.Z)(u);return isNaN(p.getTime())?new Date(NaN):(p.setFullYear(D),p)}function ot(f){(0,H.Z)(1,arguments);var u=(0,W.Z)(f),p=u.getDate();return p}function Et(f){return(0,H.Z)(1,arguments),(0,W.Z)(f).getFullYear()}function kt(){return(0,e.pi)((0,e.pi)({},function x(){return{addDays:ue,addHours:Ce,addMinutes:rt,addSeconds:be,differenceInDays:je,differenceInMinutes:le,differenceInSeconds:Oe,endOfDay:xe,endOfMonth:Pe,endOfWeek:Ve,getDay:_t,getMonth:Ae,isSameDay:ke,isSameMonth:Le,isSameSecond:Ct,max:Tt,setHours:Mt.Z,setMinutes:bt.Z,startOfDay:Re,startOfMinute:d,startOfMonth:v,startOfWeek:c,getHours:k,getMinutes:T,getTimezoneOffset:R}}()),{addWeeks:N,addMonths:U,subDays:B,subWeeks:X,subMonths:re,getISOWeek:ge,setDate:Ne,setMonth:at,setYear:Je,getDate:ot,getYear:Et})}},2200:(nt,De,O)=>{O.d(De,{Se:()=>Vr,_8:()=>Pr,GH:()=>Ir,wr:()=>dt,TK:()=>mn,_A:()=>ct,rL:()=>lt,vk:()=>Ht,CG:()=>Lt,MG:()=>br,YX:()=>Mr,wi:()=>Zt,Vw:()=>st,Tl:()=>xt});var e=O(4650),y=O(6895),W=O(8929),H=O(6498),ue=O(8744),pe=O(8723),Ie=O(591),Ce=O(353),ut=O(4241);function be(n){const{subscriber:i,counter:t,period:r}=n;i.next(t),this.schedule({subscriber:i,counter:t+1,period:r},r)}var he=O(7625),Re=O(7545),Xe=O(1059),Ye=O(4850),je=function(){function n(){}return n.prototype.getAllStyles=function(i){return window.getComputedStyle(i)},n.prototype.getStyle=function(i,t){return this.getAllStyles(i)[t]},n.prototype.isStaticPositioned=function(i){return"static"===(this.getStyle(i,"position")||"static")},n.prototype.offsetParent=function(i){for(var t=i.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(i,t){void 0===t&&(t=!0);var r,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(i,"position"))r={top:(r=i.getBoundingClientRect()).top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var o=this.offsetParent(i);r=this.offset(i,!1),o!==document.documentElement&&(a=this.offset(o,!1)),a.top+=o.clientTop,a.left+=o.clientLeft}return r.top-=a.top,r.bottom-=a.top,r.left-=a.left,r.right-=a.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},n.prototype.offset=function(i,t){void 0===t&&(t=!0);var r=i.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft,o={height:r.height||i.offsetHeight,width:r.width||i.offsetWidth,top:r.top+a_top,bottom:r.bottom+a_top,left:r.left+a_left,right:r.right+a_left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},n.prototype.positionElements=function(i,t,r,a){var o=r.split("-"),s=o[0],l=void 0===s?"top":s,g=o[1],h=void 0===g?"center":g,_=a?this.offset(i,!1):this.position(i,!1),A=this.getAllStyles(t),G=parseFloat(A.marginTop),I=parseFloat(A.marginBottom),P=parseFloat(A.marginLeft),q=parseFloat(A.marginRight),V=0,$=0;switch(l){case"top":V=_.top-(t.offsetHeight+G+I);break;case"bottom":V=_.top+_.height;break;case"left":$=_.left-(t.offsetWidth+P+q);break;case"right":$=_.left+_.width}switch(h){case"top":V=_.top;break;case"bottom":V=_.top+_.height-t.offsetHeight;break;case"left":$=_.left;break;case"right":$=_.left+_.width-t.offsetWidth;break;case"center":"top"===l||"bottom"===l?$=_.left+_.width/2-t.offsetWidth/2:V=_.top+_.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round($)+"px, "+Math.round(V)+"px)";var ne=t.getBoundingClientRect(),L=document.documentElement,Q=window.innerHeight||L.clientHeight,ae=window.innerWidth||L.clientWidth;return ne.left>=0&&ne.top>=0&&ne.right<=ae&&ne.bottom<=Q},n}(),St=/\s+/,mt=new je,Te=function(){return Te=Object.assign||function(n){for(var i,t=1,r=arguments.length;t<r;t++)for(var a in i=arguments[t])Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a]);return n},Te.apply(this,arguments)},ht=function(){for(var n=0,i=0,t=arguments.length;i<t;i++)n+=arguments[i].length;var r=Array(n),a=0;for(i=0;i<t;i++)for(var o=arguments[i],s=0,l=o.length;s<l;s++,a++)r[a]=o[s];return r},Qe=(()=>{return(n=Qe||(Qe={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",Qe;var n})(),ft=[Qe.SUNDAY,Qe.SATURDAY],m=86400;function w(n,i){var t=i.startDate,a=i.excluded,o=i.precision;if(a.length<1)return 0;for(var l=n.getDay,g=n.addDays,h=(0,n.addSeconds)(t,i.seconds-1),_=l(t),A=l(h),G=0,I=t,P=function(){var q=l(I);a.some(function(V){return V===q})&&(G+=function C(n,i){var r=i.day,o=i.dayEnd,s=i.startDate,l=i.endDate,g=n.differenceInSeconds,_=n.startOfDay;if("minutes"===i.precision){if(r===i.dayStart)return g((0,n.endOfDay)(s),s)+1;if(r===o)return g(l,_(l))+1}return m}(n,{dayStart:_,dayEnd:A,day:q,precision:o,startDate:t,endDate:h})),I=g(I,1)};I<h;)P();return G}function z(n,i){var r=i.periodStart,a=i.periodEnd;return i.events.filter(function(o){return function S(n,i){var t=i.event,r=i.periodStart,a=i.periodEnd,o=n.isSameSecond,s=t.start,l=t.end||t.start;return!!(s>r&&s<a||l>r&&l<a||s<r&&l>a||o(s,r)||o(s,a)||o(l,r)||o(l,a))}(n,{event:o,periodStart:r,periodEnd:a})})}function K(n,i){var t=i.date,r=i.weekendDays,a=void 0===r?ft:r,s=n.isSameDay,l=n.getDay,g=(0,n.startOfDay)(new Date),h=l(t);return{date:t,day:h,isPast:t<g,isToday:s(t,g),isFuture:t>g,isWeekend:a.indexOf(h)>-1}}function ye(n,i){for(var a=i.excluded,o=void 0===a?[]:a,s=i.weekendDays,l=i.viewStart,g=void 0===l?n.startOfWeek(i.viewDate,{weekStartsOn:i.weekStartsOn}):l,h=i.viewEnd,_=void 0===h?n.addDays(g,7):h,A=n.addDays,G=n.getDay,I=[],P=g;P<_;)o.some(function(q){return G(P)===q})||I.push(K(n,{date:P,weekendDays:s})),P=A(P,1);return I}function fe(n,i){var t=i.events,r=void 0===t?[]:t,a=i.excluded,o=void 0===a?[]:a,s=i.precision,l=void 0===s?"days":s,g=i.absolutePositionedEvents,h=void 0!==g&&g,_=i.viewStart,A=i.viewEnd;_=n.startOfDay(_),A=n.endOfDay(A);var G=n.differenceInSeconds,I=n.differenceInDays,P=function F(n,i){for(var r=i.date2,a=i.excluded,o=i.date1,s=0;o<r;)-1===a.indexOf(n.getDay(o))&&s++,o=n.addDays(o,1);return s}(n,{date1:_,date2:A,excluded:o}),q=I(A,_)+1,V=r.filter(function(L){return L.allDay}).map(function(L){var Q=function b(n,i){var t=i.event,r=i.startOfWeek,a=i.excluded,o=i.precision,s=n.differenceInDays,l=n.startOfDay,g=n.differenceInSeconds;if(t.start<r)return 0;var h=0;switch(o){case"days":h=s(l(t.start),r)*m;break;case"minutes":h=g(t.start,r)}return h-=w(n,{startDate:r,seconds:h,excluded:a,precision:o}),Math.abs(h/m)}(n,{event:L,startOfWeek:_,excluded:o,precision:l}),ae=function E(n,i){var t=i.event,r=i.offset,o=i.excluded,s=i.precision,l=i.totalDaysInView,h=n.differenceInSeconds,_=n.addDays,A=n.endOfDay,G=n.differenceInDays,I=m,P=(0,n.max)([t.start,i.startOfWeekDate]);t.end&&(I="minutes"===s?h(t.end,P):G(_(A(t.end),1),P)*m);var q=r*m,$=l*m;return q+I>$&&(I=$-q),(I-=w(n,{startDate:P,seconds:I,excluded:o,precision:s}))/m}(n,{event:L,offset:Q,startOfWeekDate:_,excluded:o,precision:l,totalDaysInView:q});return{event:L,offset:Q,span:ae}}).filter(function(L){return L.offset<P}).filter(function(L){return L.span>0}).map(function(L){return{event:L.event,offset:L.offset,span:L.span,startsBeforeWeek:L.event.start<_,endsAfterWeek:(L.event.end||L.event.start)>A}}).sort(function(L,Q){var ae=G(L.event.start,Q.event.start);return 0===ae?G(Q.event.end||Q.event.start,L.event.end||L.event.start):ae}),$=[],ne=[];return V.forEach(function(L,Q){if(-1===ne.indexOf(L)){ne.push(L);var ae=L.span+L.offset,me=V.slice(Q+1).filter(function(J){if(J.offset>=ae&&ae+J.span<=q&&-1===ne.indexOf(J)){var Z=J.offset-ae;return h||(J.offset=Z),ae+=J.span+Z,ne.push(J),!0}}),Se=ht([L],me),ee=Se.filter(function(J){return J.event.id}).map(function(J){return J.event.id}).join("-");$.push(Te({row:Se},ee?{id:ee}:{}))}}),$}function ve(n,i){var t=i.events,r=i.viewDate,a=i.hourSegments,o=i.hourDuration,s=i.dayStart,l=i.dayEnd,g=i.weekStartsOn,h=i.excluded,_=i.weekendDays,A=i.segmentHeight,G=i.viewStart,I=i.viewEnd,P=i.minimumEventHeight,q=function It(n,i){var t=i.viewDate,r=i.hourSegments,a=i.hourDuration,o=i.dayStart,s=i.dayEnd,l=n.setMinutes,g=n.setHours,h=n.startOfDay,_=n.startOfMinute,A=n.endOfDay,G=n.addMinutes,P=n.addDays,q=[],V=l(g(h(t),ze(o.hour)),He(o.minute)),$=l(g(_(A(t)),ze(s.hour)),He(s.minute)),ne=(a||60)/r,L=h(t),Q=A(t),ae=function(we){return we};n.getTimezoneOffset(L)!==n.getTimezoneOffset(Q)&&(L=P(L,1),V=P(V,1),$=P($,1),ae=function(we){return P(we,-1)});for(var me=a?1440/a:60,Se=0;Se<me;Se++){for(var ee=[],J=0;J<r;J++){var Z=G(G(V,Se*(a||60)),J*ne);Z>=V&&Z<$&&ee.push({date:ae(Z),displayDate:Z,isStart:0===J})}ee.length>0&&q.push({segments:ee})}return q}(n,{viewDate:r,hourSegments:a,hourDuration:o,dayStart:s,dayEnd:l}),V=ye(n,{viewDate:r,weekStartsOn:g,excluded:h,weekendDays:_,viewStart:G,viewEnd:I}),$=n.setHours,ne=n.setMinutes,L=n.getHours,Q=n.getMinutes;return V.map(function(ae){var me=function Pe(n,i){var t=i.events,r=i.viewDate,a=i.hourSegments,o=i.dayStart,s=i.dayEnd,l=i.eventWidth,g=i.segmentHeight,h=i.hourDuration,_=i.minimumEventHeight,A=n.setMinutes,G=n.setHours,I=n.startOfDay,P=n.startOfMinute,q=n.endOfDay,V=n.differenceInMinutes,$=A(G(I(r),ze(o.hour)),He(o.minute)),ne=A(G(P(q(r)),ze(s.hour)),He(s.minute));ne.setSeconds(59,999);var L=[],Q=z(n,{events:t.filter(function(ee){return!ee.allDay}),periodStart:$,periodEnd:ne}),ae=Q.sort(function(ee,J){return ee.start.valueOf()-J.start.valueOf()}).map(function(ee){var J=ee.start,Z=ee.end||J,we=J<$,te=Z>ne,Ee=a*g/(h||60),de=0;if(J>$){var Yt=n.getTimezoneOffset(J),Xt=n.getTimezoneOffset($)-Yt;de+=V(J,$)+Xt}de*=Ee,de=Math.floor(de);var Wt=we?$:J,Qt=te?ne:Z,Me=n.getTimezoneOffset(Wt)-n.getTimezoneOffset(Qt),Be=V(Qt,Wt)+Me;ee.end?Be*=Ee:Be=g,_&&Be<_&&(Be=_),Be=Math.floor(Be);for(var Kt=xe(L,de,de+Be),qt=0;Kt.some(function(Zr){return Zr.left===qt});)qt+=l;var hn={event:ee,height:Be,width:l,top:de,left:qt,startsBeforeDay:we,endsAfterDay:te};return L.push(hn),hn}),me=Math.max.apply(Math,ae.map(function(ee){return ee.left+ee.width})),Se=z(n,{events:t.filter(function(ee){return ee.allDay}),periodStart:I($),periodEnd:q(ne)});return{events:ae,width:me,allDayEvents:Se,period:{events:Q,start:$,end:ne}}}(n,{events:t,viewDate:ae.date,hourSegments:a,dayStart:s,dayEnd:l,segmentHeight:A,eventWidth:1,hourDuration:o,minimumEventHeight:P}),Se=q.map(function(Z){var we=Z.segments.map(function(te){var Ee=ne($(ae.date,L(te.date)),Q(te.date));return Te(Te({},te),{date:Ee})});return Te(Te({},Z),{segments:we})});function ee(Z,we){var te=Math.max.apply(Math,we.map(function(de){return de.left+1})),Ee=Z.filter(function(de){return de.left>=te}).filter(function(de){return xe(we,de.top,de.top+de.height).length>0});return Ee.length>0?ee(Z,Ee):te}var J=me.events.map(function(Z){var te=100/ee(me.events,xe(me.events,Z.top,Z.top+Z.height));return Te(Te({},Z),{left:Z.left*te,width:te})});return{hours:Se,date:ae.date,events:J.map(function(Z){var we=xe(J.filter(function(te){return te.left>Z.left}),Z.top,Z.top+Z.height);return we.length>0?Te(Te({},Z),{width:Math.min.apply(Math,we.map(function(te){return te.left}))-Z.left}):Z})}})}function xe(n,i,t){return n.filter(function(r){var a=r.top,o=r.top+r.height;return i<o&&o<t||i<a&&a<t||a<=i&&t<=o})}function ze(n){return Math.max(Math.min(23,n),0)}function He(n){return Math.max(Math.min(59,n),0)}var Ve=(()=>{return(n=Ve||(Ve={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",Ve;var n})(),Ae=O(5321),ke=O(7340),Le=O(6787),vt=O(3753),Ct=O(2994),Ze=O(8117),Tt=O(1709),Mt=O(2986),bt=O(519),d=O(2198);const v=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function k(n,i,t,r){const a=i.querySelectorAll(n);if(a.length){const o=t.querySelectorAll(n);for(let s=0;s<a.length;s++)r(a[s],o[s])}}let T=0;function R(n,i){"file"!==i.type&&(i.value=n.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${T++}`)}function x(n,i){const t=i.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function N(n,i,t,r){const a={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return i.top&&(a.top+=r),i.bottom&&(a.bottom+=r),i.left&&(a.left+=t),i.right&&(a.right+=t),a.height=a.bottom-a.top,a.width=a.right-a.left,a}const B=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function X(n,i){return n.left&&n.top?i.topLeft:n.right&&n.top?i.topRight:n.left&&n.bottom?i.bottomLeft:n.right&&n.bottom?i.bottomRight:n.left||n.right?i.leftOrRight:n.top||n.bottom?i.topOrBottom:""}function re({edges:n,initialRectangle:i,newRectangle:t}){const r={};return Object.keys(n).forEach(a=>{r[a]=(t[a]||0)-(i[a]||0)}),r}const oe="resize-active";let ce=(()=>{class n{constructor(t,r,a,o){this.platformId=t,this.renderer=r,this.elm=a,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=B,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new W.xQ,this.mousedown=new W.xQ,this.mousemove=new W.xQ,this.destroy$=new W.xQ,this.pointerEventListeners=ge.getInstance(r,o)}ngOnInit(){const t=(0,Le.T)(this.pointerEventListeners.pointerDown,this.mousedown),r=(0,Le.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,Ct.b)(({event:h})=>{if(o)try{h.preventDefault()}catch{}}),(0,Ze.B)()),a=(0,Le.T)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>Object.assign(Object.assign({},B),this.resizeCursors);t.pipe((0,Tt.zg)(h=>{function _(I){return{clientX:I.clientX-h.clientX,clientY:I.clientY-h.clientY}}const A=()=>{const I={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?I.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(I.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?I.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(I.y=+this.resizeSnapGrid.bottom)),I};function G(I,P){return{x:Math.ceil(I.clientX/P.x),y:Math.ceil(I.clientY/P.y)}}return(0,Le.T)(r.pipe((0,Mt.q)(1)).pipe((0,Ye.U)(I=>[,I])),r.pipe((0,bt.G)())).pipe((0,Ye.U)(([I,P])=>[I&&_(I),_(P)])).pipe((0,d.h)(([I,P])=>{if(!I)return!0;const q=A(),V=G(I,q),$=G(P,q);return V.x!==$.x||V.y!==$.y})).pipe((0,Ye.U)(([,I])=>{const P=A();return{clientX:Math.round(I.clientX/P.x)*P.x,clientY:Math.round(I.clientY/P.y)*P.y}})).pipe((0,he.R)((0,Le.T)(a,t)))})).pipe((0,d.h)(()=>!!o)).pipe((0,Ye.U)(({clientX:h,clientY:_})=>N(o.startingRect,o.edges,h,_))).pipe((0,d.h)(h=>this.allowNegativeResizes||!!(h.height&&h.width&&h.height>0&&h.width>0))).pipe((0,d.h)(h=>!this.validateResize||this.validateResize({rectangle:h,edges:re({edges:o.edges,initialRectangle:o.startingRect,newRectangle:h})})),(0,he.R)(this.destroy$)).subscribe(h=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${h.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${h.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${h.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${h.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:re({edges:o.edges,initialRectangle:o.startingRect,newRectangle:h}),rectangle:h})}),o.currentRect=h}),t.pipe((0,Ye.U)(({edges:h})=>h||{}),(0,d.h)(h=>Object.keys(h).length>0),(0,he.R)(this.destroy$)).subscribe(h=>{o&&s();const _=function U(n,i){let t=0,r=0;const a=n.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>a[l]).find(l=>!!l);if(s&&s.includes("translate")&&(t=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===i)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-r,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-r,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{const l=n.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-r,bottom:l.bottom-r,left:l.left-t,right:l.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:h,startingRect:_,currentRect:_};const A=l(),G=X(o.edges,A);this.renderer.setStyle(document.body,"cursor",G),this.setElementClass(this.elm,oe,!0),this.enableGhostResize&&(o.clonedNode=function c(n){const i=n.cloneNode(!0),t=i.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();return i.removeAttribute("id"),t.forEach(a=>{a.removeAttribute("id")}),"canvas"===r?x(n,i):("input"===r||"select"===r||"textarea"===r)&&R(n,i),k("canvas",n,i,x),k("input, textarea, select",n,i,R),i}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",X(o.edges,A)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:re({edges:h,initialRectangle:_,newRectangle:_}),rectangle:N(_,{},0,0)})})}),a.pipe((0,he.R)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,oe),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:re({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnDestroy(){(0,y.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(t,r,a){a?this.renderer.addClass(t.nativeElement,r):this.renderer.removeClass(t.nativeElement,r)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class ge{constructor(i,t){this.pointerDown=new H.y(r=>{let a,o;return t.runOutsideAngular(()=>{a=i.listen("document","mousedown",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),v&&(o=i.listen("document","touchstart",s=>{r.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{a(),v&&o()}}).pipe((0,Ze.B)()),this.pointerMove=new H.y(r=>{let a,o;return t.runOutsideAngular(()=>{a=i.listen("document","mousemove",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),v&&(o=i.listen("document","touchmove",s=>{r.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{a(),v&&o()}}).pipe((0,Ze.B)()),this.pointerUp=new H.y(r=>{let a,o,s;return t.runOutsideAngular(()=>{a=i.listen("document","mouseup",l=>{r.next({clientX:l.clientX,clientY:l.clientY,event:l})}),v&&(o=i.listen("document","touchend",l=>{r.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),s=i.listen("document","touchcancel",l=>{r.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{a(),v&&(o(),s())}}).pipe((0,Ze.B)())}static getInstance(i,t){return ge.instance||(ge.instance=new ge(i,t)),ge.instance}}let Ne=(()=>{class n{constructor(t,r,a,o){this.renderer=t,this.element=r,this.zone=a,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new W.xQ}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),v&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),(0,Le.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,r,a){t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:a,edges:this.resizeEdges})}onMouseup(t,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,r,a){this.resizable.mousemove.next({clientX:r,clientY:a,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return(0,vt.R)(this.element.nativeElement,t).pipe((0,he.R)(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(ce,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var at=O(655);const Je=function(n){return{action:n}};function ot(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",5),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:a}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=i.$implicit;e.Q6J("ngClass",t.cssClass)("innerHtml",t.label,e.oJD),e.uIk("aria-label",e.xi3(1,3,e.VKq(6,Je,t),"actionButtonLabel"))}}function Et(n,i){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,ot,2,8,"a",4),e.qZA()),2&n){const t=e.oxw(),r=t.event,a=t.trackByActionId;e.xp6(1),e.Q6J("ngForOf",r.actions)("ngForTrackBy",a)}}function kt(n,i){1&n&&e.YNc(0,Et,2,2,"span",2),2&n&&e.Q6J("ngIf",i.event.actions)}function f(n,i){}const u=function(n,i){return{event:n,trackByActionId:i}},p=function(){return{}};function D(n,i){if(1&n&&(e._UZ(0,"span",2),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y")),2&n){const t=i.event;e.Q6J("innerHTML",e.Dn7(1,2,t.title,i.view,t),e.oJD),e.uIk("aria-hidden",e.xi3(2,6,e.DdM(9,p),"hideEventTitle"))}}function M(n,i){}const j=function(n,i){return{event:n,view:i}};function ie(n,i){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"div",3)(2,"div",4),e.qZA()),2&n){const t=i.contents;e.Q6J("ngClass","cal-tooltip-"+i.placement),e.xp6(2),e.Q6J("innerHtml",t,e.oJD)}}function We(n,i){}const et=function(n,i,t){return{contents:n,placement:i,event:t}};function tt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.columnHeaderClicked.emit({isoDayNumber:s.day,sourceEvent:a}))}),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(1),e.hij(" ",e.Dn7(2,10,t.date,"monthViewColumnHeader",r)," ")}}function gt(n,i){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,tt,3,14,"div",3),e.qZA()),2&n){const t=i.days,r=i.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",r)}}function $e(n,i){}const Fe=function(n,i,t){return{days:n,locale:i,trackByWeekDayHeaderDate:t}};function yt(n,i){if(1&n&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&n){const t=e.oxw().day;e.xp6(1),e.Oqu(t.badgeTotal)}}const wt=function(n){return{backgroundColor:n}},fn=function(n,i){return{event:n,draggedFrom:i}},Ot=function(n,i){return{x:n,y:i}},Rt=function(){return{delay:300,delta:30}};function vn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).highlightDay;return e.KtG(s.emit({event:o}))})("mouseleave",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).unhighlightDay;return e.KtG(s.emit({event:o}))})("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:a}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(2),a=r.tooltipPlacement,o=r.tooltipTemplate,s=r.tooltipAppendToBody,l=r.tooltipDelay,g=r.day,h=r.validateDrag;e.ekj("cal-draggable",t.draggable),e.Q6J("ngStyle",e.VKq(22,wt,null==t.color?null:t.color.primary))("ngClass",null==t?null:t.cssClass)("mwlCalendarTooltip",e.Dn7(1,15,t.title,"monthTooltip",t))("tooltipPlacement",a)("tooltipEvent",t)("tooltipTemplate",o)("tooltipAppendToBody",s)("tooltipDelay",l)("dropData",e.WLB(24,fn,t,g))("dragAxis",e.WLB(27,Ot,t.draggable,t.draggable))("validateDrag",h)("touchStartLongPress",e.DdM(30,Rt)),e.uIk("aria-hidden",e.xi3(2,19,e.DdM(31,p),"hideMonthCellEvents"))}}function gn(n,i){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,vn,3,32,"div",9),e.qZA()),2&n){const t=e.oxw(),r=t.day,a=t.trackByEventId;e.xp6(1),e.Q6J("ngForOf",r.events)("ngForTrackBy",a)}}const yn=function(n,i){return{day:n,locale:i}};function wn(n,i){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.TgZ(2,"span",3),e.YNc(3,yt,2,1,"span",4),e.TgZ(4,"span",5),e._uU(5),e.ALo(6,"calendarDate"),e.qZA()()(),e.YNc(7,gn,2,2,"div",6)),2&n){const t=i.day,r=i.locale;e.uIk("aria-label",e.xi3(1,4,e.WLB(11,yn,t,r),"monthCell")),e.xp6(3),e.Q6J("ngIf",t.badgeTotal>0),e.xp6(2),e.Oqu(e.Dn7(6,7,t.date,"monthViewDayNumber",r)),e.xp6(2),e.Q6J("ngIf",t.events.length>0)}}function Dn(n,i){}const _n=function(n,i,t,r,a,o,s,l,g,h,_,A){return{day:n,openDay:i,locale:t,tooltipPlacement:r,highlightDay:a,unhighlightDay:o,eventClicked:s,tooltipTemplate:l,tooltipAppendToBody:g,tooltipDelay:h,trackByEventId:_,validateDrag:A}},Cn=function(n){return{event:n}},en=function(n,i){return{event:n,locale:i}};function Tn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e._UZ(1,"span",8),e._uU(2," "),e.TgZ(3,"mwl-calendar-event-title",9),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:a}))}),e.ALo(4,"calendarA11y"),e.qZA(),e._uU(5," "),e._UZ(6,"mwl-calendar-event-actions",10),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(2).validateDrag,a=e.oxw();e.ekj("cal-draggable",t.draggable),e.Q6J("ngClass",null==t?null:t.cssClass)("dropData",e.VKq(16,Cn,t))("dragAxis",e.WLB(18,Ot,t.draggable,t.draggable))("validateDrag",r)("touchStartLongPress",e.DdM(21,Rt)),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,wt,null==t.color?null:t.color.primary)),e.xp6(2),e.Q6J("event",t)("customTemplate",a.eventTitleTemplate),e.uIk("aria-label",e.xi3(4,13,e.WLB(24,en,t,a.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t)("customTemplate",a.eventActionsTemplate)}}const tn=function(n,i){return{date:n,locale:i}};function En(n,i){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"span",4),e.ALo(2,"calendarA11y"),e._UZ(3,"span",5),e.ALo(4,"calendarA11y"),e.YNc(5,Tn,7,27,"div",6),e.qZA()),2&n){const t=e.oxw(),r=t.events,a=t.trackByEventId,o=e.oxw();e.Q6J("@collapse",void 0),e.xp6(1),e.uIk("aria-label",e.xi3(2,5,e.WLB(11,tn,o.date,o.locale),"openDayEventsAlert")),e.xp6(2),e.uIk("aria-label",e.xi3(4,8,e.WLB(14,tn,o.date,o.locale),"openDayEventsLandmark")),e.xp6(2),e.Q6J("ngForOf",r)("ngForTrackBy",a)}}function kn(n,i){1&n&&e.YNc(0,En,6,17,"div",2),2&n&&e.Q6J("ngIf",i.isOpen)}function Sn(n,i){}const Mn=function(n,i,t,r,a){return{events:n,eventClicked:i,isOpen:t,trackByEventId:r,validateDrag:a}};function bn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-cell",7),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:a}))})("highlightDay",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(a.event,!0))})("unhighlightDay",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(a.event,!1))})("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(s,a.dropData.event,a.dropData.draggedFrom))})("eventClicked",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(2);e.Q6J("ngClass",null==t?null:t.cssClass)("day",t)("openDay",r.openDay)("locale",r.locale)("tooltipPlacement",r.tooltipPlacement)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipTemplate",r.tooltipTemplate)("tooltipDelay",r.tooltipDelay)("customTemplate",r.cellTemplate)("ngStyle",e.VKq(15,wt,t.backgroundColor))("clickListenerDisabled",0===r.dayClicked.observers.length),e.uIk("tabindex",e.xi3(1,12,e.DdM(17,p),"monthCellTabIndex"))}}function On(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4),e.YNc(2,bn,2,18,"mwl-calendar-month-cell",5),e.ALo(3,"slice"),e.qZA(),e.TgZ(4,"mwl-calendar-open-day-events",6),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))})("drop",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.eventDropped(o.openDay,a.dropData.event,a.dropData.draggedFrom))}),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,9,r.view.days,t,t+r.view.totalDaysVisibleInWeek))("ngForTrackBy",r.trackByDate),e.xp6(2),e.Q6J("locale",r.locale)("isOpen",r.openRowIndex===t)("events",null==r.openDay?null:r.openDay.events)("date",null==r.openDay?null:r.openDay.date)("customTemplate",r.openDayEventsTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)}}function xn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw().dayHeaderClicked;return e.KtG(l.emit({day:s,sourceEvent:a}))})("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw().eventDropped;return e.KtG(l.emit({event:a.dropData.event,newStart:s.date}))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw().dragEnter;return e.KtG(s.emit({date:o.date}))}),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"calendarDate"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"calendarDate"),e.qZA()()}if(2&n){const t=i.$implicit,r=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(2),e.Oqu(e.Dn7(3,11,t.date,"weekViewColumnHeader",r)),e.xp6(4),e.Oqu(e.Dn7(7,15,t.date,"weekViewColumnSubHeader",r))}}function Hn(n,i){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,xn,8,19,"div",3),e.qZA()),2&n){const t=i.days,r=i.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",r)}}function An(n,i){}const Wn=function(n,i,t,r,a,o){return{days:n,locale:i,dayHeaderClicked:t,eventDropped:r,dragEnter:a,trackByWeekDayHeaderDate:o}},In=function(n,i){return{backgroundColor:n,borderColor:i}};function Rn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("mwlClick",function(a){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:a}))})("mwlKeydownEnter",function(a){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:a}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e._UZ(3,"mwl-calendar-event-actions",3),e._uU(4," "),e._UZ(5,"mwl-calendar-event-title",4),e.qZA()}if(2&n){const t=i.weekEvent,r=i.tooltipPlacement,a=i.tooltipTemplate,o=i.tooltipAppendToBody,s=i.tooltipDisabled,l=i.tooltipDelay,g=i.daysInWeek,h=e.oxw();e.Q6J("ngStyle",e.WLB(20,In,null==t.event.color?null:t.event.color.secondary,null==t.event.color?null:t.event.color.primary))("mwlCalendarTooltip",s?"":e.Dn7(1,13,t.event.title,1===g?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",r)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",a)("tooltipAppendToBody",o)("tooltipDelay",l),e.uIk("aria-label",e.xi3(2,17,e.WLB(23,en,t.tempEvent||t.event,h.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t.tempEvent||t.event)("customTemplate",h.eventActionsTemplate),e.xp6(2),e.Q6J("event",t.tempEvent||t.event)("customTemplate",h.eventTitleTemplate)("view",1===g?"day":"week")}}function zn(n,i){}const Ln=function(n,i,t,r,a,o,s,l,g){return{weekEvent:n,tooltipPlacement:i,eventClicked:t,tooltipTemplate:r,tooltipAppendToBody:a,tooltipDisabled:o,tooltipDelay:s,column:l,daysInWeek:g}};function Fn(n,i){if(1&n&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()),2&n){const t=e.oxw(),r=t.segment,a=t.daysInWeek,o=t.locale;e.xp6(1),e.hij(" ",e.Dn7(2,1,r.displayDate,1===a?"dayViewHour":"weekViewHour",o)," ")}}function Bn(n,i){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.YNc(2,Fn,3,5,"div",3),e.qZA()),2&n){const t=i.segment,a=i.isTimeLabel,o=i.daysInWeek;e.Udp("height",i.segmentHeight,"px"),e.ekj("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),e.Q6J("ngClass",t.cssClass),e.uIk("aria-hidden",e.xi3(1,9,e.DdM(12,p),1===o?"hideDayHourSegment":"hideWeekHourSegment")),e.xp6(2),e.Q6J("ngIf",a)}}function Yn(n,i){}const Vn=function(n,i,t,r,a){return{segment:n,locale:i,segmentHeight:t,isTimeLabel:r,daysInWeek:a}};function Pn(n,i){if(1&n&&e._UZ(0,"div",3),2&n){const t=e.oxw().topPx;e.Udp("top",t,"px")}}function Zn(n,i){1&n&&e.YNc(0,Pn,1,2,"div",2),2&n&&e.Q6J("ngIf",i.isVisible)}function Nn(n,i){}const $n=function(n,i,t,r,a,o,s){return{columnDate:n,dayStartHour:i,dayStartMinute:t,dayEndHour:r,dayEndMinute:a,isVisible:o,topPx:s}};function Gn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(a,s.date,!0))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}}const jn=function(){return{left:!0}};function Jn(n,i){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,jn))}const Un=function(){return{right:!0}};function Xn(n,i){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,Un))}const Qn=function(n,i){return{left:n,right:i}},nn=function(n,i){return{event:n,calendarId:i}},Kn=function(n){return{x:n}};function qn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",17,18),e.NdJ("resizeStart",function(a){const s=e.CHM(t).$implicit;e.oxw();const l=e.MAs(1),g=e.oxw(2);return e.KtG(g.allDayEventResizeStarted(l,s,a))})("resizing",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.allDayEventResizing(s,a,l.dayColumnWidth))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.allDayEventResizeEnded(o))})("dragStart",function(){const o=e.CHM(t).$implicit,s=e.MAs(1);e.oxw();const l=e.MAs(1),g=e.oxw(2);return e.KtG(g.dragStarted(l,s,o,!1))})("dragging",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.allDayEventDragMove())})("dragEnd",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.dragEnded(s,a,l.dayColumnWidth))}),e.YNc(2,Jn,1,2,"div",19),e.TgZ(3,"mwl-calendar-week-view-event",20),e.NdJ("eventClicked",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventClicked.emit({event:s.event,sourceEvent:a.sourceEvent}))}),e.qZA(),e.YNc(4,Xn,1,2,"div",21),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(3);e.Udp("width",100/r.days.length*t.span,"%")("margin-left",r.rtl?null:100/r.days.length*t.offset,"%")("margin-right",r.rtl?100/r.days.length*(r.days.length-t.offset)*-1:null,"%"),e.ekj("cal-draggable",t.event.draggable&&0===r.allDayEventResizes.size)("cal-starts-within-week",!t.startsBeforeWeek)("cal-ends-within-week",!t.endsAfterWeek),e.Q6J("ngClass",null==t.event?null:t.event.cssClass)("resizeSnapGrid",e.WLB(32,Qn,r.dayColumnWidth,r.dayColumnWidth))("validateResize",r.validateResize)("dropData",e.WLB(35,nn,t.event,r.calendarId))("dragAxis",e.WLB(38,Ot,t.event.draggable&&0===r.allDayEventResizes.size,!r.snapDraggedEvents&&t.event.draggable&&0===r.allDayEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?e.VKq(41,Kn,r.dayColumnWidth):e.DdM(43,p))("validateDrag",r.validateDrag)("touchStartLongPress",e.DdM(44,Rt)),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeWeek),e.xp6(1),e.Q6J("locale",r.locale)("weekEvent",t)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("daysInWeek",r.daysInWeek),e.xp6(1),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterWeek)}}function er(n,i){if(1&n&&(e.TgZ(0,"div",14,15),e.YNc(2,qn,5,45,"div",16),e.qZA()),2&n){const t=i.$implicit,r=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.row)("ngForTrackBy",r.trackByWeekAllDayEvent)}}function tr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8,9),e.NdJ("dragEnter",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.dragEnter("allDay"))})("dragLeave",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.dragLeave("allDay"))}),e.TgZ(2,"div",5),e._UZ(3,"div",10),e.YNc(4,Gn,1,0,"div",11),e.qZA(),e.YNc(5,er,3,2,"div",12),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",t.allDayEventsLabelTemplate),e.xp6(1),e.Q6J("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),e.xp6(1),e.Q6J("ngForOf",t.view.allDayEventRows)("ngForTrackBy",t.trackById)}}function nr(n,i){if(1&n&&e._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&n){const t=i.$implicit,r=e.oxw(3);e.Udp("height",r.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",r.daysInWeek)}}function rr(n,i){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,nr,1,8,"mwl-calendar-week-view-hour-segment",27),e.qZA()),2&n){const t=i.$implicit,r=i.odd,a=e.oxw(2);e.ekj("cal-hour-odd",r),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",a.trackByHourSegment)}}function ir(n,i){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,rr,2,4,"div",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.view.hourColumns[0].hours)("ngForTrackBy",t.trackByHour)}}const ar=function(){return{left:!0,top:!0}};function or(n,i){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,ar))}function sr(n,i){}function lr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-event",36),e.NdJ("eventClicked",function(a){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.eventClicked.emit({event:o.event,sourceEvent:a.sourceEvent}))}),e.qZA()}if(2&n){const t=e.oxw().$implicit,r=e.oxw().$implicit,a=e.oxw();e.Q6J("locale",a.locale)("weekEvent",t)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDisabled",a.dragActive||a.timeEventResizes.size>0)("tooltipDelay",a.tooltipDelay)("customTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("column",r)("daysInWeek",a.daysInWeek)}}const dr=function(){return{right:!0,bottom:!0}};function cr(n,i){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,dr))}const ur=function(n,i,t,r){return{left:n,right:i,top:t,bottom:r}};function mr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",33,18),e.NdJ("resizeStart",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2),g=e.MAs(6);return e.KtG(l.timeEventResizeStarted(g,s,a))})("resizing",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.timeEventResizing(s,a))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.timeEventResizeEnded(o))})("dragStart",function(){const o=e.CHM(t).$implicit,s=e.MAs(1),l=e.oxw(2),g=e.MAs(6);return e.KtG(l.dragStarted(g,s,o,!0))})("dragging",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragMove(s,a))})("dragEnd",function(a){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragEnded(s,a,l.dayColumnWidth,!0))}),e.YNc(2,or,1,2,"div",19),e.YNc(3,sr,0,0,"ng-template",34),e.YNc(4,lr,1,12,"ng-template",null,35,e.W1O),e.YNc(6,cr,1,2,"div",21),e.qZA()}if(2&n){const t=i.$implicit,r=e.MAs(5),a=e.oxw(2);e.Udp("top",t.top,"px")("height",t.height,"px")("left",t.left,"%")("width",t.width,"%"),e.ekj("cal-draggable",t.event.draggable&&0===a.timeEventResizes.size)("cal-starts-within-day",!t.startsBeforeDay)("cal-ends-within-day",!t.endsAfterDay),e.Q6J("ngClass",t.event.cssClass)("hidden",0===t.height&&0===t.width)("resizeSnapGrid",e.l5B(29,ur,a.dayColumnWidth,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight,a.eventSnapSize||a.hourSegmentHeight))("validateResize",a.validateResize)("allowNegativeResizes",!0)("dropData",e.WLB(34,nn,t.event,a.calendarId))("dragAxis",e.WLB(37,Ot,t.event.draggable&&0===a.timeEventResizes.size,t.event.draggable&&0===a.timeEventResizes.size))("dragSnapGrid",a.snapDraggedEvents?e.WLB(40,Ot,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight):e.DdM(43,p))("touchStartLongPress",e.DdM(44,Rt))("ghostDragEnabled",!a.snapDraggedEvents)("ghostElementTemplate",r)("validateDrag",a.validateDrag),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeDay),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(3),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterDay)}}function pr(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-hour-segment",38),e.NdJ("mwlClick",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.hourSegmentClicked.emit({date:s.date,sourceEvent:a}))})("drop",function(a){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventDropped(a,s.date,!1))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}if(2&n){const t=i.$implicit,r=e.oxw(3);e.Udp("height",r.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("daysInWeek",r.daysInWeek)("clickListenerDisabled",0===r.hourSegmentClicked.observers.length)("dragOverClass",r.dragActive&&r.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===r.daysInWeek)}}function hr(n,i){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,pr,1,10,"mwl-calendar-week-view-hour-segment",37),e.qZA()),2&n){const t=i.$implicit,r=i.odd,a=e.oxw(2);e.ekj("cal-hour-odd",r),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",a.trackByHourSegment)}}function fr(n,i){if(1&n&&(e.TgZ(0,"div",29),e._UZ(1,"mwl-calendar-week-view-current-time-marker",30),e.TgZ(2,"div",31),e.YNc(3,mr,7,45,"div",32),e.qZA(),e.YNc(4,hr,2,4,"div",25),e.qZA()),2&n){const t=i.$implicit,r=e.oxw();e.xp6(1),e.Q6J("columnDate",t.date)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("hourSegments",r.hourSegments)("hourDuration",r.hourDuration)("hourSegmentHeight",r.hourSegmentHeight)("customTemplate",r.currentTimeMarkerTemplate),e.xp6(2),e.Q6J("ngForOf",t.events)("ngForTrackBy",r.trackByWeekTimeEvent),e.xp6(1),e.Q6J("ngForOf",t.hours)("ngForTrackBy",r.trackByHour)}}let st=(()=>{class n{constructor(t,r,a){this.renderer=t,this.elm=r,this.document=a,this.clickListenerDisabled=!1,this.click=new e.vpe,this.destroy$=new W.xQ}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,he.R)(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new H.y(t=>this.renderer.listen(this.elm.nativeElement,"click",r=>{t.next(r)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(y.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),xt=(()=>{class n{constructor(t,r,a){this.host=t,this.ngZone=r,this.renderer=a,this.keydown=new e.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(13===t.keyCode||13===t.which||"Enter"===t.key)&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),zt=(()=>{class n{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:r}){return t.badgeTotal>0?`\n        ${(0,y.p6)(t.date,"EEEE MMMM d",r)},\n        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,y.p6)(t.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:t,locale:r}){return`\n      Beginning of expanded view for ${(0,y.p6)(t,"EEEE MMMM dd",r)}\n    `}openDayEventsAlert({date:t,locale:r}){return`${(0,y.p6)(t,"EEEE MMMM dd",r)} expanded`}eventDescription({event:t,locale:r}){if(!0===t.allDay)return this.allDayEventDescription({event:t,locale:r});const a=`\n      ${(0,y.p6)(t.start,"EEEE MMMM dd",r)},\n      ${t.title}, from ${(0,y.p6)(t.start,"hh:mm a",r)}\n    `;return t.end?a+` to ${(0,y.p6)(t.end,"hh:mm a",r)}`:a}allDayEventDescription({event:t,locale:r}){const a=`\n      ${t.title}, event spans multiple days:\n      start time ${(0,y.p6)(t.start,"MMMM dd hh:mm a",r)}\n    `;return t.end?a+`, stop time ${(0,y.p6)(t.end,"MMMM d hh:mm a",r)}`:a+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(y.Gx))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),lt=(()=>{class n{constructor(t,r){this.calendarA11y=t,this.locale=r}transform(t,r){if(t.locale=t.locale||this.locale,typeof this.calendarA11y[r]>"u"){const a=Object.getOwnPropertyNames(Object.getPrototypeOf(zt.prototype)).filter(o=>"constructor"!==o);throw new Error(`${r} is not a valid a11y method. Can only be one of ${a.join(", ")}`)}return this.calendarA11y[r](t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zt,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarA11y",type:n,pure:!0}),n})(),rn=(()=>{class n{constructor(){this.trackByActionId=(t,r)=>r.id?r.id:r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(t,r){if(1&t&&(e.YNc(0,kt,1,1,"ng-template",null,0,e.W1O),e.YNc(2,f,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.WLB(2,u,r.event,r.trackByActionId))}},dependencies:[y.O5,y.sg,y.mk,st,xt,y.tP,lt],encapsulation:2}),n})();class Pt{month(i,t){return i.title}monthTooltip(i,t){return i.title}week(i,t){return i.title}weekTooltip(i,t){return i.title}day(i,t){return i.title}dayTooltip(i,t){return i.title}}let Lt=(()=>{class n{constructor(t){this.calendarEventTitle=t}transform(t,r,a){return this.calendarEventTitle[r](a,t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Pt,16))},n.\u0275pipe=e.Yjl({name:"calendarEventTitle",type:n,pure:!0}),n})(),an=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,r){if(1&t&&(e.YNc(0,D,3,10,"ng-template",null,0,e.W1O),e.YNc(2,M,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.WLB(2,j,r.event,r.view))}},dependencies:[y.tP,Lt,lt],encapsulation:2}),n})(),vr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,r){if(1&t&&(e.YNc(0,ie,3,2,"ng-template",null,0,e.W1O),e.YNc(2,We,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.kEZ(2,et,r.contents,r.placement,r.event))}},dependencies:[y.mk,y.tP],encapsulation:2}),n})(),Zt=(()=>{class n{constructor(t,r,a,o,s,l){this.elementRef=t,this.injector=r,this.renderer=a,this.viewContainerRef=s,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new W.xQ,this.tooltipFactory=o.resolveComponentFactory(vr)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,ue.of)("now"):(0,pe.H)(this.delay)).pipe((0,he.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function pt(n,i,t,r,a){var o=Array.isArray(t)?t:t.split(St),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=i.classList,g=function(V){var $=V.split("-"),ne=$[0],L=$[1],Q=[];return a&&(Q.push(a+"-"+ne),L&&Q.push(a+"-"+ne+"-"+L),Q.forEach(function(ae){l.add(ae)})),Q};a&&s.forEach(function(V){l.remove(a+"-"+V)});var h=o.findIndex(function(V){return"auto"===V});h>=0&&s.forEach(function(V){null==o.find(function($){return-1!==$.search("^"+V)})&&o.splice(h++,1,V)});var _=i.style;_.position="absolute",_.top="0",_.left="0",_["will-change"]="transform";for(var A,G=!1,I=0,P=o;I<P.length;I++){var q=g(A=P[I]);if(mt.positionElements(n,i,A,r)){G=!0;break}a&&q.forEach(function(V){l.remove(V)})}return G||(g(A=o[0]),mt.positionElements(n,i,A,r)),A}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===t.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.zs3),e.Y36(e.Qsj),e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(y.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,r){1&t&&e.NdJ("mouseenter",function(){return r.onMouseOver()})("mouseleave",function(){return r.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[e.TTD]}),n})();var dt=(()=>{return(n=dt||(dt={})).Month="month",n.Week="week",n.Day="day",dt;var n})();const on=n=>function _t(n,i){var t=!0;function r(a,o){i(a,o),t=!1}return Array.isArray(n)?(n.forEach(function(a){a.start?a.start instanceof Date||r(Ve.StartPropertyNotDate,a):r(Ve.StartPropertyMissing,a),a.end&&(a.end instanceof Date||r(Ve.EndPropertyNotDate,a),a.start>a.end&&r(Ve.EndsBeforeStart,a))}),t):(i(Ve.NotArray,n),!1)}(n,(...t)=>console.warn("angular-calendar",...t));function sn(n,i){return Math.floor(n.left)<=Math.ceil(i.left)&&Math.floor(i.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(i.right)&&Math.floor(i.right)<=Math.ceil(n.right)}function ln(n,i){return Math.round(n/i)*i}const dn=(n,i)=>i.id?i.id:i,Nt=(n,i)=>i.date.toISOString(),wr=(n,i)=>i.date.toISOString(),Dr=(n,i)=>i.segments[0].date.toISOString(),_r=(n,i)=>i.event.id?i.event.id:i.event,Cr=(n,i)=>i.event.id?i.event.id:i.event;function $t(n,i,t,r,a){const o=ln(n,r||t),s=function Er(n,i,t){return(t||60)/(n*i)}(i,t,a);return o*s}function cn(n,i,t){return i.end?i.end:n.addMinutes(i.start,t)}function Ge(n,i,t,r){let a=0,o=0;const s=t<0?n.subDays:n.addDays;let l=i;for(;o<=Math.abs(t);){l=s(i,a);const g=n.getDay(l);-1===r.indexOf(g)&&o++,a++}return l}function Gt(n,i,t,r=[],a){let o=a?n.startOfDay(i):n.startOfWeek(i,{weekStartsOn:t});const s=n.endOfWeek(i,{weekStartsOn:t});for(;r.indexOf(n.getDay(o))>-1&&o<s;)o=n.addDays(o,1);if(a)return{viewStart:o,viewEnd:n.endOfDay(Ge(n,o,a-1,r))};{let l=s;for(;r.indexOf(n.getDay(l))>-1&&l>o;)l=n.subDays(l,1);return{viewStart:o,viewEnd:l}}}function jt({x:n,y:i}){return Math.abs(n)>1||Math.abs(i)>1}class ct{}let Mr=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===dt.Day?Ge(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===dt.Week&&this.daysInWeek?Ge(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ct))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(t,r){1&t&&e.NdJ("click",function(){return r.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),br=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===dt.Day?Ge(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===dt.Week&&this.daysInWeek?Ge(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ct))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(t,r){1&t&&e.NdJ("click",function(){return r.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Or=(()=>{class n{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:r}){return(0,y.p6)(t,"EEEE",r)}monthViewDayNumber({date:t,locale:r}){return(0,y.p6)(t,"d",r)}monthViewTitle({date:t,locale:r}){return(0,y.p6)(t,"LLLL y",r)}weekViewColumnHeader({date:t,locale:r}){return(0,y.p6)(t,"EEEE",r)}weekViewColumnSubHeader({date:t,locale:r}){return(0,y.p6)(t,"MMM d",r)}weekViewTitle({date:t,locale:r,weekStartsOn:a,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:g}=Gt(this.dateAdapter,t,a,o,s),h=(_,A)=>(0,y.p6)(_,"MMM d"+(A?", yyyy":""),r);return`${h(l,l.getUTCFullYear()!==g.getUTCFullYear())} - ${h(g,!0)}`}weekViewHour({date:t,locale:r}){return(0,y.p6)(t,"h a",r)}dayViewHour({date:t,locale:r}){return(0,y.p6)(t,"h a",r)}dayViewTitle({date:t,locale:r}){return(0,y.p6)(t,"EEEE, MMMM d, y",r)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ct))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ft=(()=>{class n extends Or{}return n.\u0275fac=function(){let i;return function(r){return(i||(i=e.n5z(n)))(r||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ht=(()=>{class n{constructor(t,r){this.dateFormatter=t,this.locale=r}transform(t,r,a=this.locale,o=0,s=[],l){if(typeof this.dateFormatter[r]>"u"){const g=Object.getOwnPropertyNames(Object.getPrototypeOf(Ft.prototype)).filter(h=>"constructor"!==h);throw new Error(`${r} is not a valid date formatter. Can only be one of ${g.join(", ")}`)}return this.dateFormatter[r]({date:t,locale:a,weekStartsOn:o,excludeDays:s,daysInWeek:l})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ft,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarDate",type:n,pure:!0}),n})(),Bt=(()=>{class n{constructor(t){this.dateAdapter=t}getMonthView(t){return function Oe(n,i){var t=i.events,r=void 0===t?[]:t,a=i.viewDate,o=i.weekStartsOn,s=i.excluded,l=void 0===s?[]:s,g=i.viewStart,h=void 0===g?n.startOfMonth(a):g,_=i.viewEnd,A=void 0===_?n.endOfMonth(a):_,G=i.weekendDays;r||(r=[]);for(var Z,P=n.endOfWeek,q=n.differenceInDays,V=n.startOfDay,$=n.addHours,ne=n.endOfDay,L=n.isSameMonth,Q=n.getDay,me=(0,n.startOfWeek)(h,{weekStartsOn:o}),Se=P(A,{weekStartsOn:o}),ee=z(n,{events:r,periodStart:me,periodEnd:Se}),J=[],we=function(Qt){var Me;if(Z?(Me=V($(Z,24)),Z.getTime()===Me.getTime()&&(Me=V($(Z,25))),Z=Me):Me=Z=me,!l.some(function(Kt){return Q(Me)===Kt})){var Be=K(n,{date:Me,weekendDays:G}),Vt=z(n,{events:ee,periodStart:V(Me),periodEnd:ne(Me)});Be.inMonth=L(Me,a),Be.events=Vt,Be.badgeTotal=Vt.length,J.push(Be)}},te=0;te<q(Se,me)+1;te++)we();var Ee=[],de=7-l.length;if(de<7)for(te=0;te<J.length;te+=de){var Yt=J.slice(te,te+de);Yt.some(function(Me){return h<=Me.date&&Me.date<A})&&(Ee=ht(Ee,Yt))}else Ee=J;var Xt=Math.floor(Ee.length/de),Wt=[];for(te=0;te<Xt;te++)Wt.push(te*de);return{rowOffsets:Wt,totalDaysVisibleInWeek:de,days:Ee,period:{start:Ee[0].date,end:ne(Ee[Ee.length-1].date),events:ee}}}(this.dateAdapter,t)}getWeekViewHeader(t){return ye(this.dateAdapter,t)}getWeekView(t){return function le(n,i){var t=i.events,r=void 0===t?[]:t,a=i.viewDate,o=i.weekStartsOn,s=i.excluded,l=void 0===s?[]:s,g=i.precision,h=void 0===g?"days":g,_=i.absolutePositionedEvents,A=void 0!==_&&_,G=i.hourSegments,I=i.hourDuration,P=i.dayStart,q=i.dayEnd,V=i.weekendDays,$=i.segmentHeight,ne=i.minimumEventHeight,L=i.viewStart,Q=void 0===L?n.startOfWeek(a,{weekStartsOn:o}):L,ae=i.viewEnd,me=void 0===ae?n.endOfWeek(a,{weekStartsOn:o}):ae;r||(r=[]);var ee=n.endOfDay,J=z(n,{events:r,periodStart:Q=(0,n.startOfDay)(Q),periodEnd:me=ee(me)}),Z=ye(n,{viewDate:a,weekStartsOn:o,excluded:l,weekendDays:V,viewStart:Q,viewEnd:me});return{allDayEventRows:fe(n,{events:J,excluded:l,precision:h,absolutePositionedEvents:A,viewStart:Q,viewEnd:me}),period:{events:J,start:Z[0].date,end:ee(Z[Z.length-1].date)},hourColumns:ve(n,{events:r,viewDate:a,hourSegments:G,hourDuration:I,dayStart:P,dayEnd:q,weekStartsOn:o,excluded:l,weekendDays:V,segmentHeight:$,viewStart:Q,viewEnd:me,minimumEventHeight:ne})}}(this.dateAdapter,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ct))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();new e.OlP("Moment");var Ue=(()=>{return(n=Ue||(Ue={})).Drag="drag",n.Drop="drop",n.Resize="resize",Ue;var n})();let At=(()=>{class n{static forRoot(t,r={}){return{ngModule:n,providers:[t,r.eventTitleFormatter||Pt,r.dateFormatter||Ft,r.utils||Bt,r.a11y||zt]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[y.Gx],imports:[[y.ez]]}),n})(),xr=(()=>{class n{constructor(){this.columnHeaderClicked=new e.vpe,this.trackByWeekDayHeaderDate=Nt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(t,r){if(1&t&&(e.YNc(0,gt,2,2,"ng-template",null,0,e.W1O),e.YNc(2,$e,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.kEZ(2,Fe,r.days,r.locale,r.trackByWeekDayHeaderDate))}},dependencies:[y.sg,y.mk,y.tP,Ht],encapsulation:2}),n})(),Hr=(()=>{class n{constructor(){this.highlightDay=new e.vpe,this.unhighlightDay=new e.vpe,this.eventClicked=new e.vpe,this.trackByEventId=dn,this.validateDrag=jt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,r){2&t&&e.ekj("cal-past",r.day.isPast)("cal-today",r.day.isToday)("cal-future",r.day.isFuture)("cal-weekend",r.day.isWeekend)("cal-in-month",r.day.inMonth)("cal-out-month",!r.day.inMonth)("cal-has-events",r.day.events.length>0)("cal-open",r.day===r.openDay)("cal-event-highlight",!!r.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(t,r){if(1&t&&(e.YNc(0,wn,8,14,"ng-template",null,0,e.W1O),e.YNc(2,Dn,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.rFY(2,_n,[r.day,r.openDay,r.locale,r.tooltipPlacement,r.highlightDay,r.unhighlightDay,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDelay,r.trackByEventId,r.validateDrag]))}},dependencies:[y.O5,y.sg,Ae.pD,y.PC,y.mk,Zt,st,y.tP,lt,Ht,Lt],encapsulation:2}),n})();const Ar=(0,ke.X$)("collapse",[(0,ke.SB)("void",(0,ke.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,ke.SB)("*",(0,ke.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,ke.eR)("* => void",(0,ke.jt)("150ms ease-out")),(0,ke.eR)("void => *",(0,ke.jt)("150ms ease-in"))]);let Wr=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new e.vpe,this.trackByEventId=dn,this.validateDrag=jt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(t,r){if(1&t&&(e.YNc(0,kn,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Sn,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.qbA(2,Mn,r.events,r.eventClicked,r.isOpen,r.trackByEventId,r.validateDrag))}},dependencies:[an,rn,y.O5,y.sg,Ae.pD,y.mk,y.PC,st,xt,y.tP,lt],encapsulation:2,data:{animation:[Ar]}}),n})(),Ir=(()=>{class n{constructor(t,r,a,o){this.cdr=t,this.utils=r,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new e.vpe,this.dayClicked=new e.vpe,this.eventClicked=new e.vpe,this.columnHeaderClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.trackByRowOffset=(s,l)=>this.view.days.slice(l,this.view.totalDaysVisibleInWeek).map(g=>g.date.toISOString()).join("-"),this.trackByDate=(s,l)=>l.date.toISOString(),this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const r=t.viewDate||t.excludeDays||t.weekendDays,a=t.viewDate||t.events||t.excludeDays||t.weekendDays;r&&this.refreshHeader(),t.events&&on(this.events),a&&this.refreshBody(),(r||a)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,r){this.view.days.forEach(a=>{r&&a.events.indexOf(t)>-1?a.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete a.backgroundColor})}eventDropped(t,r,a){if(t!==a){const o=this.dateAdapter.getYear(t.date),s=this.dateAdapter.getMonth(t.date),l=this.dateAdapter.getDate(t.date),g=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(r.start,o),s),l);let h;if(r.end){const _=this.dateAdapter.differenceInSeconds(g,r.start);h=this.dateAdapter.addSeconds(r.end,_)}this.eventTimesChanged.emit({event:r,newStart:g,newEnd:h,day:t,type:Ue.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(a=>this.dateAdapter.isSameDay(a.date,t));const r=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(r/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(Bt),e.Y36(e.soG),e.Y36(ct))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[e.TTD],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-month-view-header",1),e.NdJ("columnHeaderClicked",function(o){return r.columnHeaderClicked.emit(o)}),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,On,5,13,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("days",r.columnHeaders)("locale",r.locale)("customTemplate",r.headerTemplate),e.xp6(2),e.Q6J("ngForOf",r.view.rowOffsets)("ngForTrackBy",r.trackByRowOffset))},dependencies:[xr,Hr,Wr,y.sg,Ae.D5,y.mk,y.PC,st,xt,lt,y.OU],encapsulation:2}),n})(),un=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[y.ez,Ae.Vk,At],Ae.Vk]}),n})();class Rr{constructor(i,t){this.dragContainerElement=i,this.startPosition=t.getBoundingClientRect()}validateDrag({x:i,y:t,snapDraggedEvents:r,dragAlreadyMoved:a,transform:o}){const s=jt({x:i,y:t})||a;if(r){const l=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(s){const g=this.dragContainerElement.getBoundingClientRect(),h=g.top<l.top&&l.top<g.bottom,_=g.top<l.bottom&&l.bottom<g.bottom;return sn(g,l)&&(h||_)}return!1}return s}}class zr{constructor(i,t,r){this.resizeContainerElement=i,this.minWidth=t,this.rtl=r}validateResize({rectangle:i,edges:t}){return this.rtl&&(typeof t.left<"u"?(i.left-=t.left,i.right+=t.left):typeof t.right<"u"&&(i.left+=t.right,i.right-=t.right),i.width=i.right-i.left),!(this.minWidth&&Math.ceil(i.width)<Math.ceil(this.minWidth))&&function yr(n,i){return sn(n,i)&&function gr(n,i){return Math.floor(n.top)<=Math.ceil(i.top)&&Math.floor(i.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(i.bottom)&&Math.floor(i.bottom)<=Math.ceil(n.bottom)}(n,i)}(this.resizeContainerElement.getBoundingClientRect(),i)}}let Lr=(()=>{class n{constructor(){this.dayHeaderClicked=new e.vpe,this.eventDropped=new e.vpe,this.dragEnter=new e.vpe,this.trackByWeekDayHeaderDate=Nt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(t,r){if(1&t&&(e.YNc(0,Hn,2,2,"ng-template",null,0,e.W1O),e.YNc(2,An,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.HTZ(2,Wn,r.days,r.locale,r.dayHeaderClicked,r.eventDropped,r.dragEnter,r.trackByWeekDayHeaderDate))}},dependencies:[y.sg,Ae.D5,y.mk,st,y.tP,Ht],encapsulation:2}),n})(),Fr=(()=>{class n{constructor(){this.eventClicked=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(t,r){if(1&t&&(e.YNc(0,Rn,6,26,"ng-template",null,0,e.W1O),e.YNc(2,zn,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.rFY(2,Ln,[r.weekEvent,r.tooltipPlacement,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDisabled,r.tooltipDelay,r.column,r.daysInWeek]))}},dependencies:[rn,an,y.PC,Zt,st,xt,y.tP,Lt,lt],encapsulation:2}),n})(),Br=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(t,r){if(1&t&&(e.YNc(0,Bn,3,13,"ng-template",null,0,e.W1O),e.YNc(2,Yn,0,0,"ng-template",1)),2&t){const a=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.qbA(2,Vn,r.segment,r.locale,r.segmentHeight,r.isTimeLabel,r.daysInWeek))}},dependencies:[y.mk,y.O5,y.tP,lt,Ht],encapsulation:2}),n})(),Yr=(()=>{class n{constructor(t,r){this.dateAdapter=t,this.zone=r,this.columnDate$=new Ie.X(void 0),this.marker$=this.zone.onStable.pipe((0,Re.w)(()=>function rt(n=0,i=Ce.P){return(!(0,ut.k)(n)||n<0)&&(n=0),(!i||"function"!=typeof i.schedule)&&(i=Ce.P),new H.y(t=>(t.add(i.schedule(be,n,{subscriber:t,counter:0,period:n})),t))}(6e4)),(0,Xe.O)(0),function Dt(n,i){return i?(0,Re.w)(()=>n,i):(0,Re.w)(()=>n)}(this.columnDate$),(0,Ye.U)(a=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),g=new Date;return{isVisible:this.dateAdapter.isSameDay(a,g)&&g>=o&&g<=s,top:this.dateAdapter.differenceInMinutes(g,o)*l}}))}ngOnChanges(t){t.columnDate&&this.columnDate$.next(t.columnDate.currentValue)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ct),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[e.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(t,r){if(1&t&&(e.YNc(0,Zn,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Nn,0,0,"ng-template",1),e.ALo(3,"async"),e.ALo(4,"async")),2&t){const a=e.MAs(1);let o;e.xp6(2),e.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",e.Hh0(6,$n,r.columnDate,r.dayStartHour,r.dayStartMinute,r.dayEndHour,r.dayEndMinute,null==(o=e.lcZ(3,2,r.marker$))?null:o.isVisible,null==(o=e.lcZ(4,4,r.marker$))?null:o.top))}},dependencies:[y.O5,y.tP,y.Ov],encapsulation:2}),n})(),mn=(()=>{class n{constructor(t,r,a,o,s){this.cdr=t,this.utils=r,this.dateAdapter=o,this.element=s,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new e.vpe,this.eventClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe,this.hourSegmentClicked=new e.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=Nt,this.trackByHourSegment=wr,this.trackByHour=Dr,this.trackByWeekAllDayEvent=_r,this.trackByWeekTimeEvent=Cr,this.trackByHourColumn=(l,g)=>g.hours[0]?g.hours[0].segments[0].date.toISOString():g,this.trackById=(l,g)=>g.id,this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const r=t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek||t.weekStartsOn,a=t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.hourDuration||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek||t.minimumEventHeight;r&&this.refreshHeader(),t.events&&on(this.events),a&&this.refreshBody(),(r||a)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(t,r,a){this.timeEventResizes.set(r.event,a),this.resizeStarted(t,r)}timeEventResizing(t,r){this.timeEventResizes.set(t.event,r);const a=new Map,o=[...this.events];this.timeEventResizes.forEach((s,l)=>{const g=this.getTimeEventResizedDates(l,s),h=Object.assign(Object.assign({},l),g);a.set(h,l);const _=o.indexOf(l);o[_]=h}),this.restoreOriginalEvents(o,a,!0)}timeEventResizeEnded(t){this.view=this.getWeekView(this.events);const r=this.timeEventResizes.get(t.event);if(r){this.timeEventResizes.delete(t.event);const a=this.getTimeEventResizedDates(t.event,r);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:t.event,type:Ue.Resize})}}allDayEventResizeStarted(t,r,a){this.allDayEventResizes.set(r,{originalOffset:r.offset,originalSpan:r.span,edge:typeof a.edges.left<"u"?"left":"right"}),this.resizeStarted(t,r,this.getDayColumnWidth(t))}allDayEventResizing(t,r,a){const o=this.allDayEventResizes.get(t),s=this.rtl?-1:1;if(typeof r.edges.left<"u"){const l=Math.round(+r.edges.left/a)*s;t.offset=o.originalOffset+l,t.span=o.originalSpan-l}else if(typeof r.edges.right<"u"){const l=Math.round(+r.edges.right/a)*s;t.span=o.originalSpan+l}}allDayEventResizeEnded(t){const r=this.allDayEventResizes.get(t);if(r){const a="left"===r.edge;let o;o=a?t.offset-r.originalOffset:t.span-r.originalSpan,t.offset=r.originalOffset,t.span=r.originalSpan;const s=this.getAllDayEventResizedDates(t.event,o,a);this.eventTimesChanged.emit({newStart:s.start,newEnd:s.end,event:t.event,type:Ue.Resize}),this.allDayEventResizes.delete(t)}}getDayColumnWidth(t){return Math.floor(t.offsetWidth/this.days.length)}dateDragEnter(t){this.lastDragEnterDate=t}eventDropped(t,r,a){(function Sr(n,i,t,r){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==r||n.dropData.event.allDay&&!t||!n.dropData.event.allDay&&t)})(t,0,a,this.calendarId)&&this.lastDragEnterDate.getTime()===r.getTime()&&(!this.snapDraggedEvents||t.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:Ue.Drop,event:t.dropData.event,newStart:r,allDay:a}),this.lastDraggedEvent=null}dragEnter(t){this.eventDragEnterByType[t]++}dragLeave(t){this.eventDragEnterByType[t]--}dragStarted(t,r,a,o){this.dayColumnWidth=this.getDayColumnWidth(t);const s=new Rr(t,r);this.validateDrag=({x:l,y:g,transform:h})=>{const _=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&s.validateDrag({x:l,y:g,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:h});if(_&&this.validateEventTimesChanged){const A=this.getDragMovedEventTimes(a,{x:l,y:g},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:Ue.Drag,event:a.event,newStart:A.start,newEnd:A.end})}return _},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(l=>{const g=l.events.find(h=>h.event===a.event&&h!==a);g&&(g.width=0,g.height=0)}),this.cdr.markForCheck()}dragMove(t,r){const a=this.getDragMovedEventTimes(t,r,this.dayColumnWidth,!0),o=t.event,s=Object.assign(Object.assign({},o),a),l=this.events.map(g=>g===o?s:g);this.restoreOriginalEvents(l,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(t,r,a,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:l}=this.getDragMovedEventTimes(t,r,a,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function kr(n,i,t){const r=i||n;return t.start<=n&&n<=t.end||t.start<=r&&r<=t.end}(s,l,this.view.period)&&(this.lastDraggedEvent=t.event,this.eventTimesChanged.emit({newStart:s,newEnd:l,event:t.event,type:Ue.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},Gt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(t){return this.utils.getWeekView(Object.assign({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},Gt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(t,r,a,o){const s=ln(r.x,a)/a*(this.rtl?-1:1),l=o?$t(r.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,g=this.dateAdapter.addMinutes(Ge(this.dateAdapter,t.event.start,s,this.excludeDays),l);let h;return t.event.end&&(h=this.dateAdapter.addMinutes(Ge(this.dateAdapter,t.event.end,s,this.excludeDays),l)),{start:g,end:h}}restoreOriginalEvents(t,r,a=!0){const o=this.view;a&&(this.view=this.getWeekView(t));const s=t.filter(l=>r.has(l));this.view.hourColumns.forEach((l,g)=>{o.hourColumns[g].hours.forEach((h,_)=>{h.segments.forEach((A,G)=>{l.hours[_].segments[G].cssClass=A.cssClass})}),s.forEach(h=>{const _=r.get(h),A=l.events.find(G=>G.event===(a?h:_));A?(A.event=_,A.tempEvent=h,a||(A.height=0,A.width=0)):l.events.push({event:_,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:h})})}),r.clear()}getTimeEventResizedDates(t,r){const a={start:t.start,end:cn(this.dateAdapter,t,this.minimumEventHeight)},s=(0,at._T)(t,["end"]),l={start:this.dateAdapter.addMinutes(a.end,-1*this.minimumEventHeight),end:cn(this.dateAdapter,s,this.minimumEventHeight)},g=this.rtl?-1:1;if(typeof r.edges.left<"u"){const h=Math.round(+r.edges.left/this.dayColumnWidth)*g,_=Ge(this.dateAdapter,a.start,h,this.excludeDays);a.start=_<l.start?_:l.start}else if(typeof r.edges.right<"u"){const h=Math.round(+r.edges.right/this.dayColumnWidth)*g,_=Ge(this.dateAdapter,a.end,h,this.excludeDays);a.end=_>l.end?_:l.end}if(typeof r.edges.top<"u"){const h=$t(r.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(a.start,h);a.start=_<l.start?_:l.start}else if(typeof r.edges.bottom<"u"){const h=$t(r.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),_=this.dateAdapter.addMinutes(a.end,h);a.end=_>l.end?_:l.end}return a}resizeStarted(t,r,a){this.dayColumnWidth=this.getDayColumnWidth(t);const o=new zr(t,a,this.rtl);this.validateResize=({rectangle:s,edges:l})=>{const g=o.validateResize({rectangle:Object.assign({},s),edges:l});if(g&&this.validateEventTimesChanged){let h;if(a){const _=this.rtl?-1:1;if(typeof l.left<"u"){const A=Math.round(+l.left/a)*_;h=this.getAllDayEventResizedDates(r.event,A,!this.rtl)}else{const A=Math.round(+l.right/a)*_;h=this.getAllDayEventResizedDates(r.event,A,this.rtl)}}else h=this.getTimeEventResizedDates(r.event,{rectangle:s,edges:l});return this.validateEventTimesChanged({type:Ue.Resize,event:r.event,newStart:h.start,newEnd:h.end})}return g},this.cdr.markForCheck()}getAllDayEventResizedDates(t,r,a){let o=t.start,s=t.end||t.start;return a?o=Ge(this.dateAdapter,o,r,this.excludeDays):s=Ge(this.dateAdapter,s,r,this.excludeDays),{start:o,end:s}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(Bt),e.Y36(e.soG),e.Y36(ct),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[e.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-week-view-header",1),e.NdJ("dayHeaderClicked",function(o){return r.dayHeaderClicked.emit(o)})("eventDropped",function(o){return r.eventDropped({dropData:o},o.newStart,!0)})("dragEnter",function(o){return r.dateDragEnter(o.date)}),e.qZA(),e.YNc(2,tr,6,5,"div",2),e.TgZ(3,"div",3),e.NdJ("dragEnter",function(){return r.dragEnter("time")})("dragLeave",function(){return r.dragLeave("time")}),e.YNc(4,ir,2,2,"div",4),e.TgZ(5,"div",5,6),e.YNc(7,fr,5,13,"div",7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("days",r.days)("locale",r.locale)("customTemplate",r.headerTemplate),e.xp6(1),e.Q6J("ngIf",r.view.allDayEventRows.length>0),e.xp6(2),e.Q6J("ngIf",r.view.hourColumns.length>0&&1!==r.daysInWeek),e.xp6(1),e.ekj("cal-resize-active",r.timeEventResizes.size>0),e.xp6(2),e.Q6J("ngForOf",r.view.hourColumns)("ngForTrackBy",r.trackByHourColumn))},dependencies:[Lr,Fr,Br,Yr,y.O5,Ae.D5,y.tP,y.sg,ce,Ae.pD,y.mk,Ne,st],encapsulation:2}),n})(),Jt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[y.ez,_e,Ae.Vk,At],_e,Ae.Vk]}),n})(),Vr=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new e.vpe,this.hourSegmentClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:26,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(t,r){1&t&&(e.TgZ(0,"mwl-calendar-week-view",0),e.NdJ("eventClicked",function(o){return r.eventClicked.emit(o)})("hourSegmentClicked",function(o){return r.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return r.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return r.beforeViewRender.emit(o)}),e.qZA()),2&t&&e.Q6J("daysInWeek",1)("viewDate",r.viewDate)("events",r.events)("hourSegments",r.hourSegments)("hourDuration",r.hourDuration)("hourSegmentHeight",r.hourSegmentHeight)("minimumEventHeight",r.minimumEventHeight)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("refresh",r.refresh)("locale",r.locale)("eventSnapSize",r.eventSnapSize)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("hourSegmentTemplate",r.hourSegmentTemplate)("eventTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("snapDraggedEvents",r.snapDraggedEvents)("allDayEventsLabelTemplate",r.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",r.currentTimeMarkerTemplate)("validateEventTimesChanged",r.validateEventTimesChanged)},dependencies:[mn],encapsulation:2}),n})(),pn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[y.ez,At,Jt]]}),n})(),Pr=(()=>{class n{static forRoot(t,r={}){return{ngModule:n,providers:[t,r.eventTitleFormatter||Pt,r.dateFormatter||Ft,r.utils||Bt,r.a11y||zt]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[At,un,Jt,pn],At,un,Jt,pn]}),n})()},5321:(nt,De,O)=>{O.d(De,{Vk:()=>bt,pD:()=>Ze,D5:()=>Mt});var e=O(4650),y=O(8929),W=O(6498),H=O(6831),ue=O(6787),pe=O(6053),Ie=O(3753),Ce=O(2198),ut=O(1709),rt=O(1059),be=O(4850),he=O(8117),Re=O(7625),Xe=O(2986),Dt=O(2821),Ye=O(3489);class St{constructor(v,c){this.predicate=v,this.source=c}call(v,c){return c.subscribe(new mt(v,this.predicate,this.source))}}class mt extends Ye.L{constructor(v,c,k){super(v),this.predicate=c,this.source=k,this.count=0,this.index=0}_next(v){this.predicate?this._tryPredicate(v):this.count++}_tryPredicate(v){let c;try{c=this.predicate(v,this.index++,this.source)}catch(k){return void this.destination.error(k)}c&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}var pt=O(519),Te=O(5778),ht=O(6895);function ft(d,v){return d=function Qe(d,v){return typeof d>"u"?typeof v>"u"?d:v:d}(d,v),"function"==typeof d?function(){for(var k=arguments,T=arguments.length,R=Array(T),x=0;x<T;x++)R[x]=k[x];return!!d.apply(this,R)}:d?function(){return!0}:function(){return!1}}var Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol?"symbol":typeof d},it=function(d){return null!=d&&"object"===(typeof d>"u"?"undefined":Ke(d))&&1===d.nodeType&&"object"===Ke(d.style)&&"object"===Ke(d.ownerDocument)};function qe(d,v){if(v=b(v,!0),!it(v))return-1;for(var c=0;c<d.length;c++)if(d[c]===v)return c;return-1}function m(d,v){return-1!==qe(d,v)}function w(d,v){for(var c=0;c<v.length;c++)m(d,v[c])||d.push(v[c]);return v}function C(d){for(var v=arguments,c=[],k=arguments.length-1;k-- >0;)c[k]=v[k+1];return w(d,c=c.map(b))}function E(d){for(var v=arguments,c=[],k=arguments.length-1;k-- >0;)c[k]=v[k+1];return c.map(b).reduce(function(T,R){var x=qe(d,R);return-1!==x?T.concat(d.splice(x,1)):T},[])}function b(d,v){if("string"==typeof d)try{return document.querySelector(d)}catch(c){throw c}if(!it(d)&&!v)throw new TypeError(d+" is not a DOM element.");return d}function K(d){if(d===window)return function z(){var d={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},d);var v={};return Object.defineProperties(v,d),v}();try{var v=d.getBoundingClientRect();return void 0===v.x&&(v.x=v.left,v.y=v.top),v}catch{throw new TypeError("Can't call getBoundingClientRect on "+d)}}var v,F=void 0;"function"!=typeof Object.create?(v=function(){},F=function(c,k){if(c!==Object(c)&&null!==c)throw TypeError("Argument must be an object, or null");v.prototype=c||{};var T=new v;return v.prototype=null,void 0!==k&&Object.defineProperties(T,k),null===c&&(T.__proto__=null),T}):F=Object.create;var fe=F,ve=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Oe(d,v){v=v||{};for(var c=fe(d),k=0;k<ve.length;k++)void 0!==v[ve[k]]&&(c[ve[k]]=v[ve[k]]);return c}function xe(d,v){console.log("data ",v),d.data=v||{},d.dispatched="mousemove"}var Pe=["webkit","moz","ms","o"],ze=function(){if(typeof window>"u")return function(){};for(var d=0,v=Pe.length;d<v&&!window.requestAnimationFrame;++d)window.requestAnimationFrame=window[Pe[d]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var c=0;window.requestAnimationFrame=function(k){var T=(new Date).getTime(),R=Math.max(0,16-T-c),x=window.setTimeout(function(){return k(T+R)},R);return c=T+R,x}}return window.requestAnimationFrame.bind(window)}(),He=function(){if(typeof window>"u")return function(){};for(var d=0,v=Pe.length;d<v&&!window.cancelAnimationFrame;++d)window.cancelAnimationFrame=window[Pe[d]+"CancelAnimationFrame"]||window[Pe[d]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(c){window.clearTimeout(c)}),window.cancelAnimationFrame.bind(window)}();function It(d,v){void 0===v&&(v={});var c=this,k=4,T=!1;if("object"!=typeof v.margin){var R=v.margin||-1;this.margin={left:R,right:R,top:R,bottom:R}}else this.margin=v.margin;this.scrollWhenOutside=v.scrollWhenOutside||!1;var x={},N=function S(d,v){var c=ft((v=v||{}).allowUpdate,!0);return function(T){if(T=T||window.event,d.target=T.target||T.srcElement||T.originalTarget,d.element=this,d.type=T.type,c(T)){if(T.targetTouches)d.x=T.targetTouches[0].clientX,d.y=T.targetTouches[0].clientY,d.pageX=T.targetTouches[0].pageX,d.pageY=T.targetTouches[0].pageY,d.screenX=T.targetTouches[0].screenX,d.screenY=T.targetTouches[0].screenY;else{if(null===T.pageX&&null!==T.clientX){var R=T.target&&T.target.ownerDocument||document,x=R.documentElement,N=R.body;d.pageX=T.clientX+(x&&x.scrollLeft||N&&N.scrollLeft||0)-(x&&x.clientLeft||N&&N.clientLeft||0),d.pageY=T.clientY+(x&&x.scrollTop||N&&N.scrollTop||0)-(x&&x.clientTop||N&&N.clientTop||0)}else d.pageX=T.pageX,d.pageY=T.pageY;d.x=T.clientX,d.y=T.clientY,d.screenX=T.screenX,d.screenY=T.screenY}d.clientX=d.x,d.clientY=d.y}}}(x),U=function le(d){var v={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function c(R){for(var x=0;x<ve.length;x++)v[ve[x]]=R[ve[x]]}return void 0!==d&&d.addEventListener("mousemove",c),{destroy:function T(){d&&d.removeEventListener("mousemove",c,!1),v=null},dispatch:MouseEvent?function(x,N,U){var B=new MouseEvent("mousemove",Oe(v,N));return xe(B,U),x.dispatchEvent(B)}:"function"==typeof document.createEvent?function(x,N,U){var B=Oe(v,N),X=document.createEvent("MouseEvents");return X.initMouseEvent("mousemove",!0,!0,window,0,B.screenX,B.screenY,B.clientX,B.clientY,B.ctrlKey,B.altKey,B.shiftKey,B.metaKey,B.button,B.relatedTarget),xe(X,U),x.dispatchEvent(X)}:"function"==typeof document.createEventObject?function(x,N,U){var B=document.createEventObject(),X=Oe(v,N);for(var re in X)B[re]=X[re];return xe(B,U),x.dispatchEvent(B)}:void 0}}(),B=!1;window.addEventListener("mousemove",N,!1),window.addEventListener("touchmove",N,!1),isNaN(v.maxSpeed)||(k=v.maxSpeed),"object"!=typeof k&&(k={left:k,right:k,top:k,bottom:k}),this.autoScroll=ft(v.autoScroll),this.syncMove=ft(v.syncMove,!1),this.destroy=function(D){window.removeEventListener("mousemove",N,!1),window.removeEventListener("touchmove",N,!1),window.removeEventListener("mousedown",ce,!1),window.removeEventListener("touchstart",ce,!1),window.removeEventListener("mouseup",ge,!1),window.removeEventListener("touchend",ge,!1),window.removeEventListener("pointerup",ge,!1),window.removeEventListener("mouseleave",_e,!1),window.removeEventListener("mousemove",ot,!1),window.removeEventListener("touchmove",ot,!1),window.removeEventListener("scroll",se,!0),d=[],D&&Ne()},this.add=function(){for(var D=[],M=arguments.length;M--;)D[M]=arguments[M];return C.apply(void 0,[d].concat(D)),this},this.remove=function(){for(var D=[],M=arguments.length;M--;)D[M]=arguments[M];return E.apply(void 0,[d].concat(D))};var re,D,X=null;"[object Array]"!==Object.prototype.toString.call(d)&&(d=[d]),D=d,d=[],D.forEach(function(M){M===window?X=window:c.add(M)}),Object.defineProperties(this,{down:{get:function(){return B}},maxSpeed:{get:function(){return k}},point:{get:function(){return x}},scrolling:{get:function(){return T}}});var Y,oe=null;function se(D){for(var M=0;M<d.length;M++)if(d[M]===D.target){T=!0;break}T&&ze(function(){return T=!1})}function ce(){B=!0}function ge(){B=!1,Ne()}function Ne(){He(Y),He(re)}function _e(){B=!1}function Je(){for(var D=null,M=0;M<d.length;M++)_t(x,d[M])&&(D=d[M]);return D}function ot(D){if(c.autoScroll()&&!D.dispatched){var M=D.target,j=document.body;oe&&!_t(x,oe)&&(c.scrollWhenOutside||(oe=null)),M&&M.parentNode===j?M=Je():(M=function at(D){if(!D)return null;if(oe===D||m(d,D))return D;for(;D=D.parentNode;)if(m(d,D))return D;return null}(M),M||(M=Je())),M&&M!==oe&&(oe=M),X&&(He(re),re=ze(Et)),oe&&(He(Y),Y=ze(kt))}}function Et(){f(X),He(re),re=ze(Et)}function kt(){!oe||(f(oe),He(Y),Y=ze(kt))}function f(D){var j,ie,M=K(D);j=x.x<M.left+c.margin.left?Math.floor(Math.max(-1,(x.x-M.left)/c.margin.left-1)*c.maxSpeed.left):x.x>M.right-c.margin.right?Math.ceil(Math.min(1,(x.x-M.right)/c.margin.right+1)*c.maxSpeed.right):0,ie=x.y<M.top+c.margin.top?Math.floor(Math.max(-1,(x.y-M.top)/c.margin.top-1)*c.maxSpeed.top):x.y>M.bottom-c.margin.bottom?Math.ceil(Math.min(1,(x.y-M.bottom)/c.margin.bottom+1)*c.maxSpeed.bottom):0,c.syncMove()&&U.dispatch(D,{pageX:x.pageX+j,pageY:x.pageY+ie,clientX:x.x+j,clientY:x.y+ie}),setTimeout(function(){ie&&function u(D,M){D===window?window.scrollTo(D.pageXOffset,D.pageYOffset+M):D.scrollTop+=M}(D,ie),j&&function p(D,M){D===window?window.scrollTo(D.pageXOffset+M,D.pageYOffset):D.scrollLeft+=M}(D,j)})}window.addEventListener("mousedown",ce,!1),window.addEventListener("touchstart",ce,!1),window.addEventListener("mouseup",ge,!1),window.addEventListener("touchend",ge,!1),window.addEventListener("pointerup",ge,!1),window.addEventListener("mousemove",ot,!1),window.addEventListener("touchmove",ot,!1),window.addEventListener("mouseleave",_e,!1),window.addEventListener("scroll",se,!0)}function _t(d,v,c){return c?d.y>c.top&&d.y<c.bottom&&d.x>c.left&&d.x<c.right:function ye(d,v){var c=K(v);return d.y>c.top&&d.y<c.bottom&&d.x>c.left&&d.x<c.right}(d,v)}function ke(d,v,c){c&&c.split(" ").forEach(k=>d.addClass(v.nativeElement,k))}function Le(d,v,c){c&&c.split(" ").forEach(k=>d.removeClass(v.nativeElement,k))}let vt=(()=>{class d{constructor(){this.currentDrag=new y.xQ}}return d.\u0275fac=function(c){return new(c||d)},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Ct=(()=>{class d{constructor(c){this.elementRef=c}}return d.\u0275fac=function(c){return new(c||d)(e.Y36(e.SBq))},d.\u0275dir=e.lG2({type:d,selectors:[["","mwlDraggableScrollContainer",""]]}),d})(),Ze=(()=>{class d{constructor(c,k,T,R,x,N,U){this.element=c,this.renderer=k,this.draggableHelper=T,this.zone=R,this.vcr=x,this.scrollContainer=N,this.document=U,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new e.vpe,this.dragStart=new e.vpe,this.ghostElementCreated=new e.vpe,this.dragging=new e.vpe,this.dragEnd=new e.vpe,this.pointerDown$=new y.xQ,this.pointerMove$=new y.xQ,this.pointerUp$=new y.xQ,this.eventListenerSubscriptions={},this.destroy$=new y.xQ,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const c=this.pointerDown$.pipe((0,Ce.h)(()=>this.canDrag()),(0,ut.zg)(k=>{k.event.stopPropagation&&!this.scrollContainer&&k.event.stopPropagation();const T=this.renderer.createElement("style");this.renderer.setAttribute(T,"type","text/css"),this.renderer.appendChild(T,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(T)});const R=this.getScrollPosition(),x=new W.y(Y=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",ce=>Y.next(ce))).pipe((0,rt.O)(R),(0,be.U)(()=>this.getScrollPosition())),N=new y.xQ,U=new H.t;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const B=(0,ue.T)(this.pointerUp$,this.pointerDown$,U,this.destroy$).pipe((0,he.B)()),X=(0,pe.aj)([this.pointerMove$,x]).pipe((0,be.U)(([Y,se])=>({currentDrag$:N,transformX:Y.clientX-k.clientX,transformY:Y.clientY-k.clientY,clientX:Y.clientX,clientY:Y.clientY,scrollLeft:se.left,scrollTop:se.top,target:Y.event.target})),(0,be.U)(Y=>(this.dragSnapGrid.x&&(Y.transformX=Math.round(Y.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(Y.transformY=Math.round(Y.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),Y)),(0,be.U)(Y=>(this.dragAxis.x||(Y.transformX=0),this.dragAxis.y||(Y.transformY=0),Y)),(0,be.U)(Y=>{const se=Y.scrollLeft-R.left,ce=Y.scrollTop-R.top;return Object.assign(Object.assign({},Y),{x:Y.transformX+se,y:Y.transformY+ce})}),(0,Ce.h)(({x:Y,y:se,transformX:ce,transformY:ge})=>!this.validateDrag||this.validateDrag({x:Y,y:se,transform:{x:ce,y:ge}})),(0,Re.R)(B),(0,he.B)()),re=X.pipe((0,Xe.q)(1),(0,he.B)()),oe=X.pipe((0,Dt.h)(1),(0,he.B)());return re.subscribe(({clientX:Y,clientY:se,x:ce,y:ge})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:U})}),this.scroller=function Ve(d,v){return new It(d,v)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign(Object.assign({},this.autoScroll),{autoScroll:()=>!0})),ke(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const Ne=this.element.nativeElement.getBoundingClientRect(),_e=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(_e):this.element.nativeElement.parentNode.insertBefore(_e,this.element.nativeElement.nextSibling),this.ghostElement=_e,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(_e,{position:"fixed",top:`${Ne.top}px`,left:`${Ne.left}px`,width:`${Ne.width}px`,height:`${Ne.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const at=this.vcr.createEmbeddedView(this.ghostElementTemplate);_e.innerHTML="",at.rootNodes.filter(Je=>Je instanceof Node).forEach(Je=>{_e.appendChild(Je)}),oe.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(at))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:Y-ce,clientY:se-ge,element:_e})}),oe.subscribe(()=>{_e.parentElement.removeChild(_e),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(N)}),oe.pipe((0,ut.zg)(Y=>{const se=U.pipe(function je(d){return v=>v.lift(new St(d,v))}(),(0,Xe.q)(1),(0,be.U)(ce=>Object.assign(Object.assign({},Y),{dragCancelled:ce>0})));return U.complete(),se})).subscribe(({x:Y,y:se,dragCancelled:ce})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:Y,y:se,dragCancelled:ce})}),Le(this.renderer,this.element,this.dragActiveClass),N.complete()}),(0,ue.T)(B,oe).pipe((0,Xe.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(T)})}),X}),(0,he.B)());(0,ue.T)(c.pipe((0,Xe.q)(1),(0,be.U)(k=>[,k])),c.pipe((0,pt.G)())).pipe((0,Ce.h)(([k,T])=>!k||k.x!==T.x||k.y!==T.y),(0,be.U)(([k,T])=>T)).subscribe(({x:k,y:T,currentDrag$:R,clientX:x,clientY:N,transformX:U,transformY:B,target:X})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:k,y:T})}),requestAnimationFrame(()=>{if(this.ghostElement){const re=`translate3d(${U}px, ${B}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:re,"-webkit-transform":re,"-ms-transform":re,"-moz-transform":re,"-o-transform":re})}}),R.next({clientX:x,clientY:N,dropData:this.dropData,target:X})})}ngOnChanges(c){c.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const c=this.canDrag(),k=Object.keys(this.eventListenerSubscriptions).length>0;c&&!k?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",T=>{this.onMouseDown(T)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",T=>{this.onMouseUp(T)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",T=>{this.onTouchStart(T)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",T=>{this.onTouchEnd(T)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",T=>{this.onTouchEnd(T)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!c&&k&&this.unsubscribeEventListeners()}onMouseDown(c){0===c.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",k=>{this.pointerMove$.next({event:k,clientX:k.clientX,clientY:k.clientY})})),this.pointerDown$.next({event:c,clientX:c.clientX,clientY:c.clientY}))}onMouseUp(c){0===c.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:c,clientX:c.clientX,clientY:c.clientY}))}onTouchStart(c){let k,T,R;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),T=!1,R=this.hasScrollbar(),k=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const x=(0,Ie.R)(this.document,"contextmenu").subscribe(U=>{U.preventDefault()}),N=(0,Ie.R)(this.document,"touchmove",{passive:!1}).subscribe(U=>{this.touchStartLongPress&&!T&&R&&(T=this.shouldBeginDrag(c,U,k)),(!this.touchStartLongPress||!R||T)&&(U.preventDefault(),this.pointerMove$.next({event:U,clientX:U.targetTouches[0].clientX,clientY:U.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{x.unsubscribe(),N.unsubscribe()}}this.pointerDown$.next({event:c,clientX:c.touches[0].clientX,clientY:c.touches[0].clientY})}onTouchEnd(c){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:c,clientX:c.changedTouches[0].clientX,clientY:c.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(c){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",c)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(c=>{this.eventListenerSubscriptions[c](),delete this.eventListenerSubscriptions[c]})}setElementStyles(c,k){Object.keys(k).forEach(T=>{this.renderer.setStyle(c,T,k[T])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(c,k,T){const R=this.getScrollPosition(),x_top=Math.abs(R.top-T.top),x_left=Math.abs(R.left-T.left),N=Math.abs(k.targetTouches[0].clientX-c.touches[0].clientX)-x_left,U=Math.abs(k.targetTouches[0].clientY-c.touches[0].clientY)-x_top,X=this.touchStartLongPress;return(N+U>X.delta||x_top>0||x_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=X.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const c=this.getScrollElement();return c.scrollWidth>c.clientWidth||c.scrollHeight>c.clientHeight}}return d.\u0275fac=function(c){return new(c||d)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(vt),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Ct,8),e.Y36(ht.K0))},d.\u0275dir=e.lG2({type:d,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[e.TTD]}),d})();function Tt(d,v,c){return d>=c.left&&d<=c.right&&v>=c.top&&v<=c.bottom}let Mt=(()=>{class d{constructor(c,k,T,R,x){this.element=c,this.draggableHelper=k,this.zone=T,this.renderer=R,this.scrollContainer=x,this.dragEnter=new e.vpe,this.dragLeave=new e.vpe,this.dragOver=new e.vpe,this.drop=new e.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(c=>{ke(this.renderer,this.element,this.dragActiveClass);const k={updateCache:!0},T=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{k.updateCache=!0});let R;const x=c.pipe((0,be.U)(({clientX:B,clientY:X,dropData:re,target:oe})=>{R={clientX:B,clientY:X,dropData:re,target:oe},k.updateCache&&(k.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(k.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),k.updateCache=!1);const Y=Tt(B,X,k.rect),se=!this.validateDrop||this.validateDrop({clientX:B,clientY:X,target:oe,dropData:re});return k.scrollContainerRect?Y&&se&&Tt(B,X,k.scrollContainerRect):Y&&se})),N=x.pipe((0,Te.x)());let U;N.pipe((0,Ce.h)(B=>B)).subscribe(()=>{U=!0,ke(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(R)})}),x.pipe((0,Ce.h)(B=>B)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(R)})}),N.pipe((0,pt.G)(),(0,Ce.h)(([B,X])=>B&&!X)).subscribe(()=>{U=!1,Le(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(R)})}),c.subscribe({complete:()=>{T(),Le(this.renderer,this.element,this.dragActiveClass),U&&(Le(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(R)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return d.\u0275fac=function(c){return new(c||d)(e.Y36(e.SBq),e.Y36(vt),e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36(Ct,8))},d.\u0275dir=e.lG2({type:d,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),d})(),bt=(()=>{class d{}return d.\u0275fac=function(c){return new(c||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({}),d})()},833:(nt,De,O)=>{function e(y,W){if(W.length<y)throw new TypeError(y+" argument"+(y>1?"s":"")+" required, but only "+W.length+" present")}O.d(De,{Z:()=>e})},1998:(nt,De,O)=>{function e(y){if(null===y||!0===y||!1===y)return NaN;var W=Number(y);return isNaN(W)?W:W<0?Math.ceil(W):Math.floor(W)}O.d(De,{Z:()=>e})},3413:(nt,De,O)=>{O.d(De,{Z:()=>H});var e=O(1998),y=O(953),W=O(833);function H(ue,pe){(0,W.Z)(2,arguments);var Ie=(0,y.Z)(ue),Ce=(0,e.Z)(pe);return Ie.setHours(Ce),Ie}},1144:(nt,De,O)=>{O.d(De,{Z:()=>H});var e=O(1998),y=O(953),W=O(833);function H(ue,pe){(0,W.Z)(2,arguments);var Ie=(0,y.Z)(ue),Ce=(0,e.Z)(pe);return Ie.setMinutes(Ce),Ie}},953:(nt,De,O)=>{O.d(De,{Z:()=>W});var e=O(833);function y(H){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(H)}function W(H){(0,e.Z)(1,arguments);var ue=Object.prototype.toString.call(H);return H instanceof Date||"object"===y(H)&&"[object Date]"===ue?new Date(H.getTime()):"number"==typeof H||"[object Number]"===ue?new Date(H):(("string"==typeof H||"[object String]"===ue)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},655:(nt,De,O)=>{O.d(De,{_T:()=>H,pi:()=>W});var W=function(){return W=Object.assign||function(w){for(var C,E=1,b=arguments.length;E<b;E++)for(var S in C=arguments[E])Object.prototype.hasOwnProperty.call(C,S)&&(w[S]=C[S]);return w},W.apply(this,arguments)};function H(m,w){var C={};for(var E in m)Object.prototype.hasOwnProperty.call(m,E)&&w.indexOf(E)<0&&(C[E]=m[E]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(E=Object.getOwnPropertySymbols(m);b<E.length;b++)w.indexOf(E[b])<0&&Object.prototype.propertyIsEnumerable.call(m,E[b])&&(C[E[b]]=m[E[b]])}return C}}}]);