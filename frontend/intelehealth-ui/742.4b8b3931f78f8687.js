"use strict";(self.webpackChunkintelehealth_ui=self.webpackChunkintelehealth_ui||[]).push([[742],{2742:(Ws,gt,d)=>{d.r(gt),d.d(gt,{DashboardModule:()=>js,HttpLoaderFactory:()=>Lt});var g=d(6895),A=d(4476),tt=d(1086),z=d(4850),Vt=d(7221),f=d(4465),s=d(7266),t=d(4650),j=d(349);let Ft=(()=>{class n{constructor(e,i){this.router=e,this.apService=i}canActivate(e,i){const o=(0,f.TL)(!0,s.On.USER),r=(0,f.TL)(!0,s.On.PROVIDER);return this.apService.getScheduledMonths(o.uuid,(new Date).getFullYear().toString()).pipe((0,z.U)(c=>{if(c)return c.data.length&&r.attributes.length||this.router.navigate(["/dashboard/get-started"],{queryParams:{pc:!!r.attributes.length,sc:!!c.data.length}}),!0}),(0,Vt.K)(()=>(this.router.navigate(["/dashboard/get-started"],{queryParams:{pc:!1,sc:!1}}),(0,tt.of)(!1))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(A.F0),t.LFG(j.H))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var l=d(4006),y=d(2340),H=d(9080),F=d(7185),et=d(6601),E=d(7154),Z=d(9383),L=d(3274);function Rt(n,a){1&n&&(t.TgZ(0,"small",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter old password")))}function Yt(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Rt,3,3,"small",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.oldPassword.errors.required)}}function Jt(n,a){1&n&&(t.TgZ(0,"small",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter password")))}function Qt(n,a){1&n&&(t.TgZ(0,"small",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter atleast 8 characters")))}function zt(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Jt,3,3,"small",26),t.YNc(2,Qt,3,3,"small",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.password.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.password.errors.minlength)}}function jt(n,a){1&n&&(t.TgZ(0,"small",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter password")))}function Ht(n,a){1&n&&(t.TgZ(0,"small",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Please enter atleast 8 characters")))}function Gt(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,jt,3,3,"small",26),t.YNc(2,Ht,3,3,"small",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.confirmPassword.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.confirmPassword.errors.minlength)}}let Bt=(()=>{class n{constructor(e,i,o,r,c){this.coreService=e,this.toastr=i,this.authService=o,this.pageTitleService=r,this.translateService=c,this.submitted=!1,this.visible1=!1,this.visible2=!1,this.visible3=!1,this.baseUrl=y.N.baseURL,this.level=1,this.resetPasswordForm=new l.cw({oldPassword:new l.NI("",[l.kI.required]),password:new l.NI("",[l.kI.required,l.kI.minLength(8)]),confirmPassword:new l.NI("",[l.kI.required,l.kI.minLength(8)])})}ngOnInit(){this.translateService.use((0,f.TL)(!1,s.Mj.SELECTED_LANGUAGE)),this.pageTitleService.setTitle({title:"",imgUrl:""}),this.resetPasswordForm.get(s.On.PASSWORD).valueChanges.subscribe(e=>{this.checkPasswordStrength(e)})}get f(){return this.resetPasswordForm.controls}resetPassword(){if(this.submitted=!0,this.resetPasswordForm.invalid)return;if(this.resetPasswordForm.value.oldPassword===this.resetPasswordForm.value.password)return void this.toastr.warning(this.translateService.instant("Old Password and New Password cannot be same"),this.translateService.instant("Password invalid!"));if(this.resetPasswordForm.value.password!==this.resetPasswordForm.value.confirmPassword)return void this.toastr.warning(this.translateService.instant("Password and Confirm Password doesn't match."),this.translateService.instant("Password doesn't match!"));const e=this.resetPasswordForm.value.password;this.hasLowerCase(e)&&this.hasUpperCase(e)&&this.hasSpecialCharacter(e)&&this.hasNumber(e)?this.authService.changePassword(this.resetPasswordForm.value.oldPassword,e).subscribe(i=>{this.toastr.success(this.translateService.instant("Password has been changed successfully!"),this.translateService.instant("Password Changed!"))}):this.toastr.warning(this.translateService.instant("Password must be of atleast 8 characters & a mix of upper & lower case letters, numbers & symbols."),this.translateService.instant("Password invalid!"))}generatePassword(){let e="";const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789*@$&";do{e="";for(let o=0;o<8;o++){const r=Math.floor(Math.random()*i.length+1);e+=i.charAt(r)}}while(!(this.hasLowerCase(e)&&this.hasUpperCase(e)&&this.hasSpecialCharacter(e)&&this.hasNumber(e)));return this.visible2=!0,this.resetPasswordForm.patchValue({password:e,confirmPassword:e}),e}checkPasswordStrength(e){const i=new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{12,})"),o=new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})"),r=new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})");this.level=i.test(e)?4:o.test(e)?3:r.test(e)?2:1}hasLowerCase(e){return/[a-z]/.test(e)}hasUpperCase(e){return/[A-Z]/.test(e)}hasNumber(e){return/[0-9]/.test(e)}hasSpecialCharacter(e){return/[^A-Za-z0-9]/.test(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.p),t.Y36(F._W),t.Y36(et.e),t.Y36(E.Z),t.Y36(Z.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-change-password"]],decls:79,vars:75,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","p-0","section-title"],[1,"col-md-12","px-0","py-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","old-password"],[1,"password-field"],["formControlName","oldPassword","data-test-id","etOldPass",1,"form-control",3,"placeholder"],["type","button","data-test-id","btnToggleOldPass",1,"btn","toggle-password-btn",3,"click"],["src","assets/svgs/icon-eye.svg","alt","",3,"hidden"],["src","assets/svgs/icon-eye-closed.svg","alt","",3,"hidden"],[4,"ngIf"],["for","password"],[1,"link"],["href","javascript:void(0)","data-test-id","linkGeneratePass",3,"click"],["formControlName","password","data-test-id","etNewPass",1,"form-control",3,"placeholder"],["type","button","data-test-id","btnToggleNewPass",1,"btn","toggle-password-btn",3,"click"],[1,"col-md-12","px-0","password-strength-wrapper"],[1,"d-flex","password-strength-con"],[1,"flex-fill","strength-item"],["for","confirmPassword"],["formControlName","confirmPassword","data-test-id","etConfirmPass",1,"form-control",3,"placeholder"],["type","button","data-test-id","btnToggleConfirmPass",1,"btn","toggle-password-btn",3,"click"],[1,"form-group","mt-5"],["type","submit","data-test-id","btnSubmit",1,"btn","btn-block","next-btn"],["class","error-msg",4,"ngIf"],[1,"error-msg"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"div",3)(10,"form",4),t.NdJ("ngSubmit",function(){return i.resetPassword()}),t.TgZ(11,"div",5)(12,"label",6),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",7),t._UZ(16,"input",8),t.ALo(17,"translate"),t.TgZ(18,"button",9),t.NdJ("click",function(){return i.visible1=!i.visible1}),t._UZ(19,"img",10)(20,"img",11),t.qZA()(),t.YNc(21,Yt,2,1,"div",12),t.qZA(),t.TgZ(22,"div",5)(23,"label",13),t._uU(24),t.ALo(25,"translate"),t.TgZ(26,"span",14)(27,"a",15),t.NdJ("click",function(){return i.generatePassword()}),t._uU(28),t.ALo(29,"translate"),t.qZA()()(),t.TgZ(30,"div",7),t._UZ(31,"input",16),t.ALo(32,"translate"),t.TgZ(33,"button",17),t.NdJ("click",function(){return i.visible2=!i.visible2}),t._UZ(34,"img",10)(35,"img",11),t.qZA()(),t.YNc(36,zt,3,2,"div",12),t.qZA(),t.TgZ(37,"div",5)(38,"div",18)(39,"p"),t._uU(40),t.ALo(41,"translate"),t.TgZ(42,"span"),t._uU(43),t.ALo(44,"translate"),t.ALo(45,"translate"),t.ALo(46,"translate"),t.ALo(47,"translate"),t.qZA()(),t.TgZ(48,"div",19),t._UZ(49,"div",20)(50,"div",20)(51,"div",20)(52,"div",20),t.qZA(),t.TgZ(53,"p"),t._uU(54),t.ALo(55,"translate"),t.TgZ(56,"b"),t._uU(57),t.ALo(58,"translate"),t.qZA(),t._uU(59),t.ALo(60,"translate"),t.TgZ(61,"b"),t._uU(62),t.ALo(63,"translate"),t.qZA()()()(),t.TgZ(64,"div",5)(65,"label",21),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"div",7),t._UZ(69,"input",22),t.ALo(70,"translate"),t.TgZ(71,"button",23),t.NdJ("click",function(){return i.visible3=!i.visible3}),t._UZ(72,"img",10)(73,"img",11),t.qZA()(),t.YNc(74,Gt,3,2,"div",12),t.qZA(),t.TgZ(75,"div",24)(76,"button",25),t._uU(77),t.ALo(78,"translate"),t.qZA()()()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,37,"Change Password")),t.xp6(3),t.hij(" ",t.lcZ(8,39,"Your new password must be different to the previously used passwords.")," "),t.xp6(3),t.Q6J("formGroup",i.resetPasswordForm),t.xp6(3),t.hij(" ",t.lcZ(14,41,"Old password")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(17,43,"Enter old password")),t.uIk("type",i.visible1?"text":"password"),t.xp6(3),t.Q6J("hidden",i.visible1),t.xp6(1),t.Q6J("hidden",!i.visible1),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.oldPassword.errors),t.xp6(3),t.hij(" ",t.lcZ(25,45,"New password")," "),t.xp6(4),t.Oqu(t.lcZ(29,47,"Generate password")),t.xp6(3),t.s9C("placeholder",t.lcZ(32,49,"Enter or generate new password")),t.uIk("type",i.visible2?"text":"password"),t.xp6(3),t.Q6J("hidden",i.visible2),t.xp6(1),t.Q6J("hidden",!i.visible2),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.password.errors),t.xp6(4),t.hij("",t.lcZ(41,51,"Password strength"),": "),t.xp6(3),t.Oqu(4==i.level?t.lcZ(44,53,"Excellent"):3==i.level?t.lcZ(45,55,"Good"):2==i.level?t.lcZ(46,57,"Fair"):t.lcZ(47,59,"Low")),t.xp6(6),t.ekj("filled",i.level>=1),t.xp6(1),t.ekj("filled",i.level>=2),t.xp6(1),t.ekj("filled",i.level>=3),t.xp6(1),t.ekj("filled",4==i.level),t.xp6(2),t.hij("",t.lcZ(55,61,"Password must be of atleast")," "),t.xp6(3),t.Oqu(t.lcZ(58,63,"8 characters")),t.xp6(2),t.hij(" & ",t.lcZ(60,65,"a mix of"),""),t.xp6(3),t.hij(" ",t.lcZ(63,67,"upper & lower case letters, numbers & symbols."),""),t.xp6(4),t.hij(" ",t.lcZ(67,69,"Confirm new password")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(70,71,"Re-enter new password")),t.uIk("type",i.visible3?"text":"password"),t.xp6(3),t.Q6J("hidden",i.visible3),t.xp6(1),t.Q6J("hidden",!i.visible3),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.confirmPassword.errors),t.xp6(3),t.hij(" ",t.lcZ(78,73,"Change Password")," "))},dependencies:[g.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,L.z,Z.X$],styles:[".section-title[_ngcontent-%COMP%]{font-family:DM Sans}.section-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:150%;color:var(--color-darkBlue)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:var(--color-gray);line-height:150%}.user-profile-con[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%}.user-profile-con[_ngcontent-%COMP%]   .user-info-con[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:var(--color-gray)}.user-profile-con[_ngcontent-%COMP%]   .user-info-con[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:16px}.password-strength-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--color-gray)}.password-strength-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-darkBlue);font-weight:700}.password-strength-wrapper[_ngcontent-%COMP%]   .password-strength-con[_ngcontent-%COMP%]   .strength-item[_ngcontent-%COMP%]:first-child, .password-strength-wrapper[_ngcontent-%COMP%]   .password-strength-con[_ngcontent-%COMP%]   .strength-item[_ngcontent-%COMP%]:last-child{margin-left:0}.password-strength-wrapper[_ngcontent-%COMP%]   .password-strength-con[_ngcontent-%COMP%]   .strength-item[_ngcontent-%COMP%]{height:4px;background:#B0ADBE;border-radius:10px;margin:0 5px 10px;opacity:.7}.password-strength-wrapper[_ngcontent-%COMP%]   .password-strength-con[_ngcontent-%COMP%]   .strength-item.filled[_ngcontent-%COMP%]{background:var(--color-darkBlue);opacity:1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700;display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:14px;color:var(--color-gray);font-weight:400}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red);padding:10px 0}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]{position:relative}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;right:2px;bottom:6px}.form-group[_ngcontent-%COMP%]   .password-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .email-id-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .phone-field[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}"]}),n})();var S=d(7761),v=d(1149),h=d(5439),it=d(6270),$t=d(5383),nt=d(7933),k=d(1279),ht=d(9824),G=d(1377);const Wt=["appointmentPaginator"],Kt=["priorityPaginator"],Xt=["awaitingPaginator"],te=["inprogressPaginator"],ee=["tempPaginator1"],ie=["tempPaginator2"],ne=["tempPaginator3"],ae=["apSearchInput"],oe=["prSearchInput"],re=["awSearchInput"],se=["ipSearchInput"];function le(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",79),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.accordion.openAll(),t.KtG(o.showAll=!o.showAll)}),t.TgZ(1,"span",80),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5,"expand_more"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Show all")))}function ce(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",81),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.accordion.closeAll(),t.KtG(o.showAll=!o.showAll)}),t.TgZ(1,"span",80),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5,"expand_less"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Hide all")))}function pe(n,a){1&n&&(t.TgZ(0,"span",82),t._UZ(1,"img",83),t.qZA())}function de(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",84),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clearFilter("Appointment"))}),t.TgZ(1,"mat-icon",85),t._uU(2,"close"),t.qZA()()}}function ue(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Patient")," "))}const N=function(n){return["/dashboard/visit-summary",n]};function me(n,a){if(1&n&&(t.TgZ(0,"td",87)(1,"div",88),t._UZ(2,"img",89),t.TgZ(3,"span",90),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.Q6J("routerLink",t.VKq(7,N,null==e?null:e.visitUuid)),t.uIk("data-test-id","apPatient"+i),t.xp6(2),t.s9C("src",o.baseUrl+"/personimage/"+e.patientId,t.LSH),t.xp6(2),t.AsE("",e.patientName," (",t.lcZ(5,5,e.patientGender),")")}}function ge(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Age")," "))}function he(n,a){if(1&n&&(t.TgZ(0,"td",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit,i=a.index;t.Q6J("routerLink",t.VKq(6,N,null==e?null:e.visitUuid)),t.uIk("data-test-id","apAge"+i),t.xp6(1),t.AsE(" ",e.patientAge,"",t.lcZ(2,4,"y")," ")}}function _e(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Starts in")," "))}const fe=function(n,a){return{"alert-danger":n,"alert-success":a}};function be(n,a){if(1&n&&(t.TgZ(0,"td",87)(1,"span",91),t._uU(2),t.qZA()()),2&n){const e=a.$implicit,i=a.index;t.Q6J("routerLink",t.VKq(4,N,null==e?null:e.visitUuid)),t.uIk("data-test-id","apStartIn"+i),t.xp6(1),t.Q6J("ngClass",t.WLB(6,fe,e.starts_in.includes("Due"),e.starts_in.includes("Hour")||e.starts_in.includes("Minute"))),t.xp6(1),t.Oqu(e.starts_in)}}function ve(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Location")," "))}function xe(n,a){if(1&n&&(t.TgZ(0,"td",87),t._uU(1),t.qZA()),2&n){const e=a.$implicit,i=a.index;t.Q6J("routerLink",t.VKq(3,N,null==e?null:e.visitUuid)),t.uIk("data-test-id","apLocation"+i),t.xp6(1),t.hij(" ",null==e||null==e.visit?null:e.visit.location.name," ")}}function Ce(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Chief Complaint")," "))}function Ze(n,a){if(1&n&&(t.TgZ(0,"td",87),t._uU(1),t.qZA()),2&n){const e=a.$implicit,i=a.index;t.Q6J("routerLink",t.VKq(3,N,null==e?null:e.visitUuid)),t.uIk("data-test-id","apComplaint"+i),t.xp6(1),t.hij(" ",null==e?null:e.cheif_complaint," ")}}function Ae(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Actions")," "))}function Te(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",92)(1,"div",93)(2,"button",94),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.reschedule(r))}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",95),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.cancel(r))}),t._uU(6),t.ALo(7,"translate"),t.qZA()()()}if(2&n){const e=a.index;t.uIk("data-test-id","apAction"+e),t.xp6(2),t.uIk("data-test-id","btnReschedule"+e),t.xp6(1),t.Oqu(t.lcZ(4,5,"Reschedule")),t.xp6(2),t.uIk("data-test-id","btnCancel"+e),t.xp6(1),t.Oqu(t.lcZ(7,7,"Cancel"))}}function Oe(n,a){if(1&n&&(t.TgZ(0,"tr",96)(1,"td",97),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.uIk("colspan",e.displayedColumns1.length),t.xp6(1),t.hij(" ",t.lcZ(3,2,"No any appointments scheduled.")," ")}}function ye(n,a){1&n&&t._UZ(0,"tr",98)}function Se(n,a){if(1&n&&t._UZ(0,"tr",99),2&n){const e=a.$implicit,i=a.index;t.ekj("upcoming",e.starts_in.includes("hours")||e.starts_in.includes("minutes")),t.uIk("data-test-id","ap"+i)}}function Pe(n,a){1&n&&(t.TgZ(0,"span",82),t._UZ(1,"img",83),t.qZA())}function we(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",100),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clearFilter("Priority"))}),t.TgZ(1,"mat-icon",85),t._uU(2,"close"),t.qZA()()}}function Me(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Patient")," "))}function Ie(n,a){if(1&n&&(t.TgZ(0,"td",92)(1,"div",88),t._UZ(2,"img",89),t.TgZ(3,"span",90),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.uIk("data-test-id","prPatient"+i),t.xp6(2),t.s9C("src",o.baseUrl+"/personimage/"+e.person.uuid,t.LSH),t.xp6(2),t.HOy("",e.patient_name.given_name," ",null!=e.patient_name&&e.patient_name.middle_name?(null==e.patient_name?null:e.patient_name.middle_name)+" ":"","",e.patient_name.family_name," (",t.lcZ(5,6,e.person.gender),")")}}function Ne(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Age")," "))}function ke(n,a){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","prAge"+a.index),t.xp6(1),t.AsE(" ",e.person.age," ",t.lcZ(2,3,"y"),"")}}function Ue(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Location")," "))}function qe(n,a){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","prLocation"+a.index),t.xp6(1),t.hij(" ",e.location.name," ")}}function Ee(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Chief Complaint")," "))}function Le(n,a){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","prComplaint"+a.index),t.xp6(1),t.hij(" ",e.cheif_complaint," ")}}function De(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Visit Uploaded")," "))}function Ve(n,a){if(1&n&&(t.TgZ(0,"td",92)(1,"div",101),t._UZ(2,"img",102),t.TgZ(3,"span",103),t._uU(4),t.qZA()()()),2&n){const e=a.$implicit;t.uIk("data-test-id","prCreated"+a.index),t.xp6(4),t.Oqu(e.visit_created)}}function Fe(n,a){if(1&n&&(t.TgZ(0,"tr",96)(1,"td",97),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.uIk("colspan",e.displayedColumns2.length),t.xp6(1),t.hij(" ",t.lcZ(3,2,"No any priority visits.")," ")}}function Re(n,a){1&n&&t._UZ(0,"tr",98)}function Ye(n,a){if(1&n&&t._UZ(0,"tr",104),2&n){const i=a.index;t.Q6J("routerLink",t.VKq(2,N,a.$implicit.uuid)),t.uIk("data-test-id","pr"+i)}}function Je(n,a){1&n&&(t.TgZ(0,"span",82),t._UZ(1,"img",83),t.qZA())}function Qe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",105),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clearFilter("Awaiting"))}),t.TgZ(1,"mat-icon",85),t._uU(2,"close"),t.qZA()()}}function ze(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Patient")," "))}function je(n,a){if(1&n&&(t.TgZ(0,"td",92)(1,"div",88),t._UZ(2,"img",89),t.TgZ(3,"span",90),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.uIk("data-test-id","awPatient"+i),t.xp6(2),t.Q6J("src",o.baseUrl+"/personimage/"+e.person.uuid,t.LSH),t.xp6(2),t.HOy("",e.patient_name.given_name," ",null!=e.patient_name&&e.patient_name.middle_name?(null==e.patient_name?null:e.patient_name.middle_name)+" ":"","",e.patient_name.family_name," (",t.lcZ(5,6,e.person.gender),")")}}function He(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Age")," "))}function Ge(n,a){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","awAge"+a.index),t.xp6(1),t.AsE(" ",e.person.age," ",t.lcZ(2,3,"y")," ")}}function Be(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Location")," "))}function $e(n,a){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","awLocation"+a.index),t.xp6(1),t.hij(" ",e.location.name," ")}}function We(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Chief Complaint")," "))}function Ke(n,a){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","awComplaint"+a.index),t.xp6(1),t.hij(" ",e.cheif_complaint," ")}}function Xe(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Visit Uploaded")," "))}function ti(n,a){if(1&n&&(t.TgZ(0,"td",92)(1,"div",101),t._UZ(2,"img",102),t.TgZ(3,"span",103),t._uU(4),t.qZA()()()),2&n){const e=a.$implicit;t.uIk("data-test-id","awCreated"+a.index),t.xp6(4),t.Oqu(e.visit_created)}}function ei(n,a){if(1&n&&(t.TgZ(0,"tr",96)(1,"td",97),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.uIk("colspan",e.displayedColumns3.length),t.xp6(1),t.hij(" ",t.lcZ(3,2,"No any awaiting visits.")," ")}}function ii(n,a){1&n&&t._UZ(0,"tr",98)}function ni(n,a){if(1&n&&t._UZ(0,"tr",104),2&n){const i=a.index;t.Q6J("routerLink",t.VKq(2,N,a.$implicit.uuid)),t.uIk("data-test-id","aw"+i)}}function ai(n,a){1&n&&(t.TgZ(0,"span",82),t._UZ(1,"img",83),t.qZA())}function oi(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",106),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clearFilter("In-progress"))}),t.TgZ(1,"mat-icon",85),t._uU(2,"close"),t.qZA()()}}function ri(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Patient")," "))}function si(n,a){if(1&n&&(t.TgZ(0,"td",92)(1,"div",88),t._UZ(2,"img",89),t.TgZ(3,"span",90),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.uIk("data-test-id","ipPatient"+i),t.xp6(2),t.s9C("src",o.baseUrl+"/personimage/"+e.person.uuid,t.LSH),t.xp6(2),t.HOy("",e.patient_name.given_name," ",null!=e.patient_name&&e.patient_name.middle_name?(null==e.patient_name?null:e.patient_name.middle_name)+" ":"","",e.patient_name.family_name," (",t.lcZ(5,6,e.person.gender),")")}}function li(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Age")," "))}function ci(n,a){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","ipAge"+a.index),t.xp6(1),t.AsE(" ",e.person.age," ",t.lcZ(2,3,"y")," ")}}function pi(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Location")," "))}function di(n,a){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","ipLocation"+a.index),t.xp6(1),t.hij(" ",e.location.name," ")}}function ui(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Chief Complaint")," "))}function mi(n,a){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","ipComplaint"+a.index),t.xp6(1),t.hij(" ",e.cheif_complaint," ")}}function gi(n,a){1&n&&(t.TgZ(0,"th",86),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Prescription Started")," "))}function hi(n,a){if(1&n&&(t.TgZ(0,"td",92)(1,"div",101),t._UZ(2,"img",102),t.TgZ(3,"span",103),t._uU(4),t.qZA()()()),2&n){const e=a.$implicit;t.uIk("data-test-id","ipPresStart"+a.index),t.xp6(4),t.Oqu(e.prescription_started)}}function _i(n,a){if(1&n&&(t.TgZ(0,"tr",96)(1,"td",97),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.uIk("colspan",e.displayedColumns4.length),t.xp6(1),t.hij(" ",t.lcZ(3,2,"No any in-progress visits.")," ")}}function fi(n,a){1&n&&t._UZ(0,"tr",98)}function bi(n,a){if(1&n&&t._UZ(0,"tr",104),2&n){const i=a.index;t.Q6J("routerLink",t.VKq(2,N,a.$implicit.uuid)),t.uIk("data-test-id","ip"+i)}}const U=function(){return[5,10,20]};let vi=(()=>{class n{constructor(e,i,o,r,c,p,m,_){this.pageTitleService=e,this.appointmentService=i,this.visitService=o,this.socket=r,this.router=c,this.coreService=p,this.toastr=m,this.translateService=_,this.showAll=!0,this.displayedColumns1=["name","age","starts_in","location","cheif_complaint","actions"],this.displayedColumns2=["name","age","location","cheif_complaint","visit_created"],this.displayedColumns3=["name","age","location","cheif_complaint","visit_created"],this.displayedColumns4=["name","age","location","cheif_complaint","prescription_started"],this.dataSource1=new v.by,this.dataSource2=new v.by,this.dataSource3=new v.by,this.dataSource4=new v.by,this.baseUrl=y.N.baseURL,this.appointments=[],this.priorityVisits=[],this.awaitingVisits=[],this.inProgressVisits=[],this.specialization="",this.priorityVisitsCount=0,this.awaitingVisitsCount=0,this.inprogressVisitsCount=0,this.offset=y.N.recordsPerPage,this.awatingRecordsFetched=0,this.pageIndex1=0,this.pageSize1=5,this.priorityRecordsFetched=0,this.pageIndex2=0,this.pageSize2=5,this.inprogressRecordsFetched=0,this.pageIndex3=0,this.pageSize3=5,this.appointmentRecordsFetched=0,this.pageIndex4=0,this.pageSize4=5}ngOnInit(){this.translateService.use((0,f.TL)(!1,s.Mj.SELECTED_LANGUAGE)),this.pageTitleService.setTitle({title:"Dashboard",imgUrl:"assets/svgs/menu-info-circle.svg"});let e=(0,f.TL)(!0,s.On.PROVIDER);e&&(e.attributes.length?this.specialization=this.getSpecialization(e.attributes):this.router.navigate(["/dashboard/get-started"]),this.getAppointments(),this.getAwaitingVisits(1),this.getPriorityVisits(1),this.getInProgressVisits(1)),this.socket.initSocket(!0)}getAwaitingVisits(e=1){1==e&&(this.awaitingVisits=[],this.awatingRecordsFetched=0),this.visitService.getAwaitingVisits(this.specialization,e).subscribe(i=>{if(i.success){this.awaitingVisitsCount=i.totalCount,this.awatingRecordsFetched+=this.offset;for(let o=0;o<i.data.length;o++){let r=i.data[o];r.cheif_complaint=this.getCheifComplaint(r),r.visit_created=r?.date_created?this.getCreatedAt(r.date_created.replace("Z","+0530")):this.getEncounterCreated(r,s.fj.ADULTINITIAL),r.person.age=this.calculateAge(r.person.birthdate),this.awaitingVisits.push(r)}this.dataSource3.data=[...this.awaitingVisits],1==e?(this.dataSource3.paginator=this.tempPaginator2,this.dataSource3.filterPredicate=(o,r)=>-1!=o?.patient.identifier.toLowerCase().indexOf(r)||-1!=o?.patient_name.given_name.concat((o?.patient_name.middle_name?" "+o?.patient_name.middle_name:"")+" "+o?.patient_name.family_name).toLowerCase().indexOf(r)):(this.tempPaginator2.length=this.awaitingVisits.length,this.tempPaginator2.nextPage())}})}getAwaitingData(e){return this.pageIndex1=e.pageIndex,this.pageSize1=e.pageSize,this.dataSource3.filter&&this.awaitingPaginator.firstPage(),(e.pageIndex+1)*this.pageSize1>this.awatingRecordsFetched?this.getAwaitingVisits((this.awatingRecordsFetched+this.offset)/this.offset):e.previousPageIndex<e.pageIndex?this.tempPaginator2.nextPage():this.tempPaginator2.previousPage(),e}getPriorityVisits(e=1){1==e&&(this.priorityVisits=[],this.priorityRecordsFetched=0),this.visitService.getPriorityVisits(this.specialization,e).subscribe(i=>{if(i.success){this.priorityVisitsCount=i.totalCount,this.priorityRecordsFetched+=this.offset;for(let o=0;o<i.data.length;o++){let r=i.data[o];r.cheif_complaint=this.getCheifComplaint(r),r.visit_created=r?.date_created?this.getCreatedAt(r.date_created.replace("Z","+0530")):this.getEncounterCreated(r,s.fj.FLAGGED),r.person.age=this.calculateAge(r.person.birthdate),this.priorityVisits.push(r)}this.dataSource2.data=[...this.priorityVisits],1==e?(this.dataSource2.paginator=this.tempPaginator1,this.dataSource2.filterPredicate=(o,r)=>-1!=o?.patient.identifier.toLowerCase().indexOf(r)||-1!=o?.patient_name.given_name.concat((o?.patient_name.middle_name?" "+o?.patient_name.middle_name:"")+" "+o?.patient_name.family_name).toLowerCase().indexOf(r)):(this.tempPaginator1.length=this.priorityVisits.length,this.tempPaginator1.nextPage())}})}getPriorityData(e){return this.pageIndex2=e.pageIndex,this.pageSize2=e.pageSize,this.dataSource2.filter&&this.priorityPaginator.firstPage(),(e.pageIndex+1)*this.pageSize2>this.priorityRecordsFetched?this.getPriorityVisits((this.priorityRecordsFetched+this.offset)/this.offset):e.previousPageIndex<e.pageIndex?this.tempPaginator1.nextPage():this.tempPaginator1.previousPage(),e}getInProgressVisits(e=1){1==e&&(this.inProgressVisits=[],this.inprogressRecordsFetched=0),this.visitService.getInProgressVisits(this.specialization,e).subscribe(i=>{if(i.success){this.inprogressVisitsCount=i.totalCount,this.inprogressRecordsFetched+=this.offset;for(let o=0;o<i.data.length;o++){let r=i.data[o];r.cheif_complaint=this.getCheifComplaint(r),r.visit_created=r?.date_created?this.getCreatedAt(r.date_created.replace("Z","+0530")):this.getEncounterCreated(r,s.fj.ADULTINITIAL),r.prescription_started=this.getEncounterCreated(r,s.fj.VISIT_NOTE),r.person.age=this.calculateAge(r.person.birthdate),this.inProgressVisits.push(r)}this.dataSource4.data=[...this.inProgressVisits],1==e?(this.dataSource4.paginator=this.tempPaginator3,this.dataSource4.filterPredicate=(o,r)=>-1!=o?.patient.identifier.toLowerCase().indexOf(r)||-1!=o?.patient_name.given_name.concat((o?.patient_name.middle_name?" "+o?.patient_name.middle_name:"")+" "+o?.patient_name.family_name).toLowerCase().indexOf(r)):(this.tempPaginator3.length=this.inProgressVisits.length,this.tempPaginator3.nextPage())}})}getInprogressData(e){return this.pageIndex3=e.pageIndex,this.pageSize3=e.pageSize,this.dataSource4.filter&&this.inprogressPaginator.firstPage(),(e.pageIndex+1)*this.pageSize3>this.inprogressRecordsFetched?this.getInProgressVisits((this.inprogressRecordsFetched+this.offset)/this.offset):e.previousPageIndex<e.pageIndex?this.tempPaginator3.nextPage():this.tempPaginator3.previousPage(),e}getAppointments(){this.appointments=[],this.appointmentService.getUserSlots((0,f.TL)(!0,s.On.USER).uuid,h().startOf("year").format("DD/MM/YYYY"),h().endOf("year").format("DD/MM/YYYY")).subscribe(e=>{e.data.forEach(o=>{"booked"==o.status&&("Awaiting Consult"==o.visitStatus||"Visit In Progress"==o.visitStatus)&&o.visit&&(o.cheif_complaint=this.getCheifComplaint(o.visit),o.starts_in=(0,f.eg)(o.slotJsDate),this.appointments.push(o))}),this.dataSource1.data=[...this.appointments],this.dataSource1.paginator=this.appointmentPaginator,this.dataSource1.filterPredicate=(o,r)=>-1!=o?.openMrsId.toLowerCase().indexOf(r)||-1!=o?.patientName.toLowerCase().indexOf(r)})}getEncounterCreated(e,i){let o="";return e.encounters.forEach(c=>{null!==c.type?.name.match(i)&&(o=this.getCreatedAt(c.encounter_datetime.replace("Z","+0530")))}),o}getCheifComplaint(e){let i=[];return e.encounters.forEach(r=>{null!==r.type?.name.match(s.fj.ADULTINITIAL)&&r.obs.forEach(m=>{if(163212==m.concept_id){const _=this.visitService.getData2(m)?.value_text.replace(new RegExp("\u25ba","g"),"").split("<b>");for(let b=1;b<_.length;b++){const u=_[b].split("<");u[0].match(s.fj.ASSOCIATED_SYMPTOMS)||i.push(u[0])}}})}),i}calculateAge(e){return h().diff(e,"years")}getCreatedAt(e){let i=h().diff(h(e),"hours"),o=h().diff(h(e),"minutes");return i>24?h(e).format("DD MMM, YYYY"):i<1?`${o} minutes ago`:`${i} hrs ago`}getSpecialization(e){let i="";return e.forEach(o=>{"ed1715f5-93e2-404e-b3c9-2a2d9600f062"==o.attributeType.uuid&&!o.voided&&(i=o.value)}),i}reschedule(e){const i=e.visit.encounters.filter(r=>r.type.name==s.fj.PATIENT_EXIT_SURVEY||r.type.name==s.fj.VISIT_COMPLETE).length;Boolean(i)?this.toastr.error("Visit is already completed, it can't be rescheduled.","Rescheduling failed"):"Visit In Progress"==e.visitStatus?this.toastr.error(this.translateService.instant("Visit is in progress, it can't be rescheduled."),this.translateService.instant("Rescheduling failed!")):this.coreService.openRescheduleAppointmentModal(e).subscribe(r=>{if(r){let c=r;this.coreService.openRescheduleAppointmentConfirmModal({appointment:e,newSlot:c}).subscribe(p=>{p&&(e.appointmentId=e.id,e.slotDate=h(c.date,"YYYY-MM-DD").format("DD/MM/YYYY"),e.slotTime=c.slot,this.appointmentService.rescheduleAppointment(e).subscribe(m=>{const _=m.message;m.status?(this.getAppointments(),this.toastr.success("The appointment has been rescheduled successfully!","Rescheduling successful!")):this.toastr.success(_,"Rescheduling failed!")}))})}})}cancel(e){"Visit In Progress"!=e.visitStatus?this.coreService.openConfirmCancelAppointmentModal(e).subscribe(i=>{i&&(this.toastr.success("The Appointment has been successfully canceled.","Canceling successful"),this.getAppointments())}):this.toastr.error(this.translateService.instant("Visit is in progress, it can't be cancelled."),this.translateService.instant("Canceling failed!"))}playNotify(){new Audio("assets/notification.mp3").play()}applyFilter1(e){this.dataSource1.filter=e.target.value.trim().toLowerCase()}applyFilter2(e){this.dataSource2.filter=e.target.value.trim().toLowerCase(),this.tempPaginator1.firstPage(),this.priorityPaginator.firstPage()}applyFilter3(e){this.dataSource3.filter=e.target.value.trim().toLowerCase(),this.tempPaginator2.firstPage(),this.awaitingPaginator.firstPage()}applyFilter4(e){this.dataSource4.filter=e.target.value.trim().toLowerCase(),this.tempPaginator3.firstPage(),this.inprogressPaginator.firstPage()}clearFilter(e){switch(e){case"Appointment":this.dataSource1.filter=null,this.apSearchElement.nativeElement.value="";break;case"Priority":this.dataSource2.filter=null,this.prSearchElement.nativeElement.value="";break;case"Awaiting":this.dataSource3.filter=null,this.awSearchElement.nativeElement.value="";break;case"In-progress":this.dataSource4.filter=null,this.ipSearchElement.nativeElement.value=""}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Z),t.Y36(j.H),t.Y36(it.W),t.Y36($t.$),t.Y36(A.F0),t.Y36(H.p),t.Y36(F._W),t.Y36(Z.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(e,i){if(1&e&&(t.Gf(S.pp,5),t.Gf(Wt,5),t.Gf(Kt,5),t.Gf(Xt,5),t.Gf(te,5),t.Gf(ee,5),t.Gf(ie,5),t.Gf(ne,5),t.Gf(ae,7),t.Gf(oe,7),t.Gf(re,7),t.Gf(se,7)),2&e){let o;t.iGM(o=t.CRH())&&(i.accordion=o.first),t.iGM(o=t.CRH())&&(i.appointmentPaginator=o.first),t.iGM(o=t.CRH())&&(i.priorityPaginator=o.first),t.iGM(o=t.CRH())&&(i.awaitingPaginator=o.first),t.iGM(o=t.CRH())&&(i.inprogressPaginator=o.first),t.iGM(o=t.CRH())&&(i.tempPaginator1=o.first),t.iGM(o=t.CRH())&&(i.tempPaginator2=o.first),t.iGM(o=t.CRH())&&(i.tempPaginator3=o.first),t.iGM(o=t.CRH())&&(i.apSearchElement=o.first),t.iGM(o=t.CRH())&&(i.prSearchElement=o.first),t.iGM(o=t.CRH())&&(i.awSearchElement=o.first),t.iGM(o=t.CRH())&&(i.ipSearchElement=o.first)}},decls:213,vars:105,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-3","p-1"],[1,"chip-item","chip-item-blue",3,"title"],["src","assets/svgs/video-frame.svg","alt","",1,"chip-img"],[1,"chip-info"],[1,"chip-item","chip-item-red",3,"title"],["src","assets/svgs/red-profile.svg","alt","",1,"chip-img"],[1,"chip-item","chip-item-green",3,"title"],["src","assets/svgs/green-profile.svg","alt","",1,"chip-img"],["src","assets/svgs/pen-board.svg","alt","",1,"chip-img"],[1,"row","mt-3"],[1,"col-md-12","p-0"],[1,"text-right","my-2"],["mat-button","","data-test-id","btnShowAllDashboard",3,"click",4,"ngIf"],["mat-button","","data-test-id","btnHideAllDashboard",3,"click",4,"ngIf"],["multi","","data-test-id","matAccDashboard",1,"intel-accordion-con"],["data-test-id","matExpAppointment",3,"expanded"],["data-test-id","matExpHeaderAppointment"],[1,"intel-accordion-title"],["src","assets/svgs/cam-icon.svg","alt","","width","44px"],[1,"mb-0","ml-2"],["aria-hidden","false","aria-label","help icon","matTooltipPosition","right","data-test-id","matIcoHelpAppointment",1,"info-icon",3,"matTooltip"],[1,"input-group","search-bar","ml-auto",3,"click"],["type","text","placeholder","Search appointments","aria-label","search1","aria-describedby","basic-addon1","data-test-id","etSearchAppointmentDashboard",1,"form-control",3,"keyup","keydown.Space","keydown.Enter"],["apSearchInput",""],[1,"input-group-append"],["class","input-group-text","id","basic-addon1",4,"ngIf"],["data-test-id","btnResetApSerach","mat-icon-button","","aria-label","Reset appointment search",3,"click",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","age"],["matColumnDef","starts_in"],["matColumnDef","location"],["matColumnDef","cheif_complaint"],["matColumnDef","actions"],["mat-cell","",4,"matCellDef"],["class","mat-row",4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"upcoming",4,"matRowDef","matRowDefColumns"],["hidePageSize","","aria-label","Select page of periodic elements","data-test-id","matPaginatorAppointment",3,"pageSizeOptions"],["appointmentPaginator",""],["data-test-id","matExpPriority",3,"expanded"],["data-test-id","matExpHeaderPriority"],["src","assets/svgs/red-profile.svg","alt","","width","44px"],["aria-hidden","false","aria-label","help icon","matTooltipPosition","right","data-test-id","matIcoHelpPriority",1,"info-icon",3,"matTooltip"],["type","text","placeholder","Search priority visits","aria-label","search1","aria-describedby","basic-addon1","data-test-id","etSearchPriorityDashboard",1,"form-control",3,"keyup","keydown.Space","keydown.Enter"],["prSearchInput",""],["data-test-id","btnResetPrSerach","mat-icon-button","","aria-label","Reset priority search",3,"click",4,"ngIf"],["matColumnDef","visit_created"],["mat-row","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["hidePageSize","","hidden","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["tempPaginator1",""],["hidePageSize","","aria-label","Select page of periodic elements","data-test-id","matPaginatorPriority",3,"pageSizeOptions","length","pageIndex","pageSize","page"],["priorityPaginator",""],["data-test-id","matExpAwaiting",3,"expanded"],["data-test-id","matExpHeaderAwaiting"],["src","assets/svgs/green-profile.svg","alt","","width","44px"],["aria-hidden","false","aria-label","help icon","matTooltipPosition","right","data-test-id","matIcoHelpAwaiting",1,"info-icon",3,"matTooltip"],["type","text","placeholder","Search awaiting visits","aria-label","Username","aria-describedby","basic-addon1","data-test-id","etSearchAwaitingDashboard",1,"form-control",3,"keyup","keydown.Space","keydown.Enter"],["awSearchInput",""],["data-test-id","btnResetAwSerach","mat-icon-button","","aria-label","Reset awaiting search",3,"click",4,"ngIf"],["tempPaginator2",""],["hidePageSize","","aria-label","Select page of periodic elements","data-test-id","matPaginatorAwaiting",3,"pageSizeOptions","length","pageIndex","pageSize","page"],["awaitingPaginator",""],["data-test-id","matExpInprogress",3,"expanded"],["data-test-id","matExpHeaderInprogress"],["src","assets/svgs/pen-board.svg","alt","","width","44px"],["aria-hidden","false","aria-label","help icon","matTooltipPosition","right","data-test-id","matIcoHelpInprogress",1,"info-icon",3,"matTooltip"],["type","text","placeholder","Search in-progress visits","aria-label","Username","aria-describedby","basic-addon1","data-test-id","etSearchInprogressDashboard",1,"form-control",3,"keyup","keydown.Space","keydown.Enter"],["ipSearchInput",""],["data-test-id","btnResetIpSerach","mat-icon-button","","aria-label","Reset inprogress search",3,"click",4,"ngIf"],["matColumnDef","prescription_started"],["tempPaginator3",""],["hidePageSize","","aria-label","Select page of periodic elements","data-test-id","matPaginatorInprogress",3,"pageSizeOptions","length","pageIndex","pageSize","page"],["inprogressPaginator",""],["mat-button","","data-test-id","btnShowAllDashboard",3,"click"],[1,"text-muted"],["mat-button","","data-test-id","btnHideAllDashboard",3,"click"],["id","basic-addon1",1,"input-group-text"],["src","assets/svgs/search-icon.svg","alt","","width","20px","height","20px"],["data-test-id","btnResetApSerach","mat-icon-button","","aria-label","Reset appointment search",3,"click"],[1,"ml-0",2,"line-height","normal"],["mat-header-cell",""],["mat-cell","",3,"routerLink"],[1,"d-flex","align-items-center"],["alt","","width","32px","height","32px",2,"border-radius","50%",3,"src"],[1,"font-bold","ml-2"],[3,"ngClass"],["mat-cell",""],[1,"actions-btn-wrap","d-flex","align-items-center"],["type","button",1,"action-btn","blue-btn","mr-2",3,"click"],["type","button",1,"action-btn","pink-btn",3,"click"],[1,"mat-row"],[1,"mat-cell","text-center"],["mat-header-row",""],["mat-row",""],["data-test-id","btnResetPrSerach","mat-icon-button","","aria-label","Reset priority search",3,"click"],[1,"red-pill"],["src","assets/svgs/red-pad.svg","alt",""],[1,"ml-2"],["mat-row","",3,"routerLink"],["data-test-id","btnResetAwSerach","mat-icon-button","","aria-label","Reset awaiting search",3,"click"],["data-test-id","btnResetIpSerach","mat-icon-button","","aria-label","Reset inprogress search",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.ALo(4,"translate"),t._UZ(5,"img",4),t.TgZ(6,"div",5)(7,"h6"),t._uU(8),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA()()()(),t.TgZ(12,"div",2)(13,"div",6),t.ALo(14,"translate"),t._UZ(15,"img",7),t.TgZ(16,"div",5)(17,"h6"),t._uU(18),t.qZA(),t.TgZ(19,"span"),t._uU(20),t.ALo(21,"translate"),t.qZA()()()(),t.TgZ(22,"div",2)(23,"div",8),t.ALo(24,"translate"),t._UZ(25,"img",9),t.TgZ(26,"div",5)(27,"h6"),t._uU(28),t.qZA(),t.TgZ(29,"span"),t._uU(30),t.ALo(31,"translate"),t.qZA()()()(),t.TgZ(32,"div",2)(33,"div",8),t.ALo(34,"translate"),t._UZ(35,"img",10),t.TgZ(36,"div",5)(37,"h6"),t._uU(38),t.qZA(),t.TgZ(39,"span"),t._uU(40),t.ALo(41,"translate"),t.qZA()()()()(),t.TgZ(42,"div",11)(43,"div",12)(44,"div",13),t.YNc(45,le,6,3,"button",14),t.YNc(46,ce,6,3,"button",15),t.qZA(),t.TgZ(47,"mat-accordion",16)(48,"mat-expansion-panel",17)(49,"mat-expansion-panel-header",18)(50,"mat-panel-title")(51,"div",19),t._UZ(52,"img",20),t.TgZ(53,"h6",21),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"mat-icon",22),t.ALo(57,"translate"),t._uU(58,"help_outline"),t.qZA(),t.TgZ(59,"div",23),t.NdJ("click",function(r){return r.stopPropagation()}),t.TgZ(60,"input",24,25),t.NdJ("keyup",function(r){return i.applyFilter1(r)})("keydown.Space",function(r){return r.stopPropagation()})("keydown.Enter",function(r){return r.stopPropagation()}),t.qZA(),t.TgZ(62,"div",26),t.YNc(63,pe,2,0,"span",27),t.YNc(64,de,3,0,"button",28),t.qZA()()()()(),t.TgZ(65,"div",29)(66,"table",30),t.ynx(67,31),t.YNc(68,ue,3,3,"th",32),t.YNc(69,me,6,9,"td",33),t.BQk(),t.ynx(70,34),t.YNc(71,ge,3,3,"th",32),t.YNc(72,he,3,8,"td",33),t.BQk(),t.ynx(73,35),t.YNc(74,_e,3,3,"th",32),t.YNc(75,be,3,9,"td",33),t.BQk(),t.ynx(76,36),t.YNc(77,ve,3,3,"th",32),t.YNc(78,xe,2,5,"td",33),t.BQk(),t.ynx(79,37),t.YNc(80,Ce,3,3,"th",32),t.YNc(81,Ze,2,5,"td",33),t.BQk(),t.ynx(82,38),t.YNc(83,Ae,3,3,"th",32),t.YNc(84,Te,8,9,"td",39),t.BQk(),t.YNc(85,Oe,4,4,"tr",40),t.YNc(86,ye,1,0,"tr",41),t.YNc(87,Se,1,3,"tr",42),t.qZA(),t._UZ(88,"mat-paginator",43,44),t.qZA()(),t.TgZ(90,"mat-expansion-panel",45)(91,"mat-expansion-panel-header",46)(92,"mat-panel-title")(93,"div",19),t._UZ(94,"img",47),t.TgZ(95,"h6",21),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"mat-icon",48),t.ALo(99,"translate"),t._uU(100,"help_outline"),t.qZA(),t.TgZ(101,"div",23),t.NdJ("click",function(r){return r.stopPropagation()}),t.TgZ(102,"input",49,50),t.NdJ("keyup",function(r){return i.applyFilter2(r)})("keydown.Space",function(r){return r.stopPropagation()})("keydown.Enter",function(r){return r.stopPropagation()}),t.qZA(),t.TgZ(104,"div",26),t.YNc(105,Pe,2,0,"span",27),t.YNc(106,we,3,0,"button",51),t.qZA()()()()(),t.TgZ(107,"div",29)(108,"table",30),t.ynx(109,31),t.YNc(110,Me,3,3,"th",32),t.YNc(111,Ie,6,8,"td",39),t.BQk(),t.ynx(112,34),t.YNc(113,Ne,3,3,"th",32),t.YNc(114,ke,3,5,"td",39),t.BQk(),t.ynx(115,36),t.YNc(116,Ue,3,3,"th",32),t.YNc(117,qe,2,2,"td",39),t.BQk(),t.ynx(118,37),t.YNc(119,Ee,3,3,"th",32),t.YNc(120,Le,2,2,"td",39),t.BQk(),t.ynx(121,52),t.YNc(122,De,3,3,"th",32),t.YNc(123,Ve,5,2,"td",39),t.BQk(),t.YNc(124,Fe,4,4,"tr",40),t.YNc(125,Re,1,0,"tr",41),t.YNc(126,Ye,1,4,"tr",53),t.qZA(),t._UZ(127,"mat-paginator",54,55),t.TgZ(129,"mat-paginator",56,57),t.NdJ("page",function(r){return i.pageEvent2=i.getPriorityData(r)}),t.qZA()()(),t.TgZ(131,"mat-expansion-panel",58)(132,"mat-expansion-panel-header",59)(133,"mat-panel-title")(134,"div",19),t._UZ(135,"img",60),t.TgZ(136,"h6",21),t._uU(137),t.ALo(138,"translate"),t.qZA(),t.TgZ(139,"mat-icon",61),t.ALo(140,"translate"),t._uU(141,"help_outline"),t.qZA(),t.TgZ(142,"div",23),t.NdJ("click",function(r){return r.stopPropagation()}),t.TgZ(143,"input",62,63),t.NdJ("keyup",function(r){return i.applyFilter3(r)})("keydown.Space",function(r){return r.stopPropagation()})("keydown.Enter",function(r){return r.stopPropagation()}),t.qZA(),t.TgZ(145,"div",26),t.YNc(146,Je,2,0,"span",27),t.YNc(147,Qe,3,0,"button",64),t.qZA()()()()(),t.TgZ(148,"div",29)(149,"table",30),t.ynx(150,31),t.YNc(151,ze,3,3,"th",32),t.YNc(152,je,6,8,"td",39),t.BQk(),t.ynx(153,34),t.YNc(154,He,3,3,"th",32),t.YNc(155,Ge,3,5,"td",39),t.BQk(),t.ynx(156,36),t.YNc(157,Be,3,3,"th",32),t.YNc(158,$e,2,2,"td",39),t.BQk(),t.ynx(159,37),t.YNc(160,We,3,3,"th",32),t.YNc(161,Ke,2,2,"td",39),t.BQk(),t.ynx(162,52),t.YNc(163,Xe,3,3,"th",32),t.YNc(164,ti,5,2,"td",39),t.BQk(),t.YNc(165,ei,4,4,"tr",40),t.YNc(166,ii,1,0,"tr",41),t.YNc(167,ni,1,4,"tr",53),t.qZA(),t._UZ(168,"mat-paginator",54,65),t.TgZ(170,"mat-paginator",66,67),t.NdJ("page",function(r){return i.pageEvent1=i.getAwaitingData(r)}),t.qZA()()(),t.TgZ(172,"mat-expansion-panel",68)(173,"mat-expansion-panel-header",69)(174,"mat-panel-title")(175,"div",19),t._UZ(176,"img",70),t.TgZ(177,"h6",21),t._uU(178),t.ALo(179,"translate"),t.qZA(),t.TgZ(180,"mat-icon",71),t.ALo(181,"translate"),t._uU(182,"help_outline"),t.qZA(),t.TgZ(183,"div",23),t.NdJ("click",function(r){return r.stopPropagation()}),t.TgZ(184,"input",72,73),t.NdJ("keyup",function(r){return i.applyFilter4(r)})("keydown.Space",function(r){return r.stopPropagation()})("keydown.Enter",function(r){return r.stopPropagation()}),t.qZA(),t.TgZ(186,"div",26),t.YNc(187,ai,2,0,"span",27),t.YNc(188,oi,3,0,"button",74),t.qZA()()()()(),t.TgZ(189,"div",29)(190,"table",30),t.ynx(191,31),t.YNc(192,ri,3,3,"th",32),t.YNc(193,si,6,8,"td",39),t.BQk(),t.ynx(194,34),t.YNc(195,li,3,3,"th",32),t.YNc(196,ci,3,5,"td",39),t.BQk(),t.ynx(197,36),t.YNc(198,pi,3,3,"th",32),t.YNc(199,di,2,2,"td",39),t.BQk(),t.ynx(200,37),t.YNc(201,ui,3,3,"th",32),t.YNc(202,mi,2,2,"td",39),t.BQk(),t.ynx(203,75),t.YNc(204,gi,3,3,"th",32),t.YNc(205,hi,5,2,"td",39),t.BQk(),t.YNc(206,_i,4,4,"tr",40),t.YNc(207,fi,1,0,"tr",41),t.YNc(208,bi,1,4,"tr",53),t.qZA(),t._UZ(209,"mat-paginator",54,76),t.TgZ(211,"mat-paginator",77,78),t.NdJ("page",function(r){return i.pageEvent3=i.getInprogressData(r)}),t.qZA()()()()()()()),2&e&&(t.xp6(3),t.s9C("title",t.lcZ(4,66,"Appointments")),t.xp6(5),t.Oqu(i.appointments.length?i.appointments.length:0),t.xp6(2),t.Oqu(t.lcZ(11,68,"Appointments")),t.xp6(3),t.s9C("title",t.lcZ(14,70,"Priority visits")),t.xp6(5),t.Oqu(i.priorityVisitsCount),t.xp6(2),t.Oqu(t.lcZ(21,72,"Priority visits")),t.xp6(3),t.s9C("title",t.lcZ(24,74,"Awaiting visits")),t.xp6(5),t.Oqu(i.awaitingVisitsCount),t.xp6(2),t.Oqu(t.lcZ(31,76,"Awaiting visits")),t.xp6(3),t.s9C("title",t.lcZ(34,78,"In-progress visits")),t.xp6(5),t.Oqu(i.inprogressVisitsCount),t.xp6(2),t.Oqu(t.lcZ(41,80,"In-progress visits")),t.xp6(5),t.Q6J("ngIf",!i.showAll),t.xp6(1),t.Q6J("ngIf",i.showAll),t.xp6(2),t.Q6J("expanded",!0),t.xp6(6),t.AsE("",t.lcZ(55,82,"Appointments")," (",i.appointments.length?i.appointments.length:0,")"),t.xp6(2),t.s9C("matTooltip",t.lcZ(57,84,"Scheduled appointments")),t.xp6(7),t.Q6J("ngIf",!i.dataSource1.filter),t.xp6(1),t.Q6J("ngIf",i.dataSource1.filter),t.xp6(2),t.Q6J("dataSource",i.dataSource1),t.xp6(20),t.Q6J("matHeaderRowDef",i.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns1),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(98,U)),t.xp6(2),t.Q6J("expanded",!0),t.xp6(6),t.AsE(" ",t.lcZ(97,86,"Priority visits")," (",i.priorityVisitsCount?i.priorityVisitsCount:0,")"),t.xp6(2),t.s9C("matTooltip",t.lcZ(99,88,"High priority visit")),t.xp6(7),t.Q6J("ngIf",!i.dataSource2.filter),t.xp6(1),t.Q6J("ngIf",i.dataSource2.filter),t.xp6(2),t.Q6J("dataSource",i.dataSource2),t.xp6(17),t.Q6J("matHeaderRowDef",i.displayedColumns2),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns2),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(99,U)),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(100,U))("length",i.priorityVisitsCount)("pageIndex",i.pageIndex2)("pageSize",i.pageSize2),t.xp6(2),t.Q6J("expanded",!0),t.xp6(6),t.AsE(" ",t.lcZ(138,90,"Awaiting visits")," (",i.awaitingVisitsCount?i.awaitingVisitsCount:0,")"),t.xp6(2),t.s9C("matTooltip",t.lcZ(140,92,"General Uploaded Visits")),t.xp6(7),t.Q6J("ngIf",!i.dataSource3.filter),t.xp6(1),t.Q6J("ngIf",i.dataSource3.filter),t.xp6(2),t.Q6J("dataSource",i.dataSource3),t.xp6(17),t.Q6J("matHeaderRowDef",i.displayedColumns3),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns3),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(101,U)),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(102,U))("length",i.awaitingVisitsCount)("pageIndex",i.pageIndex1)("pageSize",i.pageSize1),t.xp6(2),t.Q6J("expanded",!0),t.xp6(6),t.AsE(" ",t.lcZ(179,94,"In-progress visits")," (",i.inprogressVisitsCount?i.inprogressVisitsCount:0,")"),t.xp6(2),t.s9C("matTooltip",t.lcZ(181,96,"Visits going through the consultation")),t.xp6(7),t.Q6J("ngIf",!i.dataSource4.filter),t.xp6(1),t.Q6J("ngIf",i.dataSource4.filter),t.xp6(2),t.Q6J("dataSource",i.dataSource4),t.xp6(17),t.Q6J("matHeaderRowDef",i.displayedColumns4),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns4),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(103,U)),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(104,U))("length",i.inprogressVisitsCount)("pageIndex",i.pageIndex3)("pageSize",i.pageSize3))},dependencies:[g.mk,g.O5,A.rH,S.pp,S.ib,S.yz,S.yK,v.BZ,v.fO,v.as,v.w1,v.Dz,v.nj,v.ge,v.ev,v.XQ,v.Gk,v.Ee,nt.NW,k.Hw,ht.gM,G.lW,L.z,Z.X$],styles:[".chip-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;height:86px;width:100%;border-radius:12px;align-items:center;padding:16px;background:red}.chip-item[_ngcontent-%COMP%]   .chip-img[_ngcontent-%COMP%]{width:44px}.chip-item[_ngcontent-%COMP%]   .chip-info[_ngcontent-%COMP%]{font-family:DM Sans;font-style:normal;color:var(--color-black);padding:3%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chip-item[_ngcontent-%COMP%]   .chip-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:8px;margin-top:8px}.chip-item[_ngcontent-%COMP%]   .chip-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:var(--color-gray)}.chip-item-blue[_ngcontent-%COMP%]{background:var(--color-lightGray)}.chip-item-green[_ngcontent-%COMP%]{background:#E6FFF3}.chip-item-red[_ngcontent-%COMP%]{background:var(--color-lightPink)}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none;width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;font-family:DM Sans}th.mat-header-cell[_ngcontent-%COMP%]{border:none;font-size:14px!important;font-weight:700;color:var(--color-gray);height:21px}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{border:none;min-width:60px;white-space:nowrap;padding-right:24px}th.mat-header-cell[_ngcontent-%COMP%]   span.alert-danger[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%]   span.alert-danger[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]   span.alert-danger[_ngcontent-%COMP%]{color:var(--color-red);font-weight:700;background:transparent;border:none}th.mat-header-cell[_ngcontent-%COMP%]   span.alert-success[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%]   span.alert-success[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]   span.alert-success[_ngcontent-%COMP%]{color:var(--color-green);font-weight:700;background:transparent;border:none}td.mat-cell[_ngcontent-%COMP%]{font-size:16px}tr.mat-row[_ngcontent-%COMP%], tr.mat-footer-row[_ngcontent-%COMP%]{height:88px;border-radius:8px;cursor:pointer}tr.mat-row.upcoming[_ngcontent-%COMP%]{background:#E6FFF3!important}tr.mat-row[_ngcontent-%COMP%]:nth-child(odd){background:#F7F7FA}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 8px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{border-radius:0 8px 8px 0}.red-pill[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;background:var(--color-lightPink);border-radius:4px;height:32px;color:var(--color-lightRed);padding:4px 6px;width:fit-content}.actions-btn-wrap[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{outline:none;border:none;height:36px;min-width:102px;padding:6px 8px;background:white;border-radius:4px;color:var(--color-black);font-family:DM Sans;font-size:16px}.actions-btn-wrap[_ngcontent-%COMP%]   .blue-btn[_ngcontent-%COMP%]{background:var(--color-lightGray);color:var(--color-darkBlue)}.actions-btn-wrap[_ngcontent-%COMP%]   .pink-btn[_ngcontent-%COMP%]{background:var(--color-lightPink);color:var(--color-red)}.intel-accordion-con[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex}.input-group[_ngcontent-%COMP%]{background:var(--color-white);border:1px solid rgba(127,123,146,.5);border-radius:6px;height:46px;align-items:center;max-width:60vw;width:300px;display:none}.input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:none;border:none;cursor:default}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;font-size:16px;line-height:150%;padding-left:16px}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none}@media (max-width: 768px){.input-group[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:10px 0}.intel-accordion-con[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%], .intel-accordion-con[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:fit-content}.info-icon[_ngcontent-%COMP%]{display:none}}"]}),n})();function xi(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._UZ(3,"img",14),t.qZA(),t.TgZ(4,"div")(5,"div",10)(6,"h6",11),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"p",12),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setupProfile())}),t._uU(13),t.ALo(14,"translate"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,4,"Set up your profile")),t.xp6(3),t.Oqu(t.lcZ(11,6,"You need to set-up your profile by adding few details of yours & start receiving the patient prescription requests.")),t.xp6(2),t.Q6J("disabled",!e.pc),t.xp6(1),t.hij(" ",t.lcZ(14,8,"Setup profile")," ")}}let Ci=(()=>{class n{constructor(e,i,o,r){this.pageTitleService=e,this.router=i,this.route=o,this.translateService=r,this.doctorName="",this.greetingMsg="Hi",this.pc=!0,this.sc=!0}ngOnInit(){this.translateService.use((0,f.TL)(!1,s.Mj.SELECTED_LANGUAGE)),this.pageTitleService.setTitle({title:"",imgUrl:""}),this.doctorName=(0,f.TL)(!1,s.On.DOCTOR_NAME);const i=(new Date).getHours();i<12?this.greetingMsg="Good Morning":i>=12&&i<=17?this.greetingMsg="Good Afternoon":i>=17&&i<=24&&(this.greetingMsg="Good Evening"),null!=this.route.snapshot.queryParamMap.get("pc")&&null!=this.route.snapshot.queryParamMap.get("sc")?(this.pc=!JSON.parse(this.route.snapshot.queryParamMap.get("pc")),this.sc=!JSON.parse(this.route.snapshot.queryParamMap.get("sc"))):this.router.navigate(["/dashboard"])}setupProfile(){this.router.navigate(["/dashboard/profile"])}setupCalendar(){this.router.navigate(["/calendar/setup-calendar"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Z),t.Y36(A.F0),t.Y36(A.gz),t.Y36(Z.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-get-started"]],decls:32,vars:22,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-8","p-0"],[1,"welcome-banner-con"],["src","assets/images/Waving-Hand-Emoji.png","alt","","height","100%"],["class","card intel-horz-card my-3",4,"ngIf"],[1,"card","intel-horz-card","my-3"],[1,"d-flex","flex-row"],[1,"pr-3"],["src","assets/svgs/calendar-pink-circle.svg","alt","...","width","44px"],[1,"card-body","p-0"],[1,"card-title"],[1,"card-text"],["type","button","data-test-id","btnSetupCalendar",1,"intel-blue-btn",3,"disabled","click"],["src","assets/svgs/user-pink-circle.svg","alt","...","width","44px"],["type","button","data-test-id","btnSetupProfile",1,"intel-blue-btn",3,"disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),t._uU(5,"x"),t.qZA(),t.TgZ(6,"h6"),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"titlecase"),t._UZ(10,"img",4),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.ALo(13,"translate"),t.qZA()()(),t.TgZ(14,"div",2),t.YNc(15,xi,15,10,"div",5),t.qZA(),t.TgZ(16,"div",2)(17,"div",6)(18,"div",7)(19,"div",8),t._UZ(20,"img",9),t.qZA(),t.TgZ(21,"div")(22,"div",10)(23,"h6",11),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"p",12),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"button",13),t.NdJ("click",function(){return i.setupCalendar()}),t._uU(30),t.ALo(31,"translate"),t.qZA()()()()()()()()),2&e&&(t.xp6(7),t.AsE("",t.lcZ(8,10,i.greetingMsg),", ",t.lcZ(9,12,i.doctorName),"! "),t.xp6(5),t.Oqu(t.lcZ(13,14,"Complete the following actions to start treating the patients")),t.xp6(3),t.Q6J("ngIf",i.pc),t.xp6(2),t.ekj("disabled",!i.sc),t.xp6(7),t.Oqu(t.lcZ(25,16,"Set up your calendar")),t.xp6(3),t.Oqu(t.lcZ(28,18,"You need to set-up your calendar so you can start taking appointments of the patients.")),t.xp6(2),t.Q6J("disabled",!i.sc),t.xp6(1),t.hij(" ",t.lcZ(31,20,"Setup calendar")," "))},dependencies:[g.O5,L.z,g.rS,Z.X$],styles:[".welcome-banner-con[_ngcontent-%COMP%]{font-family:DM Sans;background:#E6FFF3 url(welcome-bg.d4cb458987716bf4.png) no-repeat;border-radius:12px;width:100%;padding:24px;position:relative;background-position:95% 100%}.welcome-banner-con[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:20px;right:24px;font-weight:700;color:var(--color-gray);font-size:16px;cursor:pointer}.welcome-banner-con[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:500;font-size:20px;line-height:150%;font-weight:700;color:var(--color-darkestBlue);margin-bottom:0;max-width:60%}.welcome-banner-con[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:150%;color:var(--color-gray);margin-bottom:0;max-width:60%}"]}),n})();var _t=d(9671),at=d(8),ft=d(1879),ot=d(3887),P=d(4865),rt=d(9909),B=d(4565),R=d(8929),$=d(1059),Y=d(7625);function Zi(n,a){1&n&&t.Hsn(0)}const Ai=["*"];let bt=(()=>{class n{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),vt=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),Ti=0;const xt=new t.OlP("STEPPER_GLOBAL_OPTIONS");let st=(()=>{class n{constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new t.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(e){this._editable=(0,P.Ig)(e)}get optional(){return this._optional}set optional(e){this._optional=(0,P.Ig)(e)}get completed(){return this._completedOverride??this._getDefaultCompleted()}set completed(e){this._completedOverride=(0,P.Ig)(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError??this._getDefaultError()}set hasError(e){this._customError=(0,P.Ig)(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){var e;return null!==(e=this._stepperOptions.showError)&&void 0!==e?e:null!=this._customError}}return n.\u0275fac=function(e){return new(e||n)(t.Y36((0,t.Gpc)(()=>D)),t.Y36(xt,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cdk-step"]],contentQueries:function(e,i,o){if(1&e&&t.Suo(o,vt,5),2&e){let r;t.iGM(r=t.CRH())&&(i.stepLabel=r.first)}},viewQuery:function(e,i){if(1&e&&t.Gf(t.Rgc,7),2&e){let o;t.iGM(o=t.CRH())&&(i.content=o.first)}},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[t.TTD],ngContentSelectors:Ai,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.YNc(0,Zi,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),D=(()=>{class n{constructor(e,i,o,r){this._dir=e,this._changeDetectorRef=i,this._elementRef=o,this._destroyed=new R.xQ,this.steps=new t.n_E,this._sortedHeaders=new t.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new t.vpe,this._orientation="horizontal",this._groupId=Ti++}get linear(){return this._linear}set linear(e){this._linear=(0,P.Ig)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){var i;const o=(0,P.su)(e);this.steps&&this._steps?(this._isValidIndex(e),null===(i=this.selected)||void 0===i||i._markAsInteracted(),this._selectedIndex!==o&&!this._anyControlsInvalidOrPending(o)&&(o>=this._selectedIndex||this.steps.toArray()[o].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=o}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}ngAfterContentInit(){this._steps.changes.pipe((0,$.O)(this._steps),(0,Y.R)(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,$.O)(this._stepHeader),(0,Y.R)(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,o)=>i._elementRef.nativeElement.compareDocumentPosition(o._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new ft.Em(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,tt.of)()).pipe((0,$.O)(this._layoutDirection()),(0,Y.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const o=this.steps.toArray()[e],r=this._isCurrentStep(e);return o._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(o,r):this._getGuidelineLogic(o,r,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,o="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?o:e.editable&&i?"edit":o}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const i=(0,rt.Vb)(e),o=e.keyCode,r=this._keyManager;null==r.activeItemIndex||i||o!==rt.L_&&o!==rt.K5?r.onKeydown(e):(this.selectedIndex=r.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const o=i.stepControl;return(o?o.invalid||o.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=(0,B.ht)();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ot.Is,8),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(g.K0))},n.\u0275dir=t.lG2({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(e,i,o){if(1&e&&(t.Suo(o,st,5),t.Suo(o,bt,5)),2&e){let r;t.iGM(r=t.CRH())&&(i._steps=r),t.iGM(r=t.CRH())&&(i._stepHeader=r)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),n})(),yi=(()=>{class n{constructor(e){this._stepper=e,this.type="button"}_handleClick(){this._stepper.previous()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D))},n.\u0275dir=t.lG2({type:n,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,i){1&e&&t.NdJ("click",function(){return i._handleClick()}),2&e&&t.Ikx("type",i.type)},inputs:{type:"type"}}),n})(),Si=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[ot.vT]}),n})();var x=d(6201),Pi=d(2654),Ct=d(7545),lt=d(5778),C=d(7340);function wi(n,a){if(1&n&&t.GkF(0,8),2&n){const e=t.oxw();t.Q6J("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function Mi(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e._getDefaultTextForState(e.state))}}function Ii(n,a){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e._intl.completedLabel)}}function Ni(n,a){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e._intl.editableLabel)}}function ki(n,a){if(1&n&&(t.TgZ(0,"mat-icon"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e._getDefaultTextForState(e.state))}}function Ui(n,a){if(1&n&&(t.ynx(0,9),t.YNc(1,Mi,2,1,"span",10),t.YNc(2,Ii,2,1,"span",11),t.YNc(3,Ni,2,1,"span",11),t.YNc(4,ki,2,1,"mat-icon",12),t.BQk()),2&n){const e=t.oxw();t.Q6J("ngSwitch",e.state),t.xp6(1),t.Q6J("ngSwitchCase","number"),t.xp6(1),t.Q6J("ngIf","done"===e.state),t.xp6(1),t.Q6J("ngIf","edit"===e.state)}}function qi(n,a){if(1&n&&(t.TgZ(0,"div",14),t.GkF(1,15),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e._templateLabel().template)}}function Ei(n,a){if(1&n&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.label)}}function Li(n,a){if(1&n&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e._intl.optionalLabel)}}function Di(n,a){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function Vi(n,a){}function Fi(n,a){if(1&n&&(t.Hsn(0),t.YNc(1,Vi,0,0,"ng-template",0)),2&n){const e=t.oxw();t.xp6(1),t.Q6J("cdkPortalOutlet",e._portal)}}const Ri=["*"];function Yi(n,a){1&n&&t._UZ(0,"div",9)}const Zt=function(n,a){return{step:n,i:a}};function Ji(n,a){if(1&n&&(t.ynx(0),t.GkF(1,7),t.YNc(2,Yi,1,0,"div",8),t.BQk()),2&n){const e=a.$implicit,i=a.index,o=a.last;t.oxw(2);const r=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.WLB(3,Zt,e,i)),t.xp6(1),t.Q6J("ngIf",!o)}}function Qi(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("@horizontalStepTransition.done",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r._animationDone.next(o))}),t.GkF(1,11),t.qZA()}if(2&n){const e=a.$implicit,i=a.index,o=t.oxw(2);t.Q6J("@horizontalStepTransition",o._getAnimationDirection(i))("id",o._getStepContentId(i)),t.uIk("aria-labelledby",o._getStepLabelId(i))("aria-expanded",o.selectedIndex===i),t.xp6(1),t.Q6J("ngTemplateOutlet",e.content)}}function zi(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",3),t.YNc(2,Ji,3,6,"ng-container",4),t.qZA(),t.TgZ(3,"div",5),t.YNc(4,Qi,2,5,"div",6),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.steps),t.xp6(2),t.Q6J("ngForOf",e.steps)}}function ji(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",13),t.GkF(1,7),t.TgZ(2,"div",14)(3,"div",15),t.NdJ("@verticalStepTransition.done",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r._animationDone.next(o))}),t.TgZ(4,"div",16),t.GkF(5,11),t.qZA()()()()}if(2&n){const e=a.$implicit,i=a.index,o=a.last,r=t.oxw(2),c=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(9,Zt,e,i)),t.xp6(1),t.ekj("mat-stepper-vertical-line",!o),t.xp6(1),t.Q6J("@verticalStepTransition",r._getAnimationDirection(i))("id",r._getStepContentId(i)),t.uIk("aria-labelledby",r._getStepLabelId(i))("aria-expanded",r.selectedIndex===i),t.xp6(2),t.Q6J("ngTemplateOutlet",e.content)}}function Hi(n,a){if(1&n&&(t.ynx(0),t.YNc(1,ji,6,12,"div",12),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.steps)}}function Gi(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-step-header",17),t.NdJ("click",function(){const r=t.CHM(e).step;return t.KtG(r.select())})("keydown",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r._onKeydown(o))}),t.qZA()}if(2&n){const e=a.step,i=a.i,o=t.oxw();t.ekj("mat-horizontal-stepper-header","horizontal"===o.orientation)("mat-vertical-stepper-header","vertical"===o.orientation),t.Q6J("tabIndex",o._getFocusIndex()===i?0:-1)("id",o._getStepLabelId(i))("index",i)("state",o._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",o.selectedIndex===i)("active",o._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",o._iconOverrides)("disableRipple",o.disableRipple||!o._stepIsNavigable(i,e))("color",e.color||o.color),t.uIk("aria-posinset",i+1)("aria-setsize",o.steps.length)("aria-controls",o._getStepContentId(i))("aria-selected",o.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!o._stepIsNavigable(i,e)||null)}}let J=(()=>{class n extends vt{}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","matStepLabel",""]],features:[t.qOj]}),n})(),W=(()=>{class n{constructor(){this.changes=new R.xQ,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const $i={provide:W,deps:[[new t.FiY,new t.tp0,W]],useFactory:function Bi(n){return n||new W}},Wi=(0,x.pj)(class extends bt{constructor(a){super(a)}},"primary");let At=(()=>{class n extends Wi{constructor(e,i,o,r){super(o),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>r.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof J?null:this.label}_templateLabel(){return this.label instanceof J?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(W),t.Y36(ft.tE),t.Y36(t.SBq),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[t.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],[4,"ngSwitchDefault"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,i){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div")(2,"div",1),t.YNc(3,wi,1,2,"ng-container",2),t.YNc(4,Ui,5,4,"ng-container",3),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,qi,2,1,"div",5),t.YNc(7,Ei,2,1,"div",5),t.YNc(8,Li,2,1,"div",6),t.YNc(9,Di,2,1,"div",7),t.qZA()),2&e&&(t.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),t.xp6(1),t.Gre("mat-step-icon-state-",i.state," mat-step-icon"),t.ekj("mat-step-icon-selected",i.selected),t.xp6(1),t.Q6J("ngSwitch",!(!i.iconOverrides||!i.iconOverrides[i.state])),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(2),t.ekj("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error","error"==i.state),t.xp6(1),t.Q6J("ngIf",i._templateLabel()),t.xp6(1),t.Q6J("ngIf",i._stringLabel()),t.xp6(1),t.Q6J("ngIf",i.optional&&"error"!=i.state),t.xp6(1),t.Q6J("ngIf","error"==i.state))},dependencies:[g.O5,g.tP,g.RF,g.n9,g.ED,k.Hw,x.wG],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header.cdk-keyboard-focused,.cdk-high-contrast-active .mat-step-header.cdk-program-focused{outline:solid 3px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),n})();const Tt={horizontalStepTransition:(0,C.X$)("horizontalStepTransition",[(0,C.SB)("previous",(0,C.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,C.SB)("current",(0,C.oB)({transform:"none",visibility:"inherit"})),(0,C.SB)("next",(0,C.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,C.eR)("* => *",(0,C.jt)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:(0,C.X$)("verticalStepTransition",[(0,C.SB)("previous",(0,C.oB)({height:"0px",visibility:"hidden"})),(0,C.SB)("next",(0,C.oB)({height:"0px",visibility:"hidden"})),(0,C.SB)("current",(0,C.oB)({height:"*",visibility:"inherit"})),(0,C.eR)("* <=> current",(0,C.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let Ki=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),n})(),Xi=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["ng-template","matStepContent",""]]}),n})(),ct=(()=>{class n extends st{constructor(e,i,o,r){super(e,r),this._errorStateMatcher=i,this._viewContainerRef=o,this._isSelected=Pi.w.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,Ct.w)(()=>this._stepper.selectionChange.pipe((0,z.U)(e=>e.selectedStep===this),(0,$.O)(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new at.UE(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){return this._errorStateMatcher.isErrorState(e,i)||!!(e&&e.invalid&&this.interacted)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36((0,t.Gpc)(()=>Q)),t.Y36(x.rD,4),t.Y36(t.s_b),t.Y36(xt,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-step"]],contentQueries:function(e,i,o){if(1&e&&(t.Suo(o,J,5),t.Suo(o,Xi,5)),2&e){let r;t.iGM(r=t.CRH())&&(i.stepLabel=r.first),t.iGM(r=t.CRH())&&(i._lazyContent=r.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[t._Bn([{provide:x.rD,useExisting:n},{provide:st,useExisting:n}]),t.qOj],ngContentSelectors:Ri,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,Fi,2,1,"ng-template"))},dependencies:[at.Pl],encapsulation:2,changeDetection:0}),n})(),Ot=(()=>{class n extends D{}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,features:[t.qOj]}),n})(),tn=(()=>{class n extends Ot{}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["mat-horizontal-stepper"]],features:[t.qOj]}),n})(),en=(()=>{class n extends Ot{}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["mat-vertical-stepper"]],features:[t.qOj]}),n})(),Q=(()=>{class n extends D{constructor(e,i,o,r){super(e,i,o,r),this.steps=new t.n_E,this.animationDone=new t.vpe,this.labelPosition="end",this._iconOverrides={},this._animationDone=new R.xQ;const c=o.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===c?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe((0,Y.R)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,lt.x)((e,i)=>e.fromState===i.fromState&&e.toState===i.toState),(0,Y.R)(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ot.Is,8),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(g.K0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,i,o){if(1&e&&(t.Suo(o,ct,5),t.Suo(o,Ki,5)),2&e){let r;t.iGM(r=t.CRH())&&(i._steps=r),t.iGM(r=t.CRH())&&(i._icons=r)}},viewQuery:function(e,i){if(1&e&&t.Gf(At,5),2&e){let o;t.iGM(o=t.CRH())&&(i._stepHeader=o)}},hostAttrs:["role","tablist"],hostVars:9,hostBindings:function(e,i){2&e&&(t.uIk("aria-orientation",i.orientation),t.ekj("mat-stepper-horizontal","horizontal"===i.orientation)("mat-stepper-vertical","vertical"===i.orientation)("mat-stepper-label-position-end","horizontal"===i.orientation&&"end"==i.labelPosition)("mat-stepper-label-position-bottom","horizontal"===i.orientation&&"bottom"==i.labelPosition))},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition",disableRipple:"disableRipple",color:"color"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[t._Bn([{provide:D,useExisting:n},{provide:tn,useExisting:n},{provide:en,useExisting:n}]),t.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,i){1&e&&(t.ynx(0,0),t.YNc(1,zi,5,2,"ng-container",1),t.YNc(2,Hi,2,1,"ng-container",1),t.BQk(),t.YNc(3,Gi,1,23,"ng-template",null,2,t.W1O)),2&e&&(t.Q6J("ngSwitch",i.orientation),t.xp6(1),t.Q6J("ngSwitchCase","horizontal"),t.xp6(1),t.Q6J("ngSwitchCase","vertical"))},dependencies:[g.sg,g.O5,g.tP,g.RF,g.n9,At],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[Tt.horizontalStepTransition,Tt.verticalStepTransition]},changeDetection:0}),n})(),nn=(()=>{class n extends yi{}return n.\u0275fac=function(){let a;return function(i){return(a||(a=t.n5z(n)))(i||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(e,i){2&e&&t.Ikx("type",i.type)},inputs:{type:"type"},features:[t.qOj]}),n})(),an=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[$i,x.rD],imports:[x.BQ,g.ez,at.eL,G.ot,Si,k.Ps,x.si,x.BQ]}),n})();var pt=d(8484),V=d(5498),on=d(8723);class yt{static createValidator(a,e,i){return o=>(0,on.H)(1e3).pipe((0,Ct.w)(()=>a.validateProviderAttribute(e,o.value,i)),(0,z.U)(r=>r.data?null:{alreadyExists:!0}))}}var St=d(9181),rn=d(567),K=d(529);let Pt=(()=>{class n{constructor(e){this.http=e,this.domainUrl=y.N.base,this.baseUrl=y.N.baseURL,this.mindmapUrl=y.N.mindmapURL}getProviderAttributeTypes(){return this.http.get(`${this.baseUrl}/providerattributetype`)}updatePerson(e,i,o,r){return this.http.post(`${this.baseUrl}/person/${e}`,{gender:i,age:o,birthdate:r})}createPersonName(e,i,o,r){return this.http.post(`${this.baseUrl}/person/${e}/name`,{givenName:i,middleName:o,familyName:r,preferred:!0,prefix:null})}updatePersonName(e,i,o,r,c){return this.http.post(`${this.baseUrl}/person/${e}/name/${i}`,{givenName:o,middleName:r,familyName:c,preferred:!0,prefix:null})}addOrUpdateProviderAttribute(e,i,o,r){return r?i?this.http.post(`${this.baseUrl}/provider/${e}/attribute/${i}`,{value:r}):this.http.post(`${this.baseUrl}/provider/${e}/attribute`,{attributeType:o,value:r}):(0,tt.of)(null)}requestDataFromMultipleSources(e){return(0,rn.D)([...e])}creatSignature(e,i,o){return this.http.post(`${this.mindmapUrl}/signature/create`,{providerId:e,fontName:o,textOfSign:i})}uploadSignature(e,i){return this.http.post(`${this.mindmapUrl}/signature/upload`,{file:e,providerId:i})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(K.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var wt=d(5657),X=d(1061),q=d(8796),dt=d(8563),T=d(5559);function sn(n,a){if(1&n&&(t.O4$(),t._UZ(0,"circle",3)),2&n){const e=t.oxw();t.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),t.uIk("r",e._getCircleRadius())}}function ln(n,a){if(1&n&&(t.O4$(),t._UZ(0,"circle",3)),2&n){const e=t.oxw();t.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),t.uIk("r",e._getCircleRadius())}}function cn(n,a){if(1&n&&(t.O4$(),t._UZ(0,"circle",3)),2&n){const e=t.oxw();t.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),t.uIk("r",e._getCircleRadius())}}function pn(n,a){if(1&n&&(t.O4$(),t._UZ(0,"circle",3)),2&n){const e=t.oxw();t.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),t.uIk("r",e._getCircleRadius())}}const Mt=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",un=(0,x.pj)(class{constructor(n){this._elementRef=n}},"primary"),It=new t.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function mn(){return{diameter:100}}});class M extends un{constructor(a,e,i,o,r){super(a),this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const c=M._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(i.head)||c.set(i.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===o&&!!r&&!r._forceAnimations,r&&(r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get diameter(){return this._diameter}set diameter(a){this._diameter=(0,P.su)(a),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(a){this._strokeWidth=(0,P.su)(a)}get value(){return"determinate"===this.mode?this._value:0}set value(a){this._value=Math.max(0,Math.min(100,(0,P.su)(a)))}ngOnInit(){const a=this._elementRef.nativeElement;this._styleRoot=(0,B.kV)(a)||this._document.head,this._attachStyleNode(),a.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const a=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${a} ${a}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const a=this._styleRoot,e=this._diameter,i=M._diameters;let o=i.get(a);if(!o||!o.has(e)){const r=this._document.createElement("style");r.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),r.textContent=this._getAnimationText(),a.appendChild(r),o||(o=new Set,i.set(a,o)),o.add(e)}}_getAnimationText(){const a=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*a).replace(/END_VALUE/g,""+.2*a).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}M.\u0275fac=function(a){return new(a||M)(t.Y36(t.SBq),t.Y36(B.t4),t.Y36(g.K0,8),t.Y36(t.QbO,8),t.Y36(It))},M.\u0275cmp=t.Xpm({type:M,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(a,e){2&a&&(t.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),t.Udp("width",e.diameter,"px")("height",e.diameter,"px"),t.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[t.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(a,e){1&a&&(t.O4$(),t.TgZ(0,"svg",0),t.YNc(1,sn,1,9,"circle",1),t.YNc(2,ln,1,7,"circle",2),t.qZA()),2&a&&(t.Udp("width",e.diameter,"px")("height",e.diameter,"px"),t.Q6J("ngSwitch","indeterminate"===e.mode),t.uIk("viewBox",e._getViewBox()),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1))},dependencies:[g.RF,g.n9],styles:[Mt],encapsulation:2,changeDetection:0}),M._diameters=new WeakMap;let Nt=(()=>{class n extends M{constructor(e,i,o,r,c){super(e,i,o,r,c),this.mode="indeterminate"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(B.t4),t.Y36(g.K0,8),t.Y36(t.QbO,8),t.Y36(It))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,i){2&e&&(t.Udp("width",i.diameter,"px")("height",i.diameter,"px"),t.ekj("_mat-animation-noopable",i._noopAnimations))},inputs:{color:"color"},features:[t.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,i){1&e&&(t.O4$(),t.TgZ(0,"svg",0),t.YNc(1,cn,1,9,"circle",1),t.YNc(2,pn,1,7,"circle",2),t.qZA()),2&e&&(t.Udp("width",i.diameter,"px")("height",i.diameter,"px"),t.Q6J("ngSwitch","indeterminate"===i.mode),t.uIk("viewBox",i._getViewBox()),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1))},dependencies:[g.RF,g.n9],styles:[Mt],encapsulation:2,changeDetection:0}),n})(),hn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[x.BQ,g.ez,x.BQ]}),n})();const _n=["fileUploader"];function fn(n,a){1&n&&(t.TgZ(0,"div",99)(1,"span",100),t._uU(2,"1"),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"Personal Information")," "))}function bn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter first name")))}function vn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter alphabates only")))}function xn(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,bn,3,3,"small",101),t.YNc(2,vn,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.givenName.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.givenName.errors.pattern)}}function Cn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter middle name")))}function Zn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter alphabates only")))}function An(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Cn,3,3,"small",101),t.YNc(2,Zn,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.middleName.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.middleName.errors.pattern)}}function Tn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter last name")))}function On(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter alphabates only")))}function yn(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Tn,3,3,"small",101),t.YNc(2,On,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.familyName.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.familyName.errors.pattern)}}function Sn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter DOB")))}function Pn(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Sn,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.birthdate.errors.required)}}function wn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter age")))}function Mn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter numeric value only")))}function In(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Age should be greater than or equal to 18")))}function Nn(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,wn,3,3,"small",101),t.YNc(2,Mn,3,3,"small",101),t.YNc(3,In,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.age.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.age.errors.pattern),t.xp6(1),t.Q6J("ngIf",e.f1.age.errors.min)}}function kn(n,a){1&n&&t._UZ(0,"mat-spinner",103)}function Un(n,a){1&n&&(t.TgZ(0,"mat-icon",104),t._uU(1,"done_all"),t.qZA())}function qn(n,a){1&n&&(t.TgZ(0,"mat-icon",105),t._uU(1,"error_outline"),t.qZA())}function En(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter phone number")))}function Ln(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,En,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.phoneNumber.errors.required)}}function Dn(n,a){1&n&&(t.TgZ(0,"div")(1,"small",102),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Enter valid phone number")))}function Vn(n,a){1&n&&(t.TgZ(0,"div")(1,"small",102),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Phone number already exists. Please enter another phone number.")))}function Fn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter whatsApp number")))}function Rn(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Fn,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.whatsapp.errors.required)}}function Yn(n,a){1&n&&(t.TgZ(0,"div")(1,"small",102),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Enter valid whatsApp number")))}function Jn(n,a){1&n&&t._UZ(0,"mat-spinner",103)}function Qn(n,a){1&n&&(t.TgZ(0,"mat-icon",104),t._uU(1,"done_all"),t.qZA())}function zn(n,a){1&n&&(t.TgZ(0,"mat-icon",105),t._uU(1,"error_outline"),t.qZA())}function jn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter email")))}function Hn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter valid email")))}function Gn(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,jn,3,3,"small",101),t.YNc(2,Hn,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.emailId.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.emailId.errors.pattern)}}function Bn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Email already exists. Please enter another email.")))}function $n(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Bn,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f1.emailId.errors?null:e.f1.emailId.errors.alreadyExists)}}function Wn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter signature letters")))}function Kn(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Maximum limit 20 characters")))}function Xn(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Wn,3,3,"small",101),t.YNc(2,Kn,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.textOfSign.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.textOfSign.errors.maxlength)}}function ta(n,a){if(1&n&&(t.TgZ(0,"p",106),t._uU(1),t.qZA()),2&n){const e=a.item;t.Udp("font-family",e.name),t.xp6(1),t.Oqu(e.text)}}function ea(n,a){if(1&n&&(t.TgZ(0,"p",107),t._uU(1),t.qZA()),2&n){const e=a.item;t.Udp("font-family",e.name),t.xp6(1),t.Oqu(e.text)}}function ia(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Select Signature")))}function na(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ia,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.fontOfSign.errors.required)}}function aa(n,a){1&n&&(t.TgZ(0,"div",99)(1,"span",100),t._uU(2,"2"),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"Professional Information")," "))}function oa(n,a){if(1&n&&(t.TgZ(0,"ng-option",108),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.name)," ")}}function ra(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Select type of profession")))}function sa(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ra,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.typeOfProfession.errors.required)}}function la(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter registration number")))}function ca(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter valid registration number")))}function pa(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,la,3,3,"small",101),t.YNc(2,ca,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.registrationNumber.errors.required),t.xp6(1),t.Q6J("ngIf",e.f2.registrationNumber.errors.pattern)}}function da(n,a){if(1&n&&(t.TgZ(0,"ng-option",108),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.name)," ")}}function ua(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Select specialization")))}function ma(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ua,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.specialization.errors.required)}}function ga(n,a){1&n&&t._uU(0),2&n&&t.hij(" ",a.item.name,", ")}function ha(n,a){if(1&n&&(t.TgZ(0,"div",109),t._UZ(1,"input",110),t.TgZ(2,"div",111),t._UZ(3,"img",112),t.TgZ(4,"label"),t._uU(5),t.qZA()()()),2&n){const e=a.item,i=a.item$;t.xp6(1),t.Q6J("checked",i.selected),t.xp6(4),t.Oqu(e.name)}}function _a(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Select consultation language")))}function fa(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,_a,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.consultationLanguage.errors.required)}}function ba(n,a){if(1&n&&(t.TgZ(0,"ng-option",108),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.name)," ")}}function va(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Select work experience as")))}function xa(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,va,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.workExperience.errors.required)}}function Ca(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter research experience")))}function Za(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ca,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.researchExperience.errors.required)}}function Aa(n,a){1&n&&(t.TgZ(0,"small",102),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter experience")))}function Ta(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Aa,3,3,"small",101),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f2.workExperienceDetails.errors.required)}}const kt=function(){return{initialCountry:"in",separateDialCode:!0,autoHideDialCode:!1}},Oa={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class ya extends x.LF{format(a,e){return"input"===e?(0,g.p6)(a,"dd MMM yyyy",this.locale):a.toDateString()}}let Sa=(()=>{class n{constructor(e,i,o,r,c,p,m,_,b,u,mt){this.pageTitleService=e,this.profileService=i,this.toastr=o,this.providerService=r,this.authService=c,this.router=p,this.cookieService=m,this.rolesService=_,this.translateService=b,this.coreService=u,this.appointmentService=mt,this.baseUrl=y.N.baseURL,this.profilePicUrl="assets/svgs/user.svg",this.fonts=[{id:1,name:"Arty",text:"arty"},{id:2,name:"Asem",text:"asem"},{id:3,name:"Youthness",text:"youthness"},{id:4,name:"Almondita",text:"almondita"}],this.languages=[{id:1,name:"English"},{id:2,name:"Hindi"},{id:3,name:"Tamil"},{id:4,name:"Gujrathi"},{id:5,name:"Bangla"}],this.professions=[{id:1,name:"MBBS"},{id:2,name:"MBBS, MD"},{id:3,name:"Dentist"},{id:4,name:"Other"}],this.specializations=[{id:1,name:"General Physician"},{id:2,name:"Dermatologist"},{id:3,name:"Gynecologist"},{id:4,name:"Pediatrician"}],this.signaturePadOptions={minWidth:5,canvasWidth:300,canvasHeight:100,backgroundColor:"#FFFFFF"},this.signatureType="Draw",this.selectedSignatureTabIndex=0,this.phoneNumberValid=!1,this.whatsAppNumberValid=!1,this.phoneNumber="",this.whatsAppNumber="",this.submitted=!1,this.providerAttributeTypes=[],this.maxTelLegth1=10,this.maxTelLegth2=10,this.oldPhoneNumber="",this.phoneValid=!1,this.emailValid=!1,this.checkingPhoneValidity=!1,this.specialization="",this.personalInfoForm=new l.cw({givenName:new l.NI("",[l.kI.required,l.kI.pattern(/^[^~!#$^&*(){}[\]|@<>"\\\/\-+_=;':,.?`%0-9]*$/)]),middleName:new l.NI("",[l.kI.required,l.kI.pattern(/^[^~!#$^&*(){}[\]|@<>"\\\/\-+_=;':,.?`%0-9]*$/)]),familyName:new l.NI("",[l.kI.required,l.kI.pattern(/^[^~!#$^&*(){}[\]|@<>"\\\/\-+_=;':,.?`%0-9]*$/)]),gender:new l.NI("M",[l.kI.required]),birthdate:new l.NI("",[l.kI.required]),age:new l.NI("",[l.kI.required,l.kI.min(18),l.kI.pattern(/^[0-9]*$/)]),countryCode1:new l.NI("+91"),countryCode2:new l.NI("+91"),phoneNumber:new l.NI("",[l.kI.required]),whatsapp:new l.NI("",[l.kI.required]),emailId:new l.NI("",[l.kI.required,l.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")],[yt.createValidator(this.authService,s.On.EMAIL_ID,(0,f.TL)(!0,s.On.PROVIDER).uuid)]),signatureType:new l.NI("Draw",[l.kI.required]),textOfSign:new l.NI(null),fontOfSign:new l.NI(null),signature:new l.NI(null)}),this.professionalInfoForm=new l.cw({typeOfProfession:new l.NI(null,[l.kI.required]),registrationNumber:new l.NI(null,[l.kI.required,l.kI.pattern(/^[A-Za-z0-9][A-Za-z0-9-]*$/)]),specialization:new l.NI(null,[l.kI.required]),consultationLanguage:new l.NI(null,[l.kI.required]),workExperience:new l.NI(null,[l.kI.required]),researchExperience:new l.NI(null,[l.kI.required]),workExperienceDetails:new l.NI("",[l.kI.required])})}get f1(){return this.personalInfoForm.controls}get f2(){return this.professionalInfoForm.controls}ngOnInit(){this.translateService.use((0,f.TL)(!1,s.Mj.SELECTED_LANGUAGE)),this.today=h().format("YYYY-MM-DD"),this.user=(0,f.TL)(!0,s.On.USER),this.provider=(0,f.TL)(!0,s.On.PROVIDER),this.doctorName=(0,f.TL)(!1,s.On.DOCTOR_NAME),this.profilePicUrl=this.baseUrl+"/personimage/"+this.provider.person.uuid,this.pageTitleService.setTitle(null),this.formControlValueChanges(),this.getProviderAttributeTypes(),this.subscription1=this.personalInfoForm.get(s.On.PHONE_NUMBER).valueChanges.subscribe(e=>{e&&e.length>this.maxTelLegth1&&this.personalInfoForm.get(s.On.PHONE_NUMBER).setValue(e.substring(0,this.maxTelLegth1))}),this.subscription2=this.personalInfoForm.get(s.On.WHATS_APP).valueChanges.subscribe(e=>{e&&e.length>this.maxTelLegth2&&this.personalInfoForm.get(s.On.WHATS_APP).setValue(e.substring(0,this.maxTelLegth2))})}ngAfterViewInit(){this.signaturePad.set("minWidth",5),this.signaturePad.clear()}formControlValueChanges(){this.personalInfoForm.get(s.On.TEXT_OF_SIGN).valueChanges.subscribe(e=>{this.fonts.map(e?i=>i.text=e:i=>i.text=i.name)}),this.personalInfoForm.get(s.On.SIGNATURE_TYPE).valueChanges.subscribe(e=>{const i=["Draw","Generate","Upload"];e?(this.signatureType=e,"Generate"===e?(this.personalInfoForm.get(s.On.TEXT_OF_SIGN).setValidators([l.kI.required,l.kI.maxLength(20)]),this.personalInfoForm.get(s.On.TEXT_OF_SIGN).updateValueAndValidity(),this.personalInfoForm.get(s.On.FONT_OF_SIGN).setValidators([l.kI.required]),this.personalInfoForm.get(s.On.FONT_OF_SIGN).updateValueAndValidity()):(this.personalInfoForm.get(s.On.TEXT_OF_SIGN).clearValidators(),this.personalInfoForm.get(s.On.TEXT_OF_SIGN).updateValueAndValidity(),this.personalInfoForm.get(s.On.FONT_OF_SIGN).clearValidators(),this.personalInfoForm.get(s.On.FONT_OF_SIGN).updateValueAndValidity()),this.selectedSignatureTabIndex!==i.indexOf(e)&&setTimeout(()=>{this.selectedSignatureTabIndex=i.indexOf(e)},1e3)):(this.personalInfoForm.get(s.On.TEXT_OF_SIGN).clearValidators(),this.personalInfoForm.get(s.On.TEXT_OF_SIGN).updateValueAndValidity(),this.personalInfoForm.get(s.On.FONT_OF_SIGN).clearValidators(),this.personalInfoForm.get(s.On.FONT_OF_SIGN).updateValueAndValidity(),setTimeout(()=>{this.personalInfoForm.patchValue({signatureType:"Draw"})},1e3))}),this.personalInfoForm.get(s.On.BIRTHDATE).valueChanges.subscribe(e=>{e&&this.personalInfoForm.patchValue({age:h().diff(h(e),"years",!1)})}),this.professionalInfoForm.get(s.On.SPECIALIZATION).valueChanges.subscribe(e=>{e&&e!=this.specialization&&this.appointmentService.checkAppointmentPresent(this.user.uuid,h().startOf("year").format("DD/MM/YYYY"),h().endOf("year").format("DD/MM/YYYY"),this.specialization).subscribe(i=>{i.status&&i.data&&(this.toastr.warning("You have some appointments booked for this specialization, please complete them first.","Can't change specialization!"),this.professionalInfoForm.patchValue({specialization:this.specialization}))},i=>{this.toastr.error("Something went wrong.","Can't change specialization!"),this.professionalInfoForm.patchValue({specialization:this.specialization})})})}getProviderAttributeTypes(){this.providerService.getProviderAttributeTypes().subscribe(e=>{e.results.length&&(this.providerAttributeTypes=e.results,this.patchFormValues())})}patchFormValues(){if(this.provider){const e={},i={};e.givenName=this.provider.person?.preferredName?this.provider.person?.preferredName.givenName:null,e.middleName=this.provider.person?.preferredName?this.provider.person?.preferredName.middleName:null,e.familyName=this.provider.person?.preferredName?this.provider.person?.preferredName.familyName:null,e.gender=this.provider.person?.gender?this.provider.person?.gender:null,e.birthdate=this.provider.person?.birthdate?h(this.provider.person?.birthdate).format("YYYY-MM-DD"):null,e.age=this.provider.person?.age?this.provider.person?.age:null,this.providerAttributeTypes.forEach(r=>{switch(r.display){case s.On.ADDRESS:break;case s.On.CONSULTATION_LANGUAGE:i.consultationLanguage=this.getAttributeValue(r.uuid,r.display)?.split(",");break;case s.On.COUNTRY_CODE:e.countryCode1=this.getAttributeValue(r.uuid,r.display),e.countryCode2=this.getAttributeValue(r.uuid,r.display);break;case s.On.EMAIL_ID:e.emailId=this.getAttributeValue(r.uuid,r.display);break;case s.On.FONT_OF_SIGN:e.fontOfSign=this.getAttributeValue(r.uuid,r.display);break;case s.On.PHONE_NUMBER:e.phoneNumber=this.getAttributeValue(r.uuid,r.display),this.phoneNumberValid=!!e.phoneNumber,this.oldPhoneNumber=this.getAttributeValue(r.uuid,r.display);break;case s.On.QUALIFICATION:break;case s.On.REGISTRATION_NUMBER:i.registrationNumber=this.getAttributeValue(r.uuid,r.display);break;case s.On.RESEARCH_EXPERIENCE:i.researchExperience=this.getAttributeValue(r.uuid,r.display);break;case s.On.SIGNATURE:e.signature=this.getAttributeValue(r.uuid,r.display);break;case s.On.SIGNATURE_TYPE:this.signatureType=this.getAttributeValue(r.uuid,r.display),e.signatureType=this.signatureType;break;case s.On.SPECIALIZATION:this.specialization=this.getAttributeValue(r.uuid,r.display),i.specialization=this.getAttributeValue(r.uuid,r.display);break;case s.On.TEXT_OF_SIGN:e.textOfSign=this.getAttributeValue(r.uuid,r.display);break;case s.On.TYPE_OF_PROFESSION:i.typeOfProfession=this.getAttributeValue(r.uuid,r.display);break;case s.On.WHATS_APP:e.whatsapp=this.getAttributeValue(r.uuid,r.display),this.whatsAppNumberValid=!!e.whatsapp;break;case s.On.WORK_EXPERIENCE:i.workExperience=this.getAttributeValue(r.uuid,r.display);break;case s.On.WORK_EXPERIENCE_DETAILS:i.workExperienceDetails=this.getAttributeValue(r.uuid,r.display)}}),this.personalInfoForm.patchValue(e),e.phoneNumber&&this.validateProviderAttribute(s.On.PHONE_NUMBER),this.professionalInfoForm.patchValue(i);const o=this.personalInfoForm.value.signature;switch(this.signatureType){case"Draw":this.signaturePad.clear(),this.signaturePad.fromDataURL(o);break;case"Generate":default:break;case"Upload":this.signaturePicUrl=o,fetch(o).then(r=>r.blob()).then(r=>{this.signatureFile=new File([r],"inetelehealth",{type:this.detectMimeType(o.split(",")[0])})})}}}getAttributeValue(e,i){let o=null;for(let r=0;r<this.provider.attributes.length;r++)if(this.provider.attributes[r].attributeType.display===i&&this.provider.attributes[r].attributeType.uuid===e&&!1===this.provider.attributes[r].voided){o=this.provider.attributes[r].value;break}return o}stepChanged(e){this.submitted=!1}preview(e){var i=this;return(0,_t.Z)(function*(){if(e.target.files&&e.target.files[0]){if(i.file=e.target.files[0],!i.file.name.endsWith(".jpg")&&!i.file.name.endsWith(".jpeg"))return void i.toastr.warning(i.translateService.instant("Upload JPG/JPEG format image only."),i.translateService.instant("Upload error!"));if(i.dialogRef)return void i.dialogRef.close();const o=yield i.coreService.blobToBase64(i.file);i.dialogRef=i.coreService.openImageCropModal({base64:o.toString().split(",")[1]}),i.dialogRef.afterClosed().subscribe(function(){var r=(0,_t.Z)(function*(c){if(c){const p=c.toString().split(",")[1];i.profileService.updateProfileImage({person:i.provider.person.uuid,base64EncodedImage:p}).subscribe(_=>{i.profilePicUrl=c,i.profileService.setProfilePic(c),i.toastr.success(i.translateService.instant("Profile picture uploaded successfully!"),i.translateService.instant("Profile Pic Uploaded"))})}i.dialogRef=void 0,i.fileUploader.nativeElement.value=null});return function(c){return r.apply(this,arguments)}}())}})()}hasError(e,i){switch(i){case s.On.PHONE_NUMBER:this.phoneNumberValid=e;break;case s.On.WHATS_APP_NUMBER:this.whatsAppNumberValid=e}}getNumber(e,i){switch(i){case s.On.PHONE_NUMBER:this.phoneNumberValid=!0,this.phoneNumber=e,this.validateProviderAttribute(s.On.PHONE_NUMBER);break;case s.On.WHATS_APP_NUMBER:this.whatsAppNumberValid=!0,this.whatsAppNumber=e}}telInputObject(e,i){switch(i){case s.On.PHONE_NUMBER:this.phoneNumberObj=e;break;case s.On.WHATS_APP_NUMBER:this.whatsAppObj=e}}onCountryChange(e,i){switch(i){case s.On.PHONE_NUMBER:this.phoneNumberValid=!1,this.phoneNumberObj.setCountry(e.iso2),this.personalInfoForm.patchValue({countryCode1:e?.dialCode}),this.maxTelLegth1=this.authService.getInternationalMaskByCountryCode(e.iso2.toUpperCase(),!1).filter(o=>" "!==o).length;break;case s.On.WHATS_APP_NUMBER:this.whatsAppNumberValid=!1,this.whatsAppObj.setCountry(e.iso2),this.personalInfoForm.patchValue({countryCode2:e?.dialCode}),this.maxTelLegth2=this.authService.getInternationalMaskByCountryCode(e.iso2.toUpperCase(),!1).filter(o=>" "!==o).length}}clearSignature(){this.signaturePad.clear()}drawComplete(){}drawStart(){}signatureTabChanged(e){this.selectedSignatureTabIndex=e.index,this.signatureType=e.tab.textLabel,this.personalInfoForm.patchValue({signatureType:e.tab.textLabel})}onFilesDropped(e){if(e.addedFiles.length){this.signatureFile=e.addedFiles[0];const i=this.signatureFile.name;if(!(i.endsWith(".png")||i.endsWith(".jpg")||i.endsWith(".jpeg")||i.endsWith(".PNG")||i.endsWith(".JPEG")||i.endsWith(".JPG")))return this.reset(),void alert("Please upload png, jpg or jpeg file only.");if(this.signatureFile.size<5120)return this.reset(),void this.toastr.error(this.translateService.instant("Upload a scanned image of your signature. having size (5kb to 48kb)"),this.translateService.instant("Invalid File!"));const o=new FileReader;o.onload=()=>{this.signaturePicUrl=o.result},o.onerror=r=>{this.reset()},o.readAsDataURL(this.signatureFile)}e.rejectedFiles.length&&("size"===e.rejectedFiles[0].reason&&this.toastr.error(this.translateService.instant("Upload a scanned image of your signature. having size (5kb to 48kb)"),this.translateService.instant("Invalid File!")),"type"===e.rejectedFiles[0].reason&&this.toastr.error(this.translateService.instant("Upload a scanned image of your signature. having type png, jpg, jpeg only."),this.translateService.instant("Invalid File!")))}reset(){this.signatureFile=void 0,this.signaturePicUrl=""}goToNextStep(){if(this.submitted=!0,!this.personalInfoForm.invalid&&this.phoneNumberValid&&this.whatsAppNumberValid&&this.phoneValid){if(0===this.selectedSignatureTabIndex&&this.signaturePad.isEmpty())return void this.toastr.warning(this.translateService.instant("Please draw your signature."),this.translateService.instant("Draw Signature"));if(2===this.selectedSignatureTabIndex&&!this.signatureFile)return void this.toastr.warning(this.translateService.instant("Please upload signature."),this.translateService.instant("Upload Signature"));this.stepper.next(),this.submitted=!1}}updateProfile(){if(this.submitted=!0,this.professionalInfoForm.invalid)return;const e=this.personalInfoForm.value;this.providerService.updatePerson(this.provider.person.uuid,e.gender,e.age,e.birthdate).subscribe(i=>{this.provider.person?.preferredName?this.providerService.updatePersonName(this.provider.person.uuid,this.provider.person?.preferredName.uuid,e.givenName,e.middleName,e.familyName).subscribe(o=>{this.updateSignature()}):this.providerService.createPersonName(this.provider.person.uuid,e.givenName,e.middleName,e.familyName).subscribe(o=>{this.updateSignature()})}),this.submitted=!1}updateSignature(){let e;switch(this.signatureType){case"Draw":e=this.signaturePad.toDataURL("image/jpeg"),this.providerService.uploadSignature(e.split(",")[1],this.provider.uuid).subscribe(i=>{this.personalInfoForm.patchValue({signature:e}),this.updateProviderAttributes()});break;case"Generate":this.providerService.creatSignature(this.provider.uuid,this.getAttributeValueFromForm(s.On.TEXT_OF_SIGN),this.getAttributeValueFromForm(s.On.FONT_OF_SIGN)).subscribe(i=>{i.success&&fetch(i.data.url).then(o=>o.blob()).then(o=>{const r=new FileReader;r.onload=()=>{e=r.result.toString(),this.personalInfoForm.patchValue({signature:e}),this.updateProviderAttributes()},r.readAsDataURL(o)})});break;case"Upload":e=this.signaturePicUrl,this.providerService.uploadSignature(e.split(",")[1],this.provider.uuid).subscribe(i=>{this.personalInfoForm.patchValue({signature:e}),this.updateProviderAttributes()})}}updateProviderAttributes(){const e=[];this.providerAttributeTypes.forEach(i=>{switch(i.display){case s.On.ADDRESS:break;case s.On.CONSULTATION_LANGUAGE:e.push(this.providerService.addOrUpdateProviderAttribute(this.provider.uuid,this.getAttributeUuid(i.uuid,i.display),i.uuid,this.getAttributeValueFromForm(i.display).toString()));break;case s.On.COUNTRY_CODE:e.push(this.providerService.addOrUpdateProviderAttribute(this.provider.uuid,this.getAttributeUuid(i.uuid,i.display),i.uuid,this.getAttributeValueFromForm("countryCode1")));break;case s.On.EMAIL_ID:case s.On.FONT_OF_SIGN:case s.On.PHONE_NUMBER:e.push(this.providerService.addOrUpdateProviderAttribute(this.provider.uuid,this.getAttributeUuid(i.uuid,i.display),i.uuid,this.getAttributeValueFromForm(i.display)));break;case s.On.QUALIFICATION:break;case s.On.REGISTRATION_NUMBER:case s.On.RESEARCH_EXPERIENCE:case s.On.SIGNATURE:case s.On.SIGNATURE_TYPE:case s.On.SPECIALIZATION:case s.On.TEXT_OF_SIGN:case s.On.TYPE_OF_PROFESSION:case s.On.WHATS_APP:case s.On.WORK_EXPERIENCE:case s.On.WORK_EXPERIENCE_DETAILS:e.push(this.providerService.addOrUpdateProviderAttribute(this.provider.uuid,this.getAttributeUuid(i.uuid,i.display),i.uuid,this.getAttributeValueFromForm(i.display)))}}),this.providerService.requestDataFromMultipleSources(e).subscribe(i=>{this.toastr.success(this.translateService.instant("Profile has been updated successfully"),this.translateService.instant("Profile Updated")),this.specialization!=this.professionalInfoForm.get("specialization").value&&(this.specialization=this.professionalInfoForm.get("specialization").value,this.appointmentService.updateSlotSpeciality(this.user.uuid,this.specialization).subscribe(o=>{})),this.personalInfoForm.get(s.On.PHONE_NUMBER).dirty&&this.oldPhoneNumber!==this.getAttributeValueFromForm(s.On.PHONE_NUMBER)?(this.toastr.warning(this.translateService.instant("Kindly re-login to see updated details"),this.translateService.instant("Re-login")),this.cookieService.delete("app.sid","/"),this.authService.logOut()):this.authService.getProvider((0,f.TL)(!0,s.On.USER).uuid).subscribe(o=>{if(o.results.length){(0,f.pY)(s.On.PROVIDER,JSON.stringify(o.results[0])),(0,f.pY)(s.On.DOCTOR_NAME,o.results[0].person.display);let r=(0,f.TL)(!0,s.On.USER);r.person.display=o.results[0].person.display,(0,f.pY)(s.On.USER,JSON.stringify(r)),this.rolesService.getRole("ORGANIZATIONAL: SYSTEM ADMINISTRATOR")?this.router.navigate(["/admin"]):this.router.navigate(["/dashboard"])}})})}getAttributeUuid(e,i){let o=null;for(let r=0;r<this.provider.attributes.length;r++)if(this.provider.attributes[r].attributeType.display===i&&this.provider.attributes[r].attributeType.uuid===e&&!1===this.provider.attributes[r].voided){o=this.provider.attributes[r].uuid;break}return o}getAttributeValueFromForm(e){return{...this.personalInfoForm.value,...this.professionalInfoForm.value}[e]}detectMimeType(e){return this.profileService.detectMimeType(e)}validateProviderAttribute(e){this.checkingPhoneValidity=!0,this.authService.validateProviderAttribute(e,this.personalInfoForm.value[e],this.provider.uuid).subscribe(i=>{i.success&&(e===s.On.PHONE_NUMBER?this.phoneValid=i.data:this.emailValid=i.data,setTimeout(()=>{this.checkingPhoneValidity=!1},500))})}ngOnDestroy(){this.subscription1?.unsubscribe(),this.subscription2?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Z),t.Y36(St.H),t.Y36(F._W),t.Y36(Pt),t.Y36(et.e),t.Y36(A.F0),t.Y36(wt.N),t.Y36(X.cM),t.Y36(Z.sK),t.Y36(H.p),t.Y36(j.H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-profile"]],viewQuery:function(e,i){if(1&e&&(t.Gf(pt.u,5),t.Gf(Q,5),t.Gf(V.SP,5),t.Gf(_n,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.signaturePad=o.first),t.iGM(o=t.CRH())&&(i.stepper=o.first),t.iGM(o=t.CRH())&&(i.tabGroup=o.first),t.iGM(o=t.CRH())&&(i.fileUploader=o.first)}},features:[t._Bn([{provide:x._A,useClass:ya},{provide:x.sG,useValue:Oa}])],decls:246,vars:199,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-3","p-1"],[1,"user-profile-con"],[1,"profile-pic-con"],[1,"profile-pic"],["alt","","width","80px","height","80px",3,"src"],[1,"file-input-con"],["for","profile-pic"],["src","assets/svgs/camera.svg","alt",""],["id","profile-pic","type","file","accept","image/jpg","data-test-id","fileInput",3,"change"],["fileUploader",""],[1,"profile-content"],[1,"col-md-9","p-1"],[1,"intel-card"],["linear","","data-test-id","matstepChanged",3,"disableRipple","selectionChange"],["stepper",""],["data-test-id","matPersonal"],["matStepLabel",""],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-4"],["for","givenName"],["type","text","maxlength","20","formControlName","givenName","data-test-id","etGivenName",1,"form-control",3,"placeholder"],[4,"ngIf"],["for","middleName"],["type","text","maxlength","20","formControlName","middleName","data-test-id","etMiddleName",1,"form-control",3,"placeholder"],["for","familyName"],["type","text","maxlength","20","formControlName","familyName","data-test-id","etFamilyName",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6"],["for","gender"],[1,"py-2"],[1,"pretty","p-default","p-round"],["type","radio","value","M","formControlName","gender","data-test-id","rdGenderMale"],[1,"state","p-success"],["type","radio","value","F","formControlName","gender","data-test-id","rdGenderFemale"],["type","radio","value","U","formControlName","gender","data-test-id","rdGenderOther"],["for","birthdate"],[1,"input-group"],["type","text","formControlName","birthdate","aria-label","Birthdate","aria-describedby","basic-addon1","readonly","","data-test-id","etBirthdate",1,"form-control",3,"max","matDatepicker","placeholder"],["dobdp",""],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],["matSuffix","","data-test-id","dpBirthdate",3,"for"],["matDatepickerToggleIcon","","src","assets/svgs/calendar-date.svg","alt",""],[1,"form-group","col-md-2"],["for","age"],["type","number","formControlName","age","readonly","","data-test-id","etAge",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6","email-field"],["for","phoneNumber"],["type","text","ng2TelInput","","data-test-id","etPhoneNumber","placeholder","Enter Mobile Number","formControlName","phoneNumber","onkeypress","return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))",1,"form-control",3,"ng2TelInputOptions","hasError","ng2TelOutput","intlTelInputObject","countryChange"],[1,"check"],["diameter","20",4,"ngIf"],["class","success",4,"ngIf"],["class","error",4,"ngIf"],["for","whatsapp"],["type","text","ng2TelInput","","data-test-id","etWhatsAppNumber","placeholder","Enter Mobile Number","formControlName","whatsapp","onkeypress","return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))",1,"form-control",3,"ng2TelInputOptions","hasError","ng2TelOutput","intlTelInputObject","countryChange"],["for","emailId"],["type","email","formControlName","emailId","data-test-id","etEmail",1,"form-control",3,"placeholder"],[1,"col-md-12"],["mat-align-tabs","start","data-test-id","mtgSignature",1,"signature-tab-group",3,"selectedIndex","selectedTabChange"],["data-test-id","mtDraw",3,"label"],[1,"container"],[1,"form-group","col-md-12"],["for","drawSignature"],[1,"link"],[1,"btn","p-0",3,"click"],["id","signature-container",1,"col-md-12"],["data-test-id","signaturePad",3,"options","onBeginEvent","onEndEvent"],["data-test-id","mtGenerate",3,"label"],["for","textOfSign"],["type","text","formControlName","textOfSign","data-test-id","etSignature",1,"form-control",3,"placeholder"],["for","fontOfSign"],["appendTo",".form-group","bindLabel","name","bindValue","name","formControlName","fontOfSign","data-test-id","etSignatureFont",1,"profile-select",3,"items","clearable","searchable","placeholder"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"form-group","col-md-12","text-right"],["type","submit","data-test-id","btnNext",1,"btn","next-btn"],["src","assets/svgs/right-arrow.svg","alt","",1,"btn-icon"],["data-test-id","matStep"],["for","typeOfProfession"],["bindLabel","name","bindValue","name","formControlName","typeOfProfession","data-test-id","selTypeOf",1,"profile-select",3,"clearable","searchable","placeholder"],[3,"value",4,"ngFor","ngForOf"],["for","registrationNumber"],["type","text","maxlength","20","formControlName","registrationNumber","data-test-id","etRegistedNum",1,"form-control",3,"placeholder"],["for","specialization"],["bindLabel","name","bindValue","name","formControlName","specialization","data-test-id","selSpecialization",1,"profile-select",3,"clearable","searchable","placeholder"],["for","consultationLanguage"],["bindLabel","name","bindValue","name","formControlName","consultationLanguage","data-test-id","selLanguage",1,"profile-select",3,"items","closeOnSelect","clearable","multiple","searchable","placeholder"],["for","workExperience"],["bindLabel","name","bindValue","name","formControlName","workExperience","data-test-id","selWorkExperience",1,"profile-select",3,"clearable","searchable","placeholder"],["for","researchExperience"],["type","text","formControlName","researchExperience","data-test-id","etExperience",1,"form-control",3,"placeholder"],["for","workExperienceDetails"],["rows","3","formControlName","workExperienceDetails","data-test-id","etWorkExperience",1,"form-control",3,"placeholder"],["type","button","matStepperPrevious","","data-test-id","btnPreviousStep",1,"btn","back-btn"],["src","assets/svgs/left-arrow-blue.svg","alt","",1,"btn-icon"],[1,"form-group","col-md-6","text-right"],["type","submit","data-test-id","btnSubmit",1,"btn","next-btn"],[1,"custom-step-label"],[1,"label-index"],["class","error-msg",4,"ngIf"],[1,"error-msg"],["diameter","20"],[1,"success"],[1,"error"],[1,"mb-0",2,"font-size","30px"],[1,"mb-0",2,"font-size","50px"],[3,"value"],[1,"pretty","p-image","p-plain"],["type","checkbox",3,"checked"],[1,"state"],["alt","","src","assets/svgs/checkbox-tick.png",1,"image"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.TgZ(7,"div",7)(8,"label",8),t._UZ(9,"img",9),t.qZA(),t.TgZ(10,"input",10,11),t.NdJ("change",function(r){return i.preview(r)}),t.qZA()()()(),t.TgZ(12,"div",12)(13,"h6"),t._uU(14),t.ALo(15,"titlecase"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"translate"),t.qZA()()()(),t.TgZ(19,"div",13)(20,"div",14)(21,"mat-stepper",15,16),t.NdJ("selectionChange",function(r){return i.stepChanged(r)}),t.TgZ(23,"mat-step",17),t.YNc(24,fn,5,3,"ng-template",18),t.TgZ(25,"form",19),t.NdJ("ngSubmit",function(){return i.goToNextStep()}),t.TgZ(26,"div",20)(27,"div",21)(28,"label",22),t._uU(29),t.ALo(30,"translate"),t.qZA(),t._UZ(31,"input",23),t.ALo(32,"translate"),t.YNc(33,xn,3,2,"div",24),t.qZA(),t.TgZ(34,"div",21)(35,"label",25),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._UZ(38,"input",26),t.ALo(39,"translate"),t.YNc(40,An,3,2,"div",24),t.qZA(),t.TgZ(41,"div",21)(42,"label",27),t._uU(43),t.ALo(44,"translate"),t.qZA(),t._UZ(45,"input",28),t.ALo(46,"translate"),t.YNc(47,yn,3,2,"div",24),t.qZA()(),t.TgZ(48,"div",20)(49,"div",29)(50,"label",30),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"div",31)(54,"div",32),t._UZ(55,"input",33),t.TgZ(56,"div",34)(57,"label"),t._uU(58),t.ALo(59,"translate"),t.qZA()()(),t.TgZ(60,"div",32),t._UZ(61,"input",35),t.TgZ(62,"div",34)(63,"label"),t._uU(64),t.ALo(65,"translate"),t.qZA()()(),t.TgZ(66,"div",32),t._UZ(67,"input",36),t.TgZ(68,"div",34)(69,"label"),t._uU(70),t.ALo(71,"translate"),t.qZA()()()()(),t.TgZ(72,"div",21)(73,"label",37),t._uU(74),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",38),t._UZ(77,"input",39),t.ALo(78,"translate"),t._UZ(79,"mat-datepicker",null,40),t.TgZ(81,"div",41)(82,"span",42)(83,"mat-datepicker-toggle",43),t._UZ(84,"img",44),t.qZA()()()(),t.YNc(85,Pn,2,1,"div",24),t.qZA(),t.TgZ(86,"div",45)(87,"label",46),t._uU(88),t.ALo(89,"translate"),t.qZA(),t._UZ(90,"input",47),t.ALo(91,"translate"),t.YNc(92,Nn,4,3,"div",24),t.qZA()(),t.TgZ(93,"div",20)(94,"div",48)(95,"label",49),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"input",50),t.NdJ("hasError",function(r){return i.hasError(r,"phoneNumber")})("ng2TelOutput",function(r){return i.getNumber(r,"phoneNumber")})("intlTelInputObject",function(r){return i.telInputObject(r,"phoneNumber")})("countryChange",function(r){return i.onCountryChange(r,"phoneNumber")}),t.qZA(),t.TgZ(99,"div",51),t.YNc(100,kn,1,0,"mat-spinner",52),t.YNc(101,Un,2,0,"mat-icon",53),t.YNc(102,qn,2,0,"mat-icon",54),t.qZA(),t.YNc(103,Ln,2,1,"div",24),t.YNc(104,Dn,4,3,"div",24),t.YNc(105,Vn,4,3,"div",24),t.qZA(),t.TgZ(106,"div",29)(107,"label",55),t._uU(108),t.ALo(109,"translate"),t.qZA(),t.TgZ(110,"input",56),t.NdJ("hasError",function(r){return i.hasError(r,"whatsAppNumber")})("ng2TelOutput",function(r){return i.getNumber(r,"whatsAppNumber")})("intlTelInputObject",function(r){return i.telInputObject(r,"whatsAppNumber")})("countryChange",function(r){return i.onCountryChange(r,"whatsAppNumber")}),t.qZA(),t.YNc(111,Rn,2,1,"div",24),t.YNc(112,Yn,4,3,"div",24),t.qZA()(),t.TgZ(113,"div",20)(114,"div",48)(115,"label",57),t._uU(116),t.ALo(117,"translate"),t.qZA(),t._UZ(118,"input",58),t.ALo(119,"translate"),t.TgZ(120,"div",51),t.YNc(121,Jn,1,0,"mat-spinner",52),t.YNc(122,Qn,2,0,"mat-icon",53),t.YNc(123,zn,2,0,"mat-icon",54),t.qZA(),t.YNc(124,Gn,3,2,"div",24),t.YNc(125,$n,2,1,"div",24),t.qZA()(),t.TgZ(126,"div",20)(127,"div",59)(128,"h6"),t._uU(129),t.ALo(130,"translate"),t.qZA(),t.TgZ(131,"mat-tab-group",60),t.NdJ("selectedTabChange",function(r){return i.signatureTabChanged(r)}),t.TgZ(132,"mat-tab",61),t.ALo(133,"translate"),t.TgZ(134,"div",62)(135,"div",20)(136,"div",63)(137,"label",64),t._uU(138),t.ALo(139,"translate"),t.TgZ(140,"span",65)(141,"a",66),t.NdJ("click",function(){return i.clearSignature()}),t._uU(142),t.ALo(143,"translate"),t.qZA()()()(),t.TgZ(144,"div",67)(145,"signature-pad",68),t.NdJ("onBeginEvent",function(){return i.drawStart()})("onEndEvent",function(){return i.drawComplete()}),t.qZA()()()()(),t.TgZ(146,"mat-tab",69),t.ALo(147,"translate"),t.TgZ(148,"div",62)(149,"div",20)(150,"div",29)(151,"label",70),t._uU(152),t.ALo(153,"translate"),t.qZA(),t._UZ(154,"input",71),t.ALo(155,"translate"),t.YNc(156,Xn,3,2,"div",24),t.qZA(),t.TgZ(157,"div",29)(158,"label",72),t._uU(159),t.ALo(160,"translate"),t.qZA(),t.TgZ(161,"ng-select",73),t.ALo(162,"translate"),t.YNc(163,ta,2,3,"ng-template",74),t.YNc(164,ea,2,3,"ng-template",75),t.qZA(),t.YNc(165,na,2,1,"div",24),t.qZA()()()()(),t.TgZ(166,"p"),t._uU(167),t.ALo(168,"translate"),t.qZA()()(),t.TgZ(169,"div",20)(170,"div",76)(171,"button",77),t._uU(172),t.ALo(173,"translate"),t._UZ(174,"img",78),t.qZA()()()()(),t.TgZ(175,"mat-step",79),t.YNc(176,aa,5,3,"ng-template",18),t.TgZ(177,"form",19),t.NdJ("ngSubmit",function(){return i.updateProfile()}),t.TgZ(178,"div",20)(179,"div",29)(180,"label",80),t._uU(181),t.ALo(182,"translate"),t.qZA(),t.TgZ(183,"ng-select",81),t.ALo(184,"translate"),t.YNc(185,oa,3,4,"ng-option",82),t.qZA(),t.YNc(186,sa,2,1,"div",24),t.qZA(),t.TgZ(187,"div",29)(188,"label",83),t._uU(189),t.ALo(190,"translate"),t.qZA(),t._UZ(191,"input",84),t.ALo(192,"translate"),t.YNc(193,pa,3,2,"div",24),t.qZA()(),t.TgZ(194,"div",20)(195,"div",29)(196,"label",85),t._uU(197),t.ALo(198,"translate"),t.qZA(),t.TgZ(199,"ng-select",86),t.ALo(200,"translate"),t.YNc(201,da,3,4,"ng-option",82),t.qZA(),t.YNc(202,ma,2,1,"div",24),t.qZA(),t.TgZ(203,"div",29)(204,"label",87),t._uU(205),t.ALo(206,"translate"),t.qZA(),t.TgZ(207,"ng-select",88),t.ALo(208,"translate"),t.YNc(209,ga,1,1,"ng-template",74),t.YNc(210,ha,6,2,"ng-template",75),t.qZA(),t.YNc(211,fa,2,1,"div",24),t.qZA()(),t.TgZ(212,"div",20)(213,"div",29)(214,"label",89),t._uU(215),t.ALo(216,"translate"),t.qZA(),t.TgZ(217,"ng-select",90),t.ALo(218,"translate"),t.YNc(219,ba,3,4,"ng-option",82),t.qZA(),t.YNc(220,xa,2,1,"div",24),t.qZA(),t.TgZ(221,"div",29)(222,"label",91),t._uU(223),t.ALo(224,"translate"),t.qZA(),t._UZ(225,"input",92),t.ALo(226,"translate"),t.YNc(227,Za,2,1,"div",24),t.qZA()(),t.TgZ(228,"div",20)(229,"div",63)(230,"label",93),t._uU(231),t.ALo(232,"translate"),t.qZA(),t._UZ(233,"textarea",94),t.ALo(234,"translate"),t.YNc(235,Ta,2,1,"div",24),t.qZA()(),t.TgZ(236,"div",20)(237,"div",29)(238,"button",95),t._uU(239),t.ALo(240,"translate"),t._UZ(241,"img",96),t.qZA()(),t.TgZ(242,"div",97)(243,"button",98),t._uU(244),t.ALo(245,"translate"),t.qZA()()()()()()()()()()),2&e){const o=t.MAs(80);t.xp6(6),t.Q6J("src",i.profilePicUrl,t.LSH),t.xp6(8),t.Oqu(t.lcZ(15,103,i.doctorName)),t.xp6(3),t.AsE("",t.lcZ(18,105,"Username"),": ",null==i.user?null:i.user.display,""),t.xp6(4),t.Q6J("disableRipple",!0),t.xp6(4),t.Q6J("formGroup",i.personalInfoForm),t.xp6(4),t.hij("",t.lcZ(30,107,"First name")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(32,109,"Enter first name")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.givenName.errors),t.xp6(3),t.hij("",t.lcZ(37,111,"Middle name")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(39,113,"Enter middle name")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.middleName.errors),t.xp6(3),t.hij("",t.lcZ(44,115,"Last name")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(46,117,"Enter last name")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.familyName.errors),t.xp6(4),t.hij("",t.lcZ(52,119,"Gender")," *"),t.xp6(7),t.Oqu(t.lcZ(59,121,"Male")),t.xp6(6),t.Oqu(t.lcZ(65,123,"Female")),t.xp6(6),t.Oqu(t.lcZ(71,125,"Other")),t.xp6(4),t.hij("",t.lcZ(75,127,"Date of birth")," *"),t.xp6(3),t.s9C("placeholder",t.lcZ(78,129,"Enter DOB")),t.Q6J("max",i.today)("matDatepicker",o),t.xp6(6),t.Q6J("for",o),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.birthdate.errors),t.xp6(3),t.hij("",t.lcZ(89,131,"Age")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(91,133,"Enter age")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.age.errors),t.xp6(4),t.hij("",t.lcZ(97,135,"Phone Number")," *"),t.xp6(2),t.Q6J("ng2TelInputOptions",t.DdM(197,kt)),t.xp6(2),t.Q6J("ngIf",i.checkingPhoneValidity),t.xp6(1),t.Q6J("ngIf",!(null!=i.f1&&null!=i.f1.phoneNumber&&i.f1.phoneNumber.errors)&&i.phoneNumberValid&&i.phoneValid&&!i.checkingPhoneValidity),t.xp6(1),t.Q6J("ngIf",!(null!=i.f1&&null!=i.f1.phoneNumber&&i.f1.phoneNumber.errors)&&i.phoneNumberValid&&!i.phoneValid&&!i.checkingPhoneValidity),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f1.phoneNumber.errors),t.xp6(1),t.Q6J("ngIf",i.submitted&&!(null!=i.f1&&null!=i.f1.phoneNumber&&i.f1.phoneNumber.errors)&&!i.phoneNumberValid),t.xp6(1),t.Q6J("ngIf",!(null!=i.f1&&null!=i.f1.phoneNumber&&i.f1.phoneNumber.errors)&&i.phoneNumberValid&&!i.phoneValid),t.xp6(3),t.hij("",t.lcZ(109,137,"WhatsApp Number")," *"),t.xp6(2),t.Q6J("ng2TelInputOptions",t.DdM(198,kt)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f1.whatsapp.errors),t.xp6(1),t.Q6J("ngIf",i.submitted&&!(null!=i.f1.whatsapp&&i.f1.whatsapp.errors)&&!i.whatsAppNumberValid),t.xp6(4),t.hij("",t.lcZ(117,139,"Email ID")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(119,141,"Enter email")),t.xp6(3),t.Q6J("ngIf",null==i.f1.emailId?null:i.f1.emailId.pending),t.xp6(1),t.Q6J("ngIf",!(null!=i.f1&&null!=i.f1.emailId&&i.f1.emailId.errors||null!=i.f1.emailId&&i.f1.emailId.pending)),t.xp6(1),t.Q6J("ngIf",(null==i.f1||null==i.f1.emailId||null==i.f1.emailId.errors?null:i.f1.emailId.errors.alreadyExists)&&!(null!=i.f1.emailId&&i.f1.emailId.pending)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f1.emailId.errors),t.xp6(1),t.Q6J("ngIf",i.f1.emailId.errors),t.xp6(4),t.Oqu(t.lcZ(130,143,"Add signature")),t.xp6(2),t.Q6J("selectedIndex",i.selectedSignatureTabIndex),t.xp6(1),t.s9C("label",t.lcZ(133,145,"Draw")),t.xp6(6),t.hij("",t.lcZ(139,147,"Draw signature")," * "),t.xp6(4),t.Oqu(t.lcZ(143,149,"clear sign")),t.xp6(3),t.Q6J("options",i.signaturePadOptions),t.xp6(1),t.s9C("label",t.lcZ(147,151,"Generate")),t.xp6(6),t.hij("",t.lcZ(153,153,"Signature letters")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(155,155,"Enter signature letters")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.textOfSign.errors),t.xp6(3),t.hij("",t.lcZ(160,157,"Select Signature")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(162,159,"Select Signature")),t.Q6J("items",i.fonts)("clearable",!1)("searchable",!1),t.xp6(4),t.Q6J("ngIf",i.submitted&&i.f1.fontOfSign.errors),t.xp6(2),t.hij(" ",t.lcZ(168,161,"By signing this document with an electronic signature, I agree that such signature will be as valid as handwritten signatures to the extent allowed by local law.")," "),t.xp6(5),t.hij(" ",t.lcZ(173,163,"Next")," "),t.xp6(5),t.Q6J("formGroup",i.professionalInfoForm),t.xp6(4),t.hij("",t.lcZ(182,165,"Type of profession")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(184,167,"Select type of profession")),t.Q6J("clearable",!1)("searchable",!1),t.xp6(2),t.Q6J("ngForOf",i.professions),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f2.typeOfProfession.errors),t.xp6(3),t.hij("",t.lcZ(190,169,"Registration Number")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(192,171,"Enter registration number")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f2.registrationNumber.errors),t.xp6(4),t.hij("",t.lcZ(198,173,"Specialization")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(200,175,"Select specialization")),t.Q6J("clearable",!1)("searchable",!1),t.xp6(2),t.Q6J("ngForOf",i.specializations),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f2.specialization.errors),t.xp6(3),t.hij("",t.lcZ(206,177,"Consultation Language")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(208,179,"Select consultation language")),t.Q6J("items",i.languages)("closeOnSelect",!1)("clearable",!1)("multiple",!0)("searchable",!1),t.xp6(4),t.Q6J("ngIf",i.submitted&&i.f2.consultationLanguage.errors),t.xp6(4),t.hij("",t.lcZ(216,181,"Work Experience"),"*"),t.xp6(2),t.s9C("placeholder",t.lcZ(218,183,"Eg. General Physician")),t.Q6J("clearable",!1)("searchable",!1),t.xp6(2),t.Q6J("ngForOf",i.specializations),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f2.workExperience.errors),t.xp6(3),t.hij("",t.lcZ(224,185,"Research Experience")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(226,187,"Enter research experience")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f2.researchExperience.errors),t.xp6(4),t.hij("",t.lcZ(232,189,"Work Experience Details"),"*"),t.xp6(2),t.s9C("placeholder",t.lcZ(234,191,"Type here")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f2.workExperienceDetails.errors),t.xp6(4),t.hij(" ",t.lcZ(240,193,"Back")," "),t.xp6(5),t.hij(" ",t.lcZ(245,195,"Save")," ")}},dependencies:[g.sg,g.O5,k.Hw,ct,J,Q,nn,V.SP,V.uX,pt.u,q.w9,q.jq,q.ir,q.mR,l._Y,l.Fj,l.wV,l._,l.JJ,l.JL,l.nD,l.sg,l.u,dt._,T.Mq,T.hl,T.nW,T.Q0,Nt,L.z,g.rS,Z.X$],styles:['.user-profile-con[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 4px 24px #1f1c3a14;border-radius:12px;min-height:192px;width:100%;overflow:hidden}.user-profile-con[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{padding:60px 24px 24px}.user-profile-con[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--color-darkestBlue);font-size:16px;line-height:150%;font-weight:700;margin-bottom:0}.user-profile-con[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:150%;color:var(--color-gray);margin-bottom:0}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]{position:relative;min-height:95px;background:var(--color-lightGray) url(ecg-bg.8a0da99c4bdc2339.png) no-repeat;background-size:100% 100%}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{position:absolute;bottom:0;left:10px;transform:translateY(50%);border:1px solid rgba(178,175,190,.2);border-radius:50%}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .file-input-con[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;bottom:0;right:0;border-radius:50%;background:var(--color-lightGray);overflow:hidden;text-align:center;border:1px solid rgba(178,175,190,.2)}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .file-input-con[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;inset:0;cursor:pointer}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .file-input-con[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:0px;height:0px;opacity:0}  .mat-horizontal-stepper-header{pointer-events:none!important}  .mat-stepper-horizontal{font-family:DM Sans;border-radius:12px}  .mat-stepper-horizontal .mat-horizontal-content-container{padding:24px 24px 100px}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container{border-bottom:1px solid rgba(178,175,190,.2)}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .mat-step-header:hover,   .mat-stepper-horizontal .mat-horizontal-stepper-header-container .mat-step-header:focus{background-color:transparent!important}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .mat-step-icon{display:none}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .mat-step-label-selected .label-index{border:2px solid var(--color-green);height:34px;width:34px}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .custom-step-label{display:flex;align-items:center;font-size:18px;flex-wrap:nowrap;white-space:normal}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .custom-step-label .label-index{padding:10px;height:40px;width:40px;margin-right:16px;background:#E6FFF3;border-radius:50%;font-weight:700;color:var(--color-green);text-align:center;min-width:40px}  .mat-stepper-horizontal .mat-stepper-horizontal-line{position:relative;margin:0;min-width:10px;max-width:10px;border:none}  .mat-stepper-horizontal .mat-stepper-horizontal-line:after{position:absolute;right:0;top:-10px;font-family:Material Icons;content:"arrow_forward_ios"}.form-row[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--color-darkBlue);font-weight:700;font-size:18px;line-height:150%}.form-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:150%;color:var(--color-gray)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700;display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;color:var(--color-gray);font-weight:400}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative;min-width:206px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-white);border-radius:8px;font-size:18px;color:var(--color-darkBlue);position:relative;min-width:206px;font-weight:700;border:1px solid var(--color-lightGray)}.form-group[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;left:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red)}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}textarea.form-control[_ngcontent-%COMP%]{height:fit-content}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}  .iti{width:100%}  .iti .iti__country-list{top:48px;left:0;border-radius:8px}  .iti .iti__selected-flag{background-color:transparent}  .iti .iti__flag-container,   .iti .iti--separate-dial-code .iti__flag-container{height:48px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;padding:14px 16px}  .iti .iti__flag-container:hover .iti__selected-flag{background-color:transparent}  .iti input,   .iti .iti input[type=text]{margin-left:auto!important;width:calc(100% - 120px);padding-left:16px!important}  .signature-tab-group.mat-tab-group{font-family:DM Sans}  .signature-tab-group.mat-tab-group .mat-tab-body-wrapper .mat-tab-body .mat-tab-body-content{padding:24px}  .signature-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-ink-bar{background:var(--color-lightRed);border-radius:1px}  .signature-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-tab-label{min-width:fit-content;opacity:1}  .signature-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-tab-label .mat-tab-label-content{font-weight:700;font-size:16px;line-height:150%;color:var(--color-darkestBlue)}  canvas{background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px}  .ng-select.profile-select.ng-select-single .ng-select-container,   .ng-select.profile-select.ng-select-multiple .ng-select-container{height:48px;width:100%;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;box-shadow:none}  .ng-select.profile-select.ng-select-single .ng-select-container .ng-value-container,   .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-value-container{position:relative}  .ng-select.profile-select.ng-select-single .ng-select-container .ng-value-container .ng-input,   .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{top:50%;transform:translateY(-50%)}  .ng-select.profile-select.ng-select-single .ng-select-container .ng-arrow-wrapper .ng-arrow,   .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-arrow-wrapper .ng-arrow{border:none}  .ng-select.profile-select.ng-select-single .ng-select-container .ng-arrow-wrapper .ng-arrow:after,   .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-arrow-wrapper .ng-arrow:after{content:url(chevron-down-input.fbed60456e1aa553.svg);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}  .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background:none;font-size:16px}  .ng-select.profile-select.ng-select-single.ng-select-container:hover,   .ng-select.profile-select.ng-select-single.ng-select-container:focus{box-shadow:none;outline:none}.expandable[_ngcontent-%COMP%]{border:none!important;min-height:0px!important}.dropzone[_ngcontent-%COMP%]{font-family:DM Sans;padding:10px;background:var(--color-offWhite);border-radius:4px;width:fit-content;cursor:pointer}.dropzone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:var(--color-gray);margin-bottom:0}.pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400!important}.pretty.p-image[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:none}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{border:1px solid rgba(178,175,190,.2);background:var(--color-offWhite);border-radius:8px;height:48px}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:14px 16px;height:48px;font-size:16px;color:var(--color-darkestBlue);border:none;background:transparent}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px!important}.email-field[_ngcontent-%COMP%]{position:relative}.email-field[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{position:absolute;right:20px;top:40px}.email-field[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   .mat-icon.success[_ngcontent-%COMP%]{color:green}.email-field[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   .mat-icon.error[_ngcontent-%COMP%]{color:var(--color-red)}@media (max-width: 768px){  .mat-stepper-horizontal .mat-horizontal-stepper-header-container{flex-direction:column;align-items:start}  .mat-stepper-horizontal .mat-stepper-horizontal-line{align-self:center}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:100%}}']}),n})();const Pa=[{id:1,name:"Acetylsalicylic Acid (Aspirin) Tablet 75 mg"},{id:2,name:"Albendazole Tablet 400 mg"},{id:3,name:"Albendazole Oral Liquid 200 mg/5 ml"},{id:4,name:"Ambroxol Oral Liquid 30 mg/5 ml"},{id:5,name:"Ambroxol Oral Drops 7.5 mg/1 ml"},{id:6,name:"Ambroxol 30 mg+Levosalbutamol 1mg+Guaifensin 50 mg Oral Liquid (5ml)"},{id:7,name:"Ambroxol 7.5 mg+Levosalbutamol 0.25 mg+Guaifensin 12.5 mg Oral Drops (1 ml)"},{id:8,name:"Amlodipine Tablet 5 mg"},{id:9,name:"Amoxicillin Capsule 250 mg"},{id:10,name:"Amoxicillin Capsule 500 mg"},{id:11,name:"Amoxicillin Oral liquid 250 mg/5 ml"},{id:12,name:"Amoxicillin + Clavulanic acid Tablet 625 mg"},{id:13,name:"Amoxicillin + Clavulanic acid Oral Liquid 228.5 mg/5 ml"},{id:14,name:"Ascorbic Acid (Vitamin C) Tablet (Chewable) 500 mg"},{id:15,name:"Atorvastatin Tablet 10 mg"},{id:16,name:"Azithromycin Tablet 500 mg"},{id:17,name:"Azithromycin Oral Liquid 200 mg/5 ml"},{id:18,name:"B-Complex (Multivitamin) Capsule"},{id:19,name:"Betamethasone Valerate Cream 0.05%"},{id:20,name:"Bevon (Multivitamin) Oral Liquid"},{id:21,name:"Bevon (Multivitamin) Oral Drops"},{id:22,name:"Bisacodyl Tablet 5 mg"},{id:23,name:"Calamine Lotion"},{id:24,name:"Calcium Carbonate Tablet 625 mg"},{id:25,name:"Calcimax P Oral Liquid 150 mg/5 ml"},{id:26,name:"Cefixime Oral Liquid 50 mg/5 ml"},{id:27,name:"Cefixime Tablet 100 mg"},{id:28,name:"Cefixime Tablet 200 mg"},{id:29,name:"Cetirizine Oral Liquid 5 mg/5 ml"},{id:30,name:"Cetirizine Tablet 10 mg"},{id:31,name:"Chloroquine Oral liquid 50 mg/5 ml"},{id:32,name:"Chloroquine Tablet 150 mg"},{id:33,name:"Chlorpheniramine Maleate 2mg+Phenylephrine 5mg Oral Drops (1 ml) "},{id:34,name:"Cholecalciferol Oral Liquid 400 IU/1 ml"},{id:35,name:"Cholecalciferol Oral Sachet 1000 IU"},{id:36,name:"Ciprofloxacin Eye/Ear Drops 0.3%"},{id:37,name:"Ciprofloxacin Tablet 250 mg"},{id:38,name:"Ciprofloxacin Tablet 500 mg"},{id:39,name:"Clotrimazole Ear Drops 1%"},{id:40,name:"Clotrimazole Lotion 1%"},{id:41,name:"Clotrimazole Cream 1%"},{id:42,name:"Clotrimazole Pessary (Vaginal Tablet) 100 mg"},{id:43,name:"Clotrimazole Mouth Paint 1%"},{id:44,name:"Colic aid Oral Drops"},{id:45,name:"Co-trimoxazole Tablet (80 mg + 400 mg)"},{id:46,name:"Co-trimoxazole Tablet (20 mg + 100 mg)"},{id:47,name:"Co-trimoxazole Oral Liquid (40 mg + 200 mg/5 ml)"},{id:48,name:"Dextromethorphan Oral Liquid 15 mg/5 ml"},{id:49,name:"Diclofenac Tablet 50 mg"},{id:50,name:"Dicyclomine Tablet 10 mg"},{id:51,name:"Diethylcarbamazine (DEC) Oral Liquid 120 mg/5 ml"},{id:52,name:"Diethylcarbamazine (DEC) Tablet 100 mg"},{id:53,name:"Domperidone Oral Liquid 1 mg/1 ml"},{id:54,name:"Domperidone Tablet 10 mg"},{id:55,name:"Doxycycline Capsule 100 mg"},{id:56,name:"Enalapril Tablet 5 mg"},{id:57,name:"Folic acid Tablet 1 mg%"},{id:58,name:"Folic acid Tablet 5 mg"},{id:59,name:"Framycetin Cream 1%"},{id:60,name:"Fluconazole Tablet 100 mg%"},{id:61,name:"Glimepiride Tablet 2 mg"},{id:62,name:"Hydrochlorothiazide Tablet 12.5 mg"},{id:63,name:"Hydrochlorothiazide Tablet 25 mg"},{id:64,name:"Ibuprofen Tablet 400 mg"},{id:65,name:"Ibuprofen Syrup 100 mg/5 ml"},{id:66,name:"IFA (Ferrous Salt 45 mg + Folic acid 400 mcg) Tablet "},{id:67,name:"IFA (Ferrous Salt 100 mg+ Folic acid 500 mcg) Tablet "},{id:68,name:"IFA (Ferrous Salt 20 mg+ Folic acid 100 mcg) Oral Liquid (1 ml)"},{id:69,name:"Junior Lanzol Dispersible Tablet (DT) 15 mg"},{id:70,name:"Lactulose Oral Liquid 10 g/15 ml%"},{id:71,name:"Levocetirizine Tablet 5 mg"},{id:72,name:"Levocetirizine Oral Liquid 2.5 mg/5 ml"},{id:73,name:"Levothyroxine Tablet 25 mcg"},{id:74,name:"Levothyroxine Tablet 50 mcg"},{id:75,name:"Levothyroxine Tablet 100 mcg%"},{id:76,name:"Metformin Tablet 500 mg"},{id:77,name:"Metformin SR Tablet 500 mg."},{id:78,name:"Metronidazole Tablet 200 mg"},{id:79,name:"Metronidazole Tablet 400 mg"},{id:80,name:"Milk of Magnesia Oral Liquid 8%"},{id:81,name:"Mupirocin Ointment 2%"},{id:82,name:"Omeprazole Capsule 20 mg"},{id:83,name:"Ondansetron Tablet 4 mg"},{id:84,name:"Ondansetron Oral Liquid 2 mg/5 ml"},{id:85,name:"Oral Rehydration Salts (WHO ORS, Large)%"},{id:86,name:"Oral Rehydration Salts (WHO ORS, Small)"},{id:87,name:"Paracetamol Oral Drops 100mg/1ml"},{id:88,name:"Paracetamol Syrup 125 mg/5ml"},{id:89,name:"Paracetamol Syrup 250 mg/5ml"},{id:90,name:"Paracetamol Tablet 500 mg"},{id:91,name:"Paradichlorobenzene 2%+Chlorbutol 5%+Turpentine Oil 15%+ Lidocaine 2% Ear Drops"},{id:92,name:"Permethrin Cream 5%"},{id:93,name:"Salbutamol Tablet 2 mg"},{id:94,name:"Salbutamol Oral Liquid 2 mg/5 ml"},{id:95,name:"Saline Nasal Drops 0.65%"},{id:96,name:"Silver Sulphadiazine Cream 1%"},{id:97,name:"Telmisartan Tablet 40 mg"},{id:98,name:"Xylometazoline Nasal Drops 0.05%"},{id:99,name:"Xylometazoline Nasal Drops 0.1%"},{id:100,name:"Zinc Oxide Cream 10%"},{id:101,name:"Zinc Sulphate Dispersible Tablet 20 mg"}];var wa=d(591),Ut=d(13),Ma=d(293);let Ia=(()=>{class n{constructor(e){this.http=e,this.baseURL=y.N.baseURL}postEncounter(e){return this.http.post(`${this.baseURL}/encounter`,e)}postObs(e){return this.http.post(`${this.baseURL}/obs`,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(K.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Na=d(9581),ka=d(1567);let Ua=(()=>{class n{constructor(e,i,o){this.http=e,this.visitService=i,this.translateService=o,this.baseURL=y.N.baseURL,this.baseURLMindmap=y.N.mindmapURL,this.isVisitSummaryShow=!1,this.isHelpButtonShow=!1,this.triggerAction=new R.xQ}getCheifComplaint(e){const i=[];return e.encounters.forEach(r=>{null!==r.display.match(s.fj.ADULTINITIAL)&&r.obs.forEach(m=>{if(null!==m.display.match(s.fj.CURRENT_COMPLAINT)){const _=this.visitService.getData(m)?.value.replace(new RegExp("\u25ba","g"),"").split("<b>");for(let b=1;b<_.length;b++){const u=_[b].split("<");u[0].match(s.fj.ASSOCIATED_SYMPTOMS)||i.push(u[0])}}})}),i}checkIfEncounterExists(e,i){return e.find(({display:o=""})=>o.includes(i))}checkIfAttributeExists(e){let i;return e.forEach(o=>{"Visit Speciality"===o.attributeType.display&&(i=o)}),i}get userId(){return(0,f.TL)(!0,s.On.USER).uuid}get username(){return(0,f.TL)(!0,s.On.USER).username}getHours(e=!0,i){const o=Array.from({length:21},(r,c)=>h({hour:c,minutes:0}).format("LT"));return o.splice(0,9),this.isToday(i)&&!e?o.filter(c=>h(c,"LT").isAfter(h())):o}isToday(e){const i=h().startOf("day"),o=h().endOf("day");return h().startOf("day").isSame(h(e))||h(e).isBetween(i,o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(K.eN),t.LFG(it.W),t.LFG(Z.sK))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var qa=d(8426),qt=d(7664);function Ea(n,a){if(1&n&&(t.TgZ(0,"div",3)(1,"div",90)(2,"div")(3,"h6"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p"),t._UZ(7,"img",91),t._uU(8),t.qZA()(),t.TgZ(9,"div")(10,"a",92),t._uU(11),t.ALo(12,"translate"),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,4,"Appointment starts in")),t.xp6(4),t.hij(" ",e.checkIfDateOldThanOneDay(e.visitAppointment)," "),t.xp6(2),t.MGl("href","tel:",e.getPersonAttributeValue("Telephone Number"),"",t.LSH),t.xp6(1),t.hij(" ",t.lcZ(12,6,"Start call")," ")}}function La(n,a){if(1&n&&(t.TgZ(0,"p",107),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.getPersonAttributeValue("Telephone Number")," ")}}function Da(n,a){if(1&n&&(t.TgZ(0,"p",108),t._uU(1),t.TgZ(2,"a",109),t._UZ(3,"img",110),t.qZA(),t.TgZ(4,"a",111),t._UZ(5,"img",112),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.getPersonAttributeValue("Telephone Number")," "),t.xp6(1),t.MGl("href","tel:",e.getPersonAttributeValue("Telephone Number"),"",t.LSH),t.xp6(2),t.s9C("href",e.getWhatsAppLink(),t.LSH)}}function Va(n,a){if(1&n&&(t.TgZ(0,"div",93)(1,"div",94)(2,"div",95)(3,"div",96),t._UZ(4,"img",97),t.qZA(),t.TgZ(5,"div",98)(6,"h6",99),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"p",100),t._uU(10),t.qZA()()()(),t.TgZ(11,"div",94)(12,"div",101)(13,"h6",102),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"p",103),t._uU(17),t.qZA()(),t.TgZ(18,"div",104)(19,"h6",103),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"p",103),t._uU(23),t.qZA(),t.TgZ(24,"p",103),t._uU(25),t.qZA()()(),t.TgZ(26,"div",94)(27,"div",101)(28,"h6",103),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"p",103),t._uU(32),t.qZA()(),t.TgZ(33,"div",104)(34,"h6",103),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"p",103),t._uU(38),t.qZA()()(),t.TgZ(39,"div",94)(40,"div",104)(41,"h6",103),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.YNc(44,La,2,1,"p",105),t.YNc(45,Da,6,3,"p",106),t.qZA()()()),2&n){const e=t.oxw();let i;t.xp6(4),t.s9C("src",e.baseURL+"/personimage/"+(null==e.patient?null:e.patient.person.uuid),t.LSH),t.xp6(3),t.AsE(" ",null==e.patient?null:e.patient.person.display," (",t.lcZ(8,17,null==e.patient?null:e.patient.person.gender),") "),t.xp6(3),t.Oqu(e.getPatientIdentifier("OpenMRS ID")),t.xp6(4),t.Oqu(t.lcZ(15,19,"Age")),t.xp6(3),t.hij(" ",null!=e.patient&&e.patient.person.birthdate?e.getAge(null==e.patient?null:e.patient.person.birthdate):null==e.patient?null:e.patient.person.age," "),t.xp6(3),t.Oqu(t.lcZ(21,21,"Address")),t.xp6(3),t.Oqu(null==e.patient?null:e.patient.person.preferredAddress.cityVillage.replace(":"," : ")),t.xp6(2),t.AsE("",null!==(i=null==e.patient||null==e.patient.person||null==e.patient.person.preferredAddress?null:e.patient.person.preferredAddress.address1)&&void 0!==i?i:""," ",null!=e.patient&&null!=e.patient.person&&null!=e.patient.person.preferredAddress&&e.patient.person.preferredAddress.address2?", "+(null==e.patient||null==e.patient.person||null==e.patient.person.preferredAddress?null:e.patient.person.preferredAddress.address2):"",""),t.xp6(4),t.Oqu(t.lcZ(30,23,"Occupation")),t.xp6(3),t.Oqu(e.getPersonAttributeValue("occupation")),t.xp6(3),t.Oqu(t.lcZ(36,25,"National ID")),t.xp6(3),t.Oqu(e.getPersonAttributeValue("NationalID")),t.xp6(4),t.Oqu(t.lcZ(43,27,"Contact no.")),t.xp6(2),t.Q6J("ngIf","NA"===e.getPersonAttributeValue("Telephone Number")),t.xp6(1),t.Q6J("ngIf","NA"!==e.getPersonAttributeValue("Telephone Number"))}}function Fa(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",113),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.accordion.openAll(),t.KtG(o.showAll=!o.showAll)}),t.TgZ(1,"span",114),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5,"expand_more"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Show all")))}function Ra(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",115),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return o.accordion.closeAll(),t.KtG(o.showAll=!o.showAll)}),t.TgZ(1,"span",114),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5,"expand_less"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Hide all")))}function Ya(n,a){if(1&n&&(t.TgZ(0,"div",116),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.uIk("data-test-id","etChiefCom"+e.slice(0,3)+"Checkup"),t.xp6(1),t.hij(" ",e," ")}}function Ja(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",19)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"div",27),t._uU(5),t.ALo(6,"translate"),t.qZA()()()),2&n){const e=a.$implicit;t.xp6(2),t.uIk("data-test-id","etKey"+e.key.slice(0,3)+"Checkup"),t.xp6(1),t.Oqu(e.key),t.xp6(1),t.ekj("text-muted",!e.value),t.uIk("data-test-id","etValue"+e.value.slice(0,4).trim()+"Checkup"),t.xp6(1),t.hij(" ",e.value?e.value:t.lcZ(6,6,"None")," ")}}function Qa(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"h6",118),t._uU(2),t.qZA(),t.TgZ(3,"ul",119),t.YNc(4,Ja,7,8,"li",65),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.uIk("data-test-id","etTitle"+e.title.slice(0,3)+"Checkup"),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.data)}}function za(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",120)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"div",27),t._uU(5),t.ALo(6,"translate"),t.qZA()()()),2&n){const e=a.$implicit;t.xp6(2),t.uIk("data-test-id","etKey"+e.key.slice(0,3)+"Checkup"),t.xp6(1),t.Oqu(e.key),t.xp6(1),t.ekj("text-muted",!e.value),t.uIk("data-test-id","etValue"+e.value.slice(0,4).trim()+"Checkup"),t.xp6(1),t.hij(" ",e.value?e.value:t.lcZ(6,6,"None")," ")}}function ja(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"h6",118),t._uU(2),t.qZA(),t.TgZ(3,"ul",119),t.YNc(4,za,7,8,"li",65),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.uIk("data-test-id","etTitle"+e.title.slice(0,3)+"Checkup"),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.data)}}function Ha(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Qa,5,3,"ng-container",117),t.YNc(2,ja,5,3,"ng-container",117),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","Associated symptoms"!=e.title),t.xp6(1),t.Q6J("ngIf","Associated symptoms"==e.title)}}function Ga(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",19)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"div",27),t._uU(5),t.ALo(6,"translate"),t.qZA()()()),2&n){const e=a.$implicit;t.xp6(2),t.uIk("data-test-id","etKey"+e.key.slice(0,3)+"PhysicalExam"),t.xp6(1),t.Oqu(e.key),t.xp6(1),t.ekj("text-muted",!e.value),t.uIk("data-test-id","etValue"+e.value.slice(0,2).trim()+"PhysicalExam"),t.xp6(1),t.hij(" ",e.value?e.value:t.lcZ(6,6,"None")," ")}}function Ba(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",123),t._UZ(1,"img",124),t.TgZ(2,"div",125),t.NdJ("click",function(){const r=t.CHM(e).index,c=t.oxw(3).$implicit,p=t.oxw();return t.KtG(p.previewEyeImages(r,c.title))}),t._UZ(3,"img",126),t.qZA()()}if(2&n){const e=a.$implicit,i=a.index;t.xp6(1),t.Q6J("src",e.src,t.LSH),t.uIk("data-test-id","etImage"+i+"PhysicalExam"),t.xp6(1),t.uIk("data-test-id","etValue"+i+"PhysicalExam")}}function $a(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",19)(2,"label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",27)(6,"div",121),t.YNc(7,Ba,4,3,"div",122),t.qZA()()()()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.uIk("data-test-id","etEyeImgPhysicalExam"),t.xp6(1),t.Oqu(t.lcZ(4,3,"Pictures")),t.xp6(4),t.Q6J("ngForOf",i.getImagesBySection(e.title))}}function Wa(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"h6",118),t._uU(2),t.qZA(),t.TgZ(3,"ul",119),t.YNc(4,Ga,7,8,"li",65),t.YNc(5,$a,8,5,"li",117),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.uIk("data-test-id","etTitle"+e.title.slice(0,3)+"PhysicalExam"),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.data),t.xp6(1),t.Q6J("ngIf",i.getImagesBySection(e.title).length)}}function Ka(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",19)(2,"label"),t._uU(3),t.qZA()()()),2&n){const e=a.$implicit;t.xp6(2),t.uIk("data-test-id","etKey"+e.key.slice(0,3)+"PhysicalExam"),t.xp6(1),t.Oqu(e.key)}}function Xa(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",123),t._UZ(1,"img",124),t.TgZ(2,"div",125),t.NdJ("click",function(){const r=t.CHM(e).index,c=t.oxw(3).$implicit,p=t.oxw();return t.KtG(p.previewEyeImages(r,c.title))}),t._UZ(3,"img",126),t.qZA()()}if(2&n){const e=a.$implicit,i=a.index;t.xp6(1),t.Q6J("src",e.src,t.LSH),t.uIk("data-test-id","etImage"+i+"PhysicalExam"),t.xp6(1),t.uIk("data-test-id","etValue"+i+"PhysicalExam")}}function to(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",19)(2,"label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",27)(6,"div",121),t.YNc(7,Xa,4,3,"div",122),t.qZA()()()()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.uIk("data-test-id","etEyeImgPhysicalExam"),t.xp6(1),t.Oqu(t.lcZ(4,3,"Pictures")),t.xp6(4),t.Q6J("ngForOf",i.getImagesBySection(e.title))}}function eo(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"h6",118),t._uU(2),t.qZA(),t.TgZ(3,"ul",119),t.YNc(4,Ka,4,2,"li",65),t.YNc(5,to,8,5,"li",117),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.uIk("data-test-id","etTitle"+e.title.slice(0,3)+"PhysicalExam"),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.data),t.xp6(1),t.Q6J("ngIf",i.getImagesBySection(e.title).length)}}function io(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",60),t.YNc(2,Wa,6,4,"ng-container",117),t.YNc(3,eo,6,4,"ng-container",117),t.qZA(),t.BQk()),2&n){const e=a.$implicit;t.xp6(2),t.Q6J("ngIf","Abdomen"!=e.title),t.xp6(1),t.Q6J("ngIf","Abdomen"==e.title)}}function no(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",19)(2,"label"),t._uU(3),t.qZA(),t.TgZ(4,"div",27),t._uU(5),t.ALo(6,"translate"),t.qZA()()()),2&n){const e=a.$implicit,i=a.index;t.xp6(2),t.uIk("data-test-id","etKey"+e.key.slice(0,3)+"Medicalhis"),t.xp6(1),t.Oqu(e.key),t.xp6(1),t.ekj("text-muted",!e.value),t.uIk("data-test-id","etValue"+i+"Medicalhis"),t.xp6(1),t.hij(" ",e.value?e.value:t.lcZ(6,6,"None")," ")}}function ao(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",60)(2,"h6",118),t._uU(3),t.qZA(),t.TgZ(4,"ul",119),t.YNc(5,no,7,8,"li",65),t.qZA()(),t.BQk()),2&n){const e=a.$implicit;t.xp6(2),t.uIk("data-test-id","etTitle"+e.title.slice(0,3)+"Medicalhis"),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.data)}}function oo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",129),t._UZ(1,"img",124),t.TgZ(2,"div",130),t.NdJ("click",function(){const r=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.previewDocImages(r))}),t._UZ(3,"img",126),t.qZA()()}if(2&n){const e=a.$implicit;t.xp6(1),t.Q6J("src",e.src,t.LSH)}}function ro(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",127),t.YNc(2,oo,4,1,"div",128),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.additionalDocs)}}function so(n,a){1&n&&(t.TgZ(0,"div",131),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"No additional docs available!")))}function lo(n,a){if(1&n&&(t.TgZ(0,"ng-option",150),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.name)," ")}}function co(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",137)(2,"label",144),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",145)(6,"ng-select",146),t.ALo(7,"translate"),t.YNc(8,lo,3,4,"ng-option",147),t.qZA()()(),t.TgZ(9,"div",148)(10,"button",149),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,6,"Specialization")),t.xp6(3),t.s9C("placeholder",t.lcZ(7,8,"Select specialization")),t.Q6J("clearable",!1)("searchable",!0),t.xp6(2),t.Q6J("ngForOf",e.specializations),t.xp6(3),t.Oqu(t.lcZ(12,10,"Re-assign"))}}function po(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-expansion-panel",132)(1,"mat-expansion-panel-header",133)(2,"mat-panel-title")(3,"div",15),t._UZ(4,"img",134),t.TgZ(5,"h6",135),t._uU(6),t.ALo(7,"translate"),t.qZA()()()(),t.TgZ(8,"form",136),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.referSpecialist())}),t.TgZ(9,"div",137)(10,"label",138),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div",139)(14,"div",140),t._UZ(15,"input",141),t.TgZ(16,"div",142)(17,"label"),t._uU(18),t.ALo(19,"translate"),t.qZA()()(),t.TgZ(20,"div",140),t._UZ(21,"input",143),t.TgZ(22,"div",142)(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()(),t.YNc(26,co,13,12,"ng-container",117),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("expanded",!e.visitNotePresent),t.xp6(6),t.Oqu(t.lcZ(7,9,"Refer to specialist")),t.xp6(2),t.Q6J("formGroup",e.referSpecialityForm),t.xp6(3),t.Oqu(t.lcZ(12,11,"Refer to another speciality")),t.xp6(4),t.Q6J("value",!0),t.xp6(3),t.Oqu(t.lcZ(19,13,"Yes")),t.xp6(3),t.Q6J("value",!1),t.xp6(3),t.Oqu(t.lcZ(25,15,"No")),t.xp6(2),t.Q6J("ngIf",e.referSpecialityForm.value.refer)}}function uo(n,a){1&n&&t._UZ(0,"th",164)}function mo(n,a){1&n&&t._UZ(0,"div",170)}function go(n,a){if(1&n&&(t.TgZ(0,"td",165)(1,"div",166),t.YNc(2,mo,1,0,"div",167),t._UZ(3,"div",168)(4,"div",169),t.qZA()()),2&n){const e=a.first;t.xp6(2),t.Q6J("ngIf",!e)}}function ho(n,a){1&n&&(t.TgZ(0,"th",164),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Created on")))}function _o(n,a){if(1&n&&(t.TgZ(0,"td",165),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.created_on,"dd MM, yyyy")," ")}}function fo(n,a){1&n&&(t.TgZ(0,"th",164),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Consulted by")))}function bo(n,a){if(1&n&&(t.TgZ(0,"div",172),t._UZ(1,"img",173),t.TgZ(2,"span",174),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.s9C("src",i.baseUrl+"/personimage/"+(null==e||null==e.doctor?null:e.doctor.person_uuid),t.LSH),t.xp6(2),t.AsE("",null==e||null==e.doctor?null:e.doctor.name," (",t.lcZ(4,3,null==e||null==e.doctor?null:e.doctor.gender),")")}}function vo(n,a){if(1&n&&(t.TgZ(0,"td",165),t.YNc(1,bo,5,5,"div",171),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.doctor)}}function xo(n,a){1&n&&(t.TgZ(0,"th",164),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Chief Complaint")))}function Co(n,a){if(1&n&&(t.TgZ(0,"td",165),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.cheif_complaint," ")}}function Zo(n,a){1&n&&(t.TgZ(0,"th",164),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Summary")))}function Ao(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",165)(1,"a",175),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.openVisitSummaryModal(r.uuid))}),t.TgZ(2,"div",176),t._UZ(3,"img",177),t.TgZ(4,"span",178),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()}2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"View")))}function To(n,a){1&n&&(t.TgZ(0,"th",164),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Prescription")))}function Oo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",175),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.openVisitPrescriptionModal(o.uuid))}),t.TgZ(1,"div",180),t._UZ(2,"img",181),t.TgZ(3,"span",178),t._uU(4),t.ALo(5,"translate"),t.qZA()()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"View")))}function yo(n,a){if(1&n&&(t.TgZ(0,"td",165),t.YNc(1,Oo,6,3,"a",179),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.prescription_sent)}}function So(n,a){1&n&&(t.TgZ(0,"th",164),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Prescription sent")))}function Po(n,a){if(1&n&&(t.TgZ(0,"div",176),t._UZ(1,"img",183),t.TgZ(2,"span",178),t._uU(3),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.prescription_sent)}}function wo(n,a){if(1&n&&(t.TgZ(0,"td",165),t.YNc(1,Po,4,1,"div",182),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.prescription_sent)}}function Mo(n,a){1&n&&t._UZ(0,"tr",184)}function Io(n,a){1&n&&t._UZ(0,"tr",185)}function No(n,a){if(1&n&&(t.TgZ(0,"div",151)(1,"table",152),t.ynx(2,153),t.YNc(3,uo,1,0,"th",154),t.YNc(4,go,5,1,"td",155),t.BQk(),t.ynx(5,156),t.YNc(6,ho,3,3,"th",154),t.YNc(7,_o,3,4,"td",155),t.BQk(),t.ynx(8,157),t.YNc(9,fo,3,3,"th",154),t.YNc(10,vo,2,1,"td",155),t.BQk(),t.ynx(11,158),t.YNc(12,xo,3,3,"th",154),t.YNc(13,Co,2,1,"td",155),t.BQk(),t.ynx(14,159),t.YNc(15,Zo,3,3,"th",154),t.YNc(16,Ao,7,3,"td",155),t.BQk(),t.ynx(17,160),t.YNc(18,To,3,3,"th",154),t.YNc(19,yo,2,1,"td",155),t.BQk(),t.ynx(20,161),t.YNc(21,So,3,3,"th",154),t.YNc(22,wo,2,1,"td",155),t.BQk(),t.YNc(23,Mo,1,0,"tr",162),t.YNc(24,Io,1,0,"tr",163),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function ko(n,a){1&n&&(t.TgZ(0,"div",151)(1,"span",186),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"No past visit history")," "))}function Uo(n,a){1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p",187)(4,"span",188),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"translate"),t.ALo(10,"translate"),t.ALo(11,"translate"),t.ALo(12,"translate"),t.ALo(13,"translate"),t.qZA()()()()),2&n&&(t.xp6(5),t.hij("",t.lcZ(6,7,"Note"),":"),t.xp6(2),t.gL8(" ",t.lcZ(8,9,"This history note and physical exam note was generated by a community health worker with the")," ",t.lcZ(9,11,"support of the Intelehealth mobile application and Ayu, a digital assistant. It collects only")," ",t.lcZ(10,13,"preliminary findings and may not gather all of the patient clinical information, especially")," ",t.lcZ(11,15,"sensitive information or complex physical exam information which is hard for the health worker")," ",t.lcZ(12,17,"to collect. Please verify crucial clinical information and collect any additional information")," ",t.lcZ(13,19,"you require by speaking with the patient directly.")," "))}function qo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",189)(1,"button",190),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.startVisitNote())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Start visit note")," "))}function Eo(n,a){if(1&n&&(t.TgZ(0,"div",139)(1,"div",232)(2,"a",233),t._UZ(3,"img",234),t.qZA(),t.TgZ(4,"a",235),t._UZ(5,"img",236),t.qZA()(),t.TgZ(6,"span",114),t._uU(7),t.ALo(8,"translate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.MGl("href","tel:",e.getPersonAttributeValue("Telephone Number"),"",t.LSH),t.xp6(2),t.s9C("href",e.getWhatsAppLink(),t.LSH),t.xp6(3),t.Oqu(t.lcZ(8,3,"Click here to connect with the patient"))}}function Lo(n,a){1&n&&(t.TgZ(0,"div",139)(1,"span",114),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Patient Mobile number is not available")))}function Do(n,a){1&n&&(t.TgZ(0,"li")(1,"div",1)(2,"label",196),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",139)(6,"div",140),t._UZ(7,"input",237),t.ALo(8,"translate"),t.TgZ(9,"div",142)(10,"label"),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",140),t._UZ(14,"input",238),t.ALo(15,"translate"),t.TgZ(16,"div",142)(17,"label"),t._uU(18),t.ALo(19,"translate"),t.qZA()()()()()()),2&n&&(t.xp6(3),t.hij("",t.lcZ(4,5,"Have you spoken with the patient directly?"),"*"),t.xp6(4),t.s9C("value",t.lcZ(8,7,"Yes")),t.xp6(4),t.Oqu(t.lcZ(12,9,"Yes")),t.xp6(3),t.s9C("value",t.lcZ(15,11,"No")),t.xp6(4),t.Oqu(t.lcZ(19,13,"No")))}function Vo(n,a){if(1&n&&(t.TgZ(0,"div",239)(1,"button",240),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.patientInteractionForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(3,2,"Save")," ")}}function Fo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",243),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.deletePatientInteraction())}),t._UZ(1,"img",244),t.qZA()}}function Ro(n,a){if(1&n&&(t.TgZ(0,"div",204)(1,"table",205)(2,"thead")(3,"tr")(4,"th",206),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",206),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th",206),t.qZA()(),t.TgZ(11,"tbody")(12,"tr")(13,"td"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td",241),t.YNc(19,Fo,2,0,"button",242),t.qZA()()()()()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,5,"Patient interaction")),t.xp6(3),t.Oqu(t.lcZ(9,7,"Status")),t.xp6(6),t.Oqu(t.lcZ(15,9,"Spoken with the patient directly?")),t.xp6(3),t.Oqu(e.patientInteractionForm.value.spoken),t.xp6(2),t.Q6J("ngIf",e.isVisitNoteProvider&&!e.visitEnded)}}function Yo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",246),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),r=o.index,c=o.$implicit,p=t.oxw(3);return t.KtG(p.deleteDiagnosis(r,c.uuid))}),t._UZ(1,"img",244),t.qZA()}if(2&n){const e=t.oxw().index;t.s9C("test-id","btnDeleteDiagnosisVisitSummary"+e)}}function Jo(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",241),t.YNc(8,Yo,2,1,"button",245),t.qZA()()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(e.diagnosisName),t.xp6(2),t.Oqu(e.diagnosisType),t.xp6(2),t.Oqu(e.diagnosisStatus),t.xp6(2),t.Q6J("ngIf",i.isVisitNoteProvider&&!i.visitEnded)}}function Qo(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Jo,9,4,"tr",65),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.existingDiagnosis)}}function zo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",247)(2,"div",248)(3,"button",249),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleDiagnosis())}),t._UZ(4,"img",250),t.TgZ(5,"span",251),t._uU(6),t.ALo(7,"translate"),t.qZA()()()()()}2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"Add more diagnosis")))}function jo(n,a){if(1&n&&(t.ynx(0),t.YNc(1,zo,8,3,"tr",117),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.addMoreDiagnosis)}}function Ho(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",195),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.saveDiagnosis())}),t.TgZ(1,"ul",18)(2,"li")(3,"div",1)(4,"label",252),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",145)(8,"ng-select",253),t.NdJ("search",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onKeyUp(o))}),t.ALo(9,"async"),t.ALo(10,"translate"),t.qZA()()()(),t.TgZ(11,"li")(12,"div",1)(13,"label",196),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",139)(17,"div",140),t._UZ(18,"input",254),t.TgZ(19,"div",142)(20,"label"),t._uU(21),t.ALo(22,"translate"),t.qZA()()(),t.TgZ(23,"div",140),t._UZ(24,"input",255),t.TgZ(25,"div",142)(26,"label"),t._uU(27),t.ALo(28,"translate"),t.qZA()()()()()(),t.TgZ(29,"li")(30,"div",1)(31,"label",196),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"div",139)(35,"div",140),t._UZ(36,"input",256),t.TgZ(37,"div",142)(38,"label"),t._uU(39),t.ALo(40,"translate"),t.qZA()()(),t.TgZ(41,"div",140),t._UZ(42,"input",257),t.TgZ(43,"div",142)(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA()()()()()()(),t.TgZ(47,"div",248)(48,"button",258),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleDiagnosis())}),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"button",259),t._uU(52),t.ALo(53,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(3);t.Q6J("formGroup",e.diagnosisForm),t.xp6(5),t.hij("",t.lcZ(6,20,"Select diagnosis"),"*"),t.xp6(3),t.s9C("placeholder",t.lcZ(10,24,"Select diagnosis")),t.Q6J("items",t.lcZ(9,22,e.diagnosis$))("clearable",!0)("searchable",!0)("addTag",!0),t.xp6(6),t.hij("",t.lcZ(15,26,"Diagnosis type"),"*"),t.xp6(4),t.Q6J("value","Primary"),t.xp6(3),t.Oqu(t.lcZ(22,28,"Primary")),t.xp6(3),t.Q6J("value","Secondary"),t.xp6(3),t.Oqu(t.lcZ(28,30,"Secondary")),t.xp6(5),t.hij("",t.lcZ(33,32,"Select"),"*"),t.xp6(4),t.Q6J("value","Provisional"),t.xp6(3),t.Oqu(t.lcZ(40,34,"Provisional")),t.xp6(3),t.Q6J("value","Confirmed"),t.xp6(3),t.Oqu(t.lcZ(46,36,"Confirmed")),t.xp6(4),t.hij(" ",t.lcZ(50,38,"Cancel")," "),t.xp6(2),t.Q6J("disabled",e.diagnosisForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(53,40,"Add")," ")}}function Go(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Ho,54,42,"form",231),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.addMoreDiagnosis)}}function Bo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",262),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),r=o.index,c=o.$implicit,p=t.oxw(3);return t.KtG(p.deleteNote(r,c.uuid))}),t._UZ(1,"img",244),t.qZA()}if(2&n){const e=t.oxw().index;t.s9C("test-id","btnDeleteNoteVisitSummary"+e)}}function $o(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",260)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,Bo,2,1,"button",261),t.qZA()()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(3),t.Oqu(e.value),t.xp6(1),t.Q6J("ngIf",i.isVisitNoteProvider&&!i.visitEnded)}}function Wo(n,a){if(1&n&&(t.TgZ(0,"ul",18),t.YNc(1,$o,5,2,"li",65),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.notes)}}function Ko(n,a){1&n&&(t.TgZ(0,"div",263),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No notes added!")," "))}function Xo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",148)(1,"button",266),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleNote())}),t._UZ(2,"img",250),t.TgZ(3,"span",251),t._uU(4),t.ALo(5,"translate"),t.qZA()()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"Add more notes")))}function tr(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",148)(2,"label",267)(3,"b"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"span",114),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t._UZ(9,"textarea",268),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",148)(12,"button",269),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleNote())}),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"button",270),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(4),t.hij("",t.lcZ(5,6,"Note"),"*\xa0"),t.xp6(3),t.hij("(",t.lcZ(8,8,"Not shared with patient"),")"),t.xp6(2),t.s9C("placeholder",t.lcZ(10,10,"Type here")),t.xp6(4),t.hij(" ",t.lcZ(14,12,"Cancel")," "),t.xp6(2),t.Q6J("disabled",e.addNoteForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(17,14,"Add note")," ")}}function er(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",264),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.addNote())}),t.YNc(1,Xo,6,3,"div",265),t.YNc(2,tr,18,16,"ng-container",117),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("formGroup",e.addNoteForm),t.xp6(1),t.Q6J("ngIf",e.addMoreNote),t.xp6(1),t.Q6J("ngIf",!e.addMoreNote)}}function ir(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",272),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),r=o.index,c=o.$implicit,p=t.oxw(3);return t.KtG(p.deleteMedicine(r,c.uuid))}),t._UZ(1,"img",244),t.qZA()}if(2&n){const e=t.oxw().index;t.s9C("test-id","btnDeleteMedVisitSummary"+e)}}function nr(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",241),t.YNc(12,ir,2,1,"button",271),t.qZA()()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(e.drug),t.xp6(2),t.Oqu(e.strength),t.xp6(2),t.Oqu(e.days),t.xp6(2),t.Oqu(e.timing),t.xp6(2),t.Oqu(e.remark),t.xp6(2),t.Q6J("ngIf",i.isVisitNoteProvider&&!i.visitEnded)}}function ar(n,a){if(1&n&&(t.ynx(0),t.YNc(1,nr,13,6,"tr",65),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.medicines)}}function or(n,a){1&n&&(t.TgZ(0,"tr")(1,"td",273),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"No medicines added!")," "))}function rr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",274)(2,"div",248)(3,"button",275),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleMedicine())}),t._UZ(4,"img",250),t.TgZ(5,"span",251),t._uU(6),t.ALo(7,"translate"),t.qZA()()()()()}2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"Add more medicine")))}function sr(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"div",248),t._UZ(3,"input",276),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"td")(6,"div",248),t._UZ(7,"input",277),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"td")(10,"div",248),t._UZ(11,"input",278),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"td"),t._UZ(14,"ng-select",279),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"td",280)(17,"div",248),t._UZ(18,"input",281),t.ALo(19,"translate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(3),t.MGl("placeholder","",t.lcZ(4,12,"Enter drug"),"*"),t.Q6J("ngbTypeahead",e.search3),t.xp6(4),t.MGl("placeholder","",t.lcZ(8,14,"Enter strength"),"*"),t.Q6J("ngbTypeahead",e.search4),t.xp6(4),t.MGl("placeholder","",t.lcZ(12,16,"Enter days"),"*"),t.Q6J("ngbTypeahead",e.search5),t.xp6(3),t.MGl("placeholder","",t.lcZ(15,18,"Select timing"),"*"),t.Q6J("items",e.timingList)("clearable",!1)("searchable",!0)("addTag",!0),t.xp6(4),t.MGl("placeholder","",t.lcZ(19,20,"Enter Remark"),"*")}}function lr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",282)(2,"div",283)(3,"button",284),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleMedicine())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",285),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw(3);t.xp6(4),t.hij(" ",t.lcZ(5,3,"Cancel")," "),t.xp6(2),t.Q6J("disabled",e.addMedicineForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(8,5,"Add")," ")}}function cr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,rr,8,3,"tr",117),t.YNc(2,sr,20,22,"tr",117),t.YNc(3,lr,9,7,"tr",117),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.addMoreMedicine),t.xp6(1),t.Q6J("ngIf",!e.addMoreMedicine),t.xp6(1),t.Q6J("ngIf",!e.addMoreMedicine)}}function pr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",262),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),r=o.index,c=o.$implicit,p=t.oxw(3);return t.KtG(p.deleteAdditionalInstruction(r,c.uuid))}),t._UZ(1,"img",244),t.qZA()}if(2&n){const e=t.oxw().index;t.s9C("test-id","btnDeleteAIVisitSummary"+e)}}function dr(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",78)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,pr,2,1,"button",261),t.qZA()()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(3),t.Oqu(e.value),t.xp6(1),t.Q6J("ngIf",i.isVisitNoteProvider&&!i.visitEnded)}}function ur(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"ul",18),t.YNc(2,dr,5,2,"li",65),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.additionalInstructions)}}function mr(n,a){1&n&&(t.TgZ(0,"div",263),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No additional instructions added!")," "))}function gr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",148)(1,"button",286),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleAdditionalInstruction())}),t._UZ(2,"img",250),t.TgZ(3,"span",251),t._uU(4),t.ALo(5,"translate"),t.qZA()()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"Add more instructions")))}function hr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",195),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.addAdditionalInstruction())}),t.TgZ(1,"div",148),t._UZ(2,"textarea",287),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",148)(5,"button",288),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleAdditionalInstruction())}),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",289),t._uU(9),t.ALo(10,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(3);t.Q6J("formGroup",e.addAdditionalInstructionForm),t.xp6(2),t.s9C("placeholder",t.lcZ(3,5,"Type here")),t.xp6(4),t.hij(" ",t.lcZ(7,7,"Cancel")," "),t.xp6(2),t.Q6J("disabled",e.addAdditionalInstructionForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(10,9,"Save")," ")}}function _r(n,a){if(1&n&&(t.ynx(0),t.YNc(1,gr,6,3,"div",265),t.YNc(2,hr,11,11,"form",231),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.addMoreAdditionalInstruction),t.xp6(1),t.Q6J("ngIf",!e.addMoreAdditionalInstruction)}}function fr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",262),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),r=o.index,c=o.$implicit,p=t.oxw(3);return t.KtG(p.deleteAdvice(r,c.uuid))}),t._UZ(1,"img",244),t.qZA()}if(2&n){const e=t.oxw().index;t.s9C("test-id","btnDeleteAdviceVisitSummary"+e)}}function br(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",78)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,fr,2,1,"button",261),t.qZA()()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(3),t.Oqu(e.value),t.xp6(1),t.Q6J("ngIf",i.isVisitNoteProvider&&!i.visitEnded)}}function vr(n,a){if(1&n&&(t.TgZ(0,"ul",18),t.YNc(1,br,5,2,"li",65),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.advices)}}function xr(n,a){1&n&&(t.TgZ(0,"div",263),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No advices added!")," "))}function Cr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",291)(1,"button",292),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleAdvice())}),t._UZ(2,"img",250),t.TgZ(3,"span",251),t._uU(4),t.ALo(5,"translate"),t.qZA()()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"Add more advice")))}function Zr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",264),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.addAdvice())}),t.TgZ(1,"div",148)(2,"label",267)(3,"b"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t._UZ(6,"input",293),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",148)(9,"button",294),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleAdvice())}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",295),t._uU(13),t.ALo(14,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(3);t.Q6J("formGroup",e.addAdviceForm),t.xp6(4),t.hij("",t.lcZ(5,7,"Advice"),"*"),t.xp6(2),t.s9C("placeholder",t.lcZ(7,9,"Type here")),t.Q6J("ngbTypeahead",e.search),t.xp6(4),t.hij(" ",t.lcZ(11,11,"Cancel")," "),t.xp6(2),t.Q6J("disabled",e.addAdviceForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(14,13,"Add advice")," ")}}function Ar(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Cr,6,3,"div",290),t.YNc(2,Zr,15,15,"form",211),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.addMoreAdvice),t.xp6(1),t.Q6J("ngIf",!e.addMoreAdvice)}}function Tr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",262),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),r=o.index,c=o.$implicit,p=t.oxw(3);return t.KtG(p.deleteTest(r,c.uuid))}),t._UZ(1,"img",244),t.qZA()}if(2&n){const e=t.oxw().index;t.s9C("test-id","btnDeleteTestVisitSummary"+e)}}function Or(n,a){if(1&n&&(t.TgZ(0,"li")(1,"div",78)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,Tr,2,1,"button",261),t.qZA()()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(3),t.Oqu(e.value),t.xp6(1),t.Q6J("ngIf",i.isVisitNoteProvider&&!i.visitEnded)}}function yr(n,a){if(1&n&&(t.TgZ(0,"ul",18),t.YNc(1,Or,5,2,"li",65),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.tests)}}function Sr(n,a){1&n&&(t.TgZ(0,"div",263),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"No tests added!")," "))}function Pr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",291)(1,"button",296),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleTest())}),t._UZ(2,"img",250),t.TgZ(3,"span",251),t._uU(4),t.ALo(5,"translate"),t.qZA()()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"Add more test")))}function wr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",264),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.addTest())}),t.TgZ(1,"div",148)(2,"label",267)(3,"b"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t._UZ(6,"input",297),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",148)(9,"button",298),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleTest())}),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",299),t._uU(13),t.ALo(14,"translate"),t.qZA()()()}if(2&n){const e=t.oxw(3);t.Q6J("formGroup",e.addTestForm),t.xp6(4),t.hij("",t.lcZ(5,7,"Test"),"*"),t.xp6(2),t.s9C("placeholder",t.lcZ(7,9,"Type here")),t.Q6J("ngbTypeahead",e.search2),t.xp6(4),t.hij(" ",t.lcZ(11,11,"Cancel")," "),t.xp6(2),t.Q6J("disabled",e.addTestForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(14,13,"Add test")," ")}}function Mr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Pr,6,3,"div",290),t.YNc(2,wr,15,15,"form",211),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.addMoreTest),t.xp6(1),t.Q6J("ngIf",!e.addMoreTest)}}function Ir(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",272),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),r=o.index,c=o.$implicit,p=t.oxw(3);return t.KtG(p.deleteReferral(r,c.uuid))}),t._UZ(1,"img",244),t.qZA()}if(2&n){const e=t.oxw().index;t.s9C("test-id","btnDeleteReferralVisitSummary"+e)}}function Nr(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td",241),t.YNc(13,Ir,2,1,"button",300),t.qZA()()),2&n){const e=a.$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,5,e.speciality)),t.xp6(3),t.Oqu(t.lcZ(6,7,e.facility)),t.xp6(3),t.Oqu(t.lcZ(9,9,e.priority)),t.xp6(3),t.Oqu(e.reason),t.xp6(2),t.Q6J("ngIf",i.isVisitNoteProvider&&!i.visitEnded)}}function kr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,Nr,14,11,"tr",65),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.referrals)}}function Ur(n,a){1&n&&(t.TgZ(0,"tr")(1,"td",273),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"No medicines added!")," "))}function qr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",274)(2,"div",248)(3,"button",301),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleReferral())}),t._UZ(4,"img",250),t.TgZ(5,"span",251),t._uU(6),t.ALo(7,"translate"),t.qZA()()()()()}2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"Add more Referral")))}function Er(n,a){if(1&n&&(t.TgZ(0,"ng-option",150),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.name)," ")}}function Lr(n,a){if(1&n&&(t.TgZ(0,"ng-option",150),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.name)," ")}}function Dr(n,a){if(1&n&&(t.TgZ(0,"ng-option",150),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.name)," ")}}function Vr(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"div",248)(3,"ng-select",302),t.ALo(4,"translate"),t.YNc(5,Er,3,4,"ng-option",147),t.qZA()()(),t.TgZ(6,"td")(7,"div",248)(8,"ng-select",303),t.ALo(9,"translate"),t.YNc(10,Lr,3,4,"ng-option",147),t.qZA()()(),t.TgZ(11,"td")(12,"div",248)(13,"ng-select",304),t.ALo(14,"translate"),t.YNc(15,Dr,3,4,"ng-option",147),t.qZA()()(),t.TgZ(16,"td",280)(17,"div",248),t._UZ(18,"input",305),t.ALo(19,"translate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(3),t.MGl("placeholder","",t.lcZ(4,16,"Select specialization"),"*"),t.Q6J("clearable",!1)("searchable",!0)("addTag",!0),t.xp6(2),t.Q6J("ngForOf",e.refer_specializations),t.xp6(3),t.MGl("placeholder","",t.lcZ(9,18,"Select facility"),"*"),t.Q6J("clearable",!1)("searchable",!0)("addTag",!0),t.xp6(2),t.Q6J("ngForOf",e.facilities),t.xp6(3),t.MGl("placeholder","",t.lcZ(14,20,"Select Priority"),"*"),t.Q6J("clearable",!1)("searchable",!1)("addTag",!1),t.xp6(2),t.Q6J("ngForOf",e.refer_priorities),t.xp6(3),t.s9C("placeholder",t.lcZ(19,22,"Enter reason"))}}function Fr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",282)(2,"div",283)(3,"button",306),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.toggleReferral())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",307),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw(3);t.xp6(4),t.hij(" ",t.lcZ(5,3,"Cancel")," "),t.xp6(2),t.Q6J("disabled",e.addReferralForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(8,5,"Add")," ")}}function Rr(n,a){if(1&n&&(t.ynx(0),t.YNc(1,qr,8,3,"tr",117),t.YNc(2,Vr,20,24,"tr",117),t.YNc(3,Fr,9,7,"tr",117),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.addMoreReferral),t.xp6(1),t.Q6J("ngIf",!e.addMoreReferral),t.xp6(1),t.Q6J("ngIf",!e.addMoreReferral)}}function Yr(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"li")(2,"div",1)(3,"label",311),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",145)(7,"div",312),t._UZ(8,"input",313),t.ALo(9,"translate"),t._UZ(10,"mat-datepicker",null,314),t.TgZ(12,"div",315)(13,"span",316)(14,"mat-datepicker-toggle",317),t._UZ(15,"img",318),t.qZA()()()()()()(),t.TgZ(16,"li")(17,"div",1)(18,"label",311),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"div",145),t._UZ(22,"ng-select",319),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"li")(25,"div",1)(26,"label",320),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",321),t._UZ(30,"input",322),t.ALo(31,"translate"),t.qZA()()(),t.BQk()),2&n){const e=t.MAs(11),i=t.oxw(3);t.xp6(4),t.hij("",t.lcZ(5,12,"Select date"),"*"),t.xp6(4),t.s9C("placeholder",t.lcZ(9,14,"Enter date")),t.Q6J("min",i.minDate)("matDatepicker",e),t.xp6(6),t.Q6J("for",e),t.xp6(5),t.hij("",t.lcZ(20,16,"Select time"),"*"),t.xp6(3),t.s9C("placeholder",t.lcZ(23,18,"Select time")),t.Q6J("items",i.timeList)("clearable",!1)("searchable",!0),t.xp6(5),t.Oqu(t.lcZ(28,20,"Reason for follow-up")),t.xp6(3),t.s9C("placeholder",t.lcZ(31,22,"Type here"))}}function Jr(n,a){if(1&n&&(t.TgZ(0,"div",239)(1,"button",323),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",e.followUpForm.invalid),t.xp6(1),t.hij(" ",t.lcZ(3,2,"Save")," ")}}function Qr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",195),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.saveFollowUp())}),t.TgZ(1,"ul",18)(2,"li")(3,"div",1)(4,"label",308),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",139)(8,"div",140),t._UZ(9,"input",309),t.ALo(10,"translate"),t.TgZ(11,"div",142)(12,"label"),t._uU(13),t.ALo(14,"translate"),t.qZA()()(),t.TgZ(15,"div",140)(16,"input",310),t.NdJ("change",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.saveFollowUp())}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",142)(19,"label"),t._uU(20),t.ALo(21,"translate"),t.qZA()()()()()(),t.YNc(22,Yr,32,24,"ng-container",117),t.qZA(),t.YNc(23,Jr,4,4,"div",199),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("formGroup",e.followUpForm),t.xp6(5),t.Oqu(t.lcZ(6,8,"Do you want to have follow up with the patient?")),t.xp6(4),t.s9C("value",t.lcZ(10,10,"Yes")),t.xp6(4),t.Oqu(t.lcZ(14,12,"Yes")),t.xp6(3),t.s9C("value",t.lcZ(17,14,"No")),t.xp6(4),t.Oqu(t.lcZ(21,16,"No")),t.xp6(2),t.Q6J("ngIf","Yes"==e.followUpForm.value.wantFollowUp||"\u0414\u0430"==e.followUpForm.value.wantFollowUp),t.xp6(1),t.Q6J("ngIf",e.isVisitNoteProvider&&!e.visitEnded&&!e.followUpForm.value.present&&"Yes"==e.followUpForm.value.wantFollowUp||"\u0414\u0430"==e.followUpForm.value.wantFollowUp)}}function zr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",325),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.deleteFollowUp())}),t._UZ(1,"img",244),t.qZA()}}function jr(n,a){if(1&n&&(t.TgZ(0,"div",204)(1,"table",205)(2,"thead")(3,"tr")(4,"th",206),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",206),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",206),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",206),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"th",206),t.qZA()(),t.TgZ(17,"tbody")(18,"tr")(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"date"),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA(),t.TgZ(28,"td",241),t.YNc(29,zr,2,0,"button",324),t.qZA()()()()()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,9,"Follow Up Requested")),t.xp6(3),t.Oqu(t.lcZ(9,11,"Date")),t.xp6(3),t.Oqu(t.lcZ(12,13,"Time")),t.xp6(3),t.Oqu(t.lcZ(15,15,"Reason")),t.xp6(6),t.Oqu(e.followUpForm.value.wantFollowUp),t.xp6(2),t.Oqu(e.followUpForm.value.followUpDate?t.xi3(23,17,e.followUpForm.value.followUpDate,"dd MMMM yyyy"):"-"),t.xp6(3),t.Oqu(e.followUpForm.value.followUpTime?e.followUpForm.value.followUpTime:"-"),t.xp6(2),t.Oqu(e.followUpForm.value.followUpReason?e.followUpForm.value.followUpReason:"-"),t.xp6(2),t.Q6J("ngIf",e.isVisitNoteProvider&&!e.visitEnded)}}function Hr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"mat-accordion",12)(4,"mat-expansion-panel",191,192)(6,"mat-expansion-panel-header")(7,"mat-panel-title")(8,"div",15),t._UZ(9,"img",193),t.TgZ(10,"h6",194),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"mat-icon"),t._uU(14),t.qZA()(),t.TgZ(15,"form",195),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.savePatientInteraction())}),t.TgZ(16,"ul",18)(17,"li")(18,"div",1)(19,"label",196),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.YNc(22,Eo,9,5,"div",197),t.YNc(23,Lo,4,3,"ng-template",null,198,t.W1O),t.qZA()(),t.YNc(25,Do,20,15,"li",117),t.qZA(),t.YNc(26,Vo,4,4,"div",199),t.YNc(27,Ro,20,11,"div",200),t.qZA()(),t.TgZ(28,"mat-expansion-panel",201,202)(30,"mat-expansion-panel-header")(31,"mat-panel-title")(32,"div",15),t._UZ(33,"img",203),t.TgZ(34,"h6",194),t._uU(35),t.ALo(36,"translate"),t.qZA()()(),t.TgZ(37,"mat-icon"),t._uU(38),t.qZA()(),t.TgZ(39,"div",204)(40,"table",205)(41,"thead")(42,"tr")(43,"th",206),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th",206),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"th",206),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._UZ(52,"th",206),t.qZA()(),t.TgZ(53,"tbody"),t.YNc(54,Qo,2,1,"ng-container",117),t.YNc(55,jo,2,1,"ng-container",117),t.qZA()()(),t.YNc(56,Go,2,1,"ng-container",117),t.qZA(),t.TgZ(57,"mat-expansion-panel",191,207)(59,"mat-expansion-panel-header")(60,"mat-panel-title")(61,"div",15),t._UZ(62,"img",208),t.TgZ(63,"h6",194),t._uU(64),t.ALo(65,"translate"),t.qZA()()(),t.TgZ(66,"mat-icon"),t._uU(67),t.qZA()(),t.YNc(68,Wo,2,1,"ul",209),t.YNc(69,Ko,3,3,"ng-template",null,210,t.W1O),t.YNc(71,er,3,3,"form",211),t.qZA(),t.TgZ(72,"mat-expansion-panel",212,213)(74,"mat-expansion-panel-header")(75,"mat-panel-title")(76,"div",15),t._UZ(77,"img",214),t.TgZ(78,"h6",194),t._uU(79),t.ALo(80,"translate"),t.qZA()()(),t.TgZ(81,"mat-icon"),t._uU(82),t.qZA()(),t.TgZ(83,"form",195),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addMedicine())}),t.TgZ(84,"div",215)(85,"table",205)(86,"thead")(87,"tr")(88,"th",206),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.TgZ(91,"th",206),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"th",206),t._uU(95),t.ALo(96,"translate"),t.qZA(),t.TgZ(97,"th",206),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.TgZ(100,"th",206),t._uU(101),t.ALo(102,"translate"),t.qZA(),t._UZ(103,"th",206),t.qZA()(),t.TgZ(104,"tbody"),t.YNc(105,ar,2,1,"ng-container",117),t.YNc(106,or,4,3,"ng-template",null,216,t.W1O),t.YNc(108,cr,4,3,"ng-container",117),t.qZA()()()(),t.TgZ(109,"h6",217),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.YNc(112,ur,3,1,"ng-container",117),t.YNc(113,mr,3,3,"ng-template",null,218,t.W1O),t.YNc(115,_r,3,2,"ng-container",117),t.qZA(),t.TgZ(116,"mat-expansion-panel",219,220)(118,"mat-expansion-panel-header")(119,"mat-panel-title")(120,"div",15),t._UZ(121,"img",221),t.TgZ(122,"h6",194),t._uU(123),t.ALo(124,"translate"),t.qZA()()(),t.TgZ(125,"mat-icon"),t._uU(126),t.qZA()(),t.YNc(127,vr,2,1,"ul",209),t.YNc(128,xr,3,3,"ng-template",null,222,t.W1O),t.YNc(130,Ar,3,2,"ng-container",117),t.qZA(),t.TgZ(131,"mat-expansion-panel",212,223)(133,"mat-expansion-panel-header")(134,"mat-panel-title")(135,"div",15),t._UZ(136,"img",224),t.TgZ(137,"h6",194),t._uU(138),t.ALo(139,"translate"),t.qZA()()(),t.TgZ(140,"mat-icon"),t._uU(141),t.qZA()(),t.YNc(142,yr,2,1,"ul",209),t.YNc(143,Sr,3,3,"ng-template",null,225,t.W1O),t.YNc(145,Mr,3,2,"ng-container",117),t.qZA(),t.TgZ(146,"mat-expansion-panel",219,226)(148,"mat-expansion-panel-header")(149,"mat-panel-title")(150,"div",15),t._UZ(151,"img",227),t.TgZ(152,"h6",194),t._uU(153),t.ALo(154,"translate"),t.qZA()()(),t.TgZ(155,"mat-icon"),t._uU(156),t.qZA()(),t.TgZ(157,"form",195),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addReferral())}),t.TgZ(158,"div",215)(159,"table",205)(160,"thead")(161,"tr")(162,"th",206),t._uU(163),t.ALo(164,"translate"),t.qZA(),t.TgZ(165,"th",206),t._uU(166),t.ALo(167,"translate"),t.qZA(),t.TgZ(168,"th",206),t._uU(169),t.ALo(170,"translate"),t.qZA(),t.TgZ(171,"th",206),t._uU(172),t.ALo(173,"translate"),t.qZA(),t._UZ(174,"th",206),t.qZA()(),t.TgZ(175,"tbody"),t.YNc(176,kr,2,1,"ng-container",117),t.YNc(177,Ur,4,3,"ng-template",null,228,t.W1O),t.YNc(179,Rr,4,3,"ng-container",117),t.qZA()()()()(),t.TgZ(180,"mat-expansion-panel",201,229)(182,"mat-expansion-panel-header")(183,"mat-panel-title")(184,"div",15),t._UZ(185,"img",230),t.TgZ(186,"h6",194),t._uU(187),t.ALo(188,"translate"),t.qZA()()(),t.TgZ(189,"mat-icon"),t._uU(190),t.qZA()(),t.YNc(191,Qr,24,18,"form",231),t.YNc(192,jr,30,20,"div",200),t.qZA()()()()()}if(2&n){const e=t.MAs(5),i=t.MAs(24),o=t.MAs(29),r=t.MAs(58),c=t.MAs(73),p=t.MAs(117),m=t.MAs(132),_=t.MAs(147),b=t.MAs(181),u=t.oxw();t.xp6(4),t.Q6J("expanded",!0),t.xp6(7),t.Oqu(t.lcZ(12,64,"Patient interaction")),t.xp6(3),t.Oqu(e.expanded?"remove":"add"),t.xp6(1),t.Q6J("formGroup",u.patientInteractionForm),t.xp6(5),t.Oqu(t.lcZ(21,66,"Connect with patient")),t.xp6(2),t.Q6J("ngIf","NA"!=u.getPersonAttributeValue("Telephone Number"))("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",!u.patientInteractionForm.value.present),t.xp6(1),t.Q6J("ngIf",u.isVisitNoteProvider&&!u.visitEnded&&!u.patientInteractionForm.value.present),t.xp6(1),t.Q6J("ngIf",u.patientInteractionForm.value.present),t.xp6(1),t.Q6J("expanded",!0),t.xp6(7),t.hij("",t.lcZ(36,68,"Diagnosis"),"*"),t.xp6(3),t.Oqu(o.expanded?"remove":"add"),t.xp6(6),t.Oqu(t.lcZ(45,70,"Diagnosis")),t.xp6(3),t.Oqu(t.lcZ(48,72,"Type")),t.xp6(3),t.Oqu(t.lcZ(51,74,"Status")),t.xp6(4),t.Q6J("ngIf",u.existingDiagnosis.length),t.xp6(1),t.Q6J("ngIf",u.isVisitNoteProvider&&!u.visitEnded),t.xp6(1),t.Q6J("ngIf",u.isVisitNoteProvider&&!u.visitEnded),t.xp6(1),t.Q6J("expanded",!0),t.xp6(7),t.Oqu(t.lcZ(65,76,"Note")),t.xp6(3),t.Oqu(r.expanded?"remove":"add"),t.xp6(1),t.Q6J("ngIf",u.notes.length),t.xp6(3),t.Q6J("ngIf",u.isVisitNoteProvider&&!u.visitEnded),t.xp6(1),t.Q6J("expanded",!0),t.xp6(7),t.Oqu(t.lcZ(80,78,"Medication")),t.xp6(3),t.Oqu(c.expanded?"remove":"add"),t.xp6(1),t.Q6J("formGroup",u.addMedicineForm),t.xp6(6),t.Oqu(t.lcZ(90,80,"Drug name")),t.xp6(3),t.Oqu(t.lcZ(93,82,"Strength")),t.xp6(3),t.Oqu(t.lcZ(96,84,"No. of days")),t.xp6(3),t.Oqu(t.lcZ(99,86,"Timing")),t.xp6(3),t.Oqu(t.lcZ(102,88,"Remarks")),t.xp6(4),t.Q6J("ngIf",u.medicines.length),t.xp6(3),t.Q6J("ngIf",u.isVisitNoteProvider&&!u.visitEnded),t.xp6(2),t.hij("",t.lcZ(111,90,"Additional instructions"),"*"),t.xp6(2),t.Q6J("ngIf",u.additionalInstructions.length),t.xp6(3),t.Q6J("ngIf",u.isVisitNoteProvider&&!u.visitEnded),t.xp6(1),t.Q6J("expanded",!0),t.xp6(7),t.Oqu(t.lcZ(124,92,"Advice")),t.xp6(3),t.Oqu(p.expanded?"remove":"add"),t.xp6(1),t.Q6J("ngIf",u.advices.length),t.xp6(3),t.Q6J("ngIf",u.isVisitNoteProvider&&!u.visitEnded),t.xp6(1),t.Q6J("expanded",!0),t.xp6(7),t.Oqu(t.lcZ(139,94,"Test")),t.xp6(3),t.Oqu(m.expanded?"remove":"add"),t.xp6(1),t.Q6J("ngIf",u.tests.length),t.xp6(3),t.Q6J("ngIf",u.isVisitNoteProvider&&!u.visitEnded),t.xp6(1),t.Q6J("expanded",!0),t.xp6(7),t.Oqu(t.lcZ(154,96,"Referral-Out")),t.xp6(3),t.Oqu(_.expanded?"remove":"add"),t.xp6(1),t.Q6J("formGroup",u.addReferralForm),t.xp6(6),t.Oqu(t.lcZ(164,98,"Referral to")),t.xp6(3),t.Oqu(t.lcZ(167,100,"Referral facility")),t.xp6(3),t.Oqu(t.lcZ(170,102,"Priority of Referral")),t.xp6(3),t.Oqu(t.lcZ(173,104,"Referral for (Reason)")),t.xp6(4),t.Q6J("ngIf",u.referrals.length),t.xp6(3),t.Q6J("ngIf",u.isVisitNoteProvider&&!u.visitEnded),t.xp6(1),t.Q6J("expanded",!0),t.xp6(7),t.AsE("",t.lcZ(188,106,"Follow-up"),"",null==u.ollowUpForm?null:u.ollowUpForm.value,""),t.xp6(3),t.Oqu(b.expanded?"remove":"add"),t.xp6(1),t.Q6J("ngIf",!u.followUpForm.value.present),t.xp6(1),t.Q6J("ngIf",u.followUpForm.value.present)}}function Gr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",328),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.sharePrescription())}),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.visitCompleted?t.lcZ(2,2,"Update"):t.lcZ(3,4,"Share")," ",t.lcZ(4,6,"prescription")," ")}}function Br(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",329),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openVisitPrescriptionModal(null==o.visit?null:o.visit.uuid))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"View prescription")," "))}function $r(n,a){if(1&n&&(t.TgZ(0,"div",189),t.YNc(1,Gr,5,8,"button",326),t.YNc(2,Br,3,3,"button",327),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.visitNotePresent&&!e.visitEnded&&e.isVisitNoteProvider),t.xp6(1),t.Q6J("ngIf",e.visitNotePresent&&e.visitCompleted)}}function Wr(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",330)(1,"img",331),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.startCall())}),t.qZA(),t.TgZ(2,"img",332),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.startChat())}),t.qZA()()}}const Kr=function(){return["Awaiting Visit","In-progress Visit","Completed Visit","Ended Visit"]},Xr=function(n,a){return{"text-important-red":n,"text-important-green":a}};class ts extends x.LF{format(a,e){return"input"===e?(0,g.p6)(a,"dd MMMM yyyy",this.locale):a.toDateString()}}let es=(()=>{class n{constructor(e,i,o,r,c,p,m,_,b,u,mt,Hs,Gs,Bs){this.pageTitleService=e,this.route=i,this.router=o,this.visitService=r,this.appointmentService=c,this.diagnosisService=p,this.toastr=m,this.coreService=_,this.encounterService=b,this.linkSvc=u,this.translateService=mt,this.translationService=Hs,this.visitSummaryService=Gs,this.mindmapService=Bs,this.baseURL=y.N.baseURL,this.vitalObs=[],this.cheifComplaints=[],this.checkUpReasonData=[],this.physicalExaminationData=[],this.patientHistoryData=[],this.additionalDocs=[],this.eyeImages=[],this.notes=[],this.medicines=[],this.existingDiagnosis=[],this.advices=[],this.additionalInstructions=[],this.tests=[],this.referrals=[],this.pastVisits=[],this.minDate=new Date,this.selectedTabIndex=0,this.facilities=s.AS.facilities,this.specializations=s.W$.specializations,this.refer_specializations=s.jd.refer_specializations,this.refer_priorities=s.R5.refer_priorities,this.strengthList=s.sm.strengthList,this.daysList=s.an.daysList,this.timingList=s.LY.timingList,this.timeList=[],this.drugNameList=[],this.advicesList=[],this.testsList=[],this.isVisitNoteProvider=!1,this.showAll=!0,this.addMoreNote=!1,this.addMoreMedicine=!1,this.addMoreAdditionalInstruction=!1,this.addMoreAdvice=!1,this.addMoreTest=!1,this.addMoreReferral=!1,this.addMoreDiagnosis=!1,this.displayedColumns=["action","created_on","consulted_by","cheif_complaint","summary","prescription","prescription_sent"],this.dataSource=new v.by,this.dSearchSubject=new R.xQ,this.additionalNotes="",this.isCalling=!1,this.openChatFlag=!1,this.mainSearch=(O,I)=>O.pipe((0,Ut.b)(200),(0,lt.x)(),(0,z.U)(Dt=>Dt.length<1?[]:I.filter($s=>$s.toLowerCase().indexOf(Dt.toLowerCase())>-1).slice(0,10))),this.search=O=>this.mainSearch(O,this.advicesList),this.search2=O=>this.mainSearch(O,this.testsList),this.search3=O=>this.mainSearch(O,this.drugNameList.map(I=>I.name)),this.search4=O=>this.mainSearch(O,this.strengthList.map(I=>I.name)),this.search5=O=>this.mainSearch(O,this.daysList.map(I=>I.name)),this.search6=O=>this.mainSearch(O,this.timingList.map(I=>I.name)),this.openChatFlag=this.router.getCurrentNavigation()?.extras?.state?.openChat,this.referSpecialityForm=new l.cw({refer:new l.NI(!1,[l.kI.required]),specialization:new l.NI(null,[l.kI.required])}),this.patientInteractionForm=new l.cw({uuid:new l.NI(null),present:new l.NI(!1,[l.kI.required]),spoken:new l.NI(null,[l.kI.required])}),this.diagnosisForm=new l.cw({diagnosisName:new l.NI(null,l.kI.required),diagnosisType:new l.NI(null,l.kI.required),diagnosisStatus:new l.NI(null,l.kI.required)}),this.addNoteForm=new l.cw({note:new l.NI(null,[l.kI.required])}),this.addMedicineForm=new l.cw({drug:new l.NI(null,[l.kI.required]),strength:new l.NI(null,[l.kI.required]),days:new l.NI(null,[l.kI.required]),timing:new l.NI(null,[l.kI.required]),remark:new l.NI(null,[l.kI.required])}),this.addAdditionalInstructionForm=new l.cw({note:new l.NI(null,[l.kI.required])}),this.addAdviceForm=new l.cw({advice:new l.NI(null,[l.kI.required])}),this.addTestForm=new l.cw({test:new l.NI(null,[l.kI.required])}),this.addReferralForm=new l.cw({facility:new l.NI(null,[l.kI.required]),speciality:new l.NI(null,[l.kI.required]),priority_refer:new l.NI("Elective",[l.kI.required]),reason:new l.NI(null)}),this.followUpForm=new l.cw({present:new l.NI(!1,[l.kI.required]),wantFollowUp:new l.NI([l.kI.required]),followUpDate:new l.NI(null),followUpTime:new l.NI(null),followUpReason:new l.NI(null),uuid:new l.NI(null)}),this.diagnosisSubject=new wa.X([]),this.diagnosis$=this.diagnosisSubject.asObservable()}ngOnInit(){this.translateService.use((0,f.TL)(!1,s.Mj.SELECTED_LANGUAGE)),this.pageTitleService.setTitle({title:"",imgUrl:""});const e=this.route.snapshot.paramMap.get("id");this.provider=(0,f.TL)(!0,s.On.PROVIDER),Pa.forEach(i=>{this.drugNameList.push({id:i.id,name:this.translateService.instant(i.name)})}),this.getVisit(e),this.formControlValueChanges(),this.dSearchSubject.pipe((0,Ut.b)(500),(0,lt.x)()).subscribe(i=>{this.searchDiagnosis(i)})}checkOpenChatBoxFlag(){this.openChatFlag&&setTimeout(()=>{this.startChat()},1e3)}formControlValueChanges(){this.referSpecialityForm.get("refer").valueChanges.subscribe(e=>{e&&this.referSpecialityForm.get(s.On.SPECIALIZATION).setValue(null)}),this.followUpForm.get("wantFollowUp").valueChanges.subscribe(e=>{"Yes"===e||"\u0414\u0430"===e?(this.followUpForm.get("followUpDate").setValidators(l.kI.required),this.followUpForm.get("followUpDate").updateValueAndValidity(),this.followUpForm.get("followUpTime").setValidators(l.kI.required),this.followUpForm.get("followUpTime").updateValueAndValidity()):(this.followUpForm.get("followUpDate").clearValidators(),this.followUpForm.get("followUpDate").updateValueAndValidity(),this.followUpForm.get("followUpTime").clearValidators(),this.followUpForm.get("followUpTime").updateValueAndValidity())}),this.followUpForm.get("followUpDate").valueChanges.subscribe(e=>{this.timeList=e?this.visitSummaryService.getHours(!1,e):[]})}getVisit(e){this.visitService.fetchVisitDetails(e).subscribe(i=>{i&&(this.visit=i,this.visitSummaryService.checkIfEncounterExists(i.encounters,s.fj.FLAGGED)?this.visit.visitUploadTime=this.visitSummaryService.checkIfEncounterExists(i.encounters,s.fj.FLAGGED).encounterDatetime:(this.visitSummaryService.checkIfEncounterExists(i.encounters,s.fj.ADULTINITIAL)||this.visitSummaryService.checkIfEncounterExists(i.encounters,s.fj.VITALS))&&(this.visit.visitUploadTime=this.visitSummaryService.checkIfEncounterExists(i.encounters,s.fj.ADULTINITIAL).encounterDatetime),this.checkVisitStatus(i.encounters),this.visitService.patientInfo(i.patient.uuid).subscribe(o=>{o&&(this.patient=o,this.clinicName=i.location.display,this.visitNotePresent=this.visitSummaryService.checkIfEncounterExists(i.encounters,s.fj.VISIT_NOTE),this.visitCompleted=this.visitSummaryService.checkIfEncounterExists(i.encounters,s.fj.VISIT_COMPLETE),this.visitEnded=this.visitSummaryService.checkIfEncounterExists(i.encounters,s.fj.PATIENT_EXIT_SURVEY)||i.stopDatetime,this.getPastVisitHistory(),this.visitNotePresent&&(this.visitNotePresent.encounterProviders.forEach(r=>{r.provider.uuid===this.provider.uuid&&(this.isVisitNoteProvider=!0)}),this.checkIfPatientInteractionPresent(i.attributes),this.checkIfDiagnosisPresent(),this.checkIfNotePresent(),this.checkIfMedicationPresent(),this.getAdvicesList(),this.checkIfAdvicePresent(),this.getTestsList(),this.checkIfTestPresent(),this.checkIfReferralPresent(),this.checkIfFollowUpPresent()),this.getAdditionalNote(i.attributes),this.getAppointment(i.uuid),this.getVisitProvider(i.encounters),this.getVitalObs(i.encounters),this.getCheckUpReason(i.encounters),this.getPhysicalExamination(i.encounters),this.getEyeImages(i),this.getMedicalHistory(i.encounters),this.getVisitAdditionalDocs(i)),this.checkOpenChatBoxFlag()}))},i=>{this.router.navigate(["/dashboard"])})}getVisitProvider(e){e.forEach(i=>{null!==i.display.match(s.fj.ADULTINITIAL)&&(this.providerName=i.encounterProviders[0].provider.person.display,(0,f.pY)(s.fj.PATIENT_VISIT_PROVIDER,JSON.stringify(i.encounterProviders[0])),i.encounterProviders[0].provider.attributes.forEach(o=>{null!=o.display.match(s.On.PHONE_NUMBER)&&(this.hwPhoneNo=o.value)}))})}getAppointment(e){this.appointmentService.getAppointment(e).subscribe(i=>{i&&(this.visitAppointment=i?.data?.slotJsDate)})}getPatientIdentifier(e){let i="";return this.patient&&this.patient.identifiers.forEach(o=>{o.identifierType.display===e&&(i=o.identifier)}),i}getVitalObs(e){e.forEach(i=>{i.encounterType.display===s.fj.VITALS&&(this.vitalObs=i.obs)})}getObsValue(e){let i=null;return this.vitalObs.forEach(o=>{o.concept.display===e&&(i=o.value)}),i}getCheckUpReason(e){this.cheifComplaints=[],this.checkUpReasonData=[],e.forEach(i=>{i.encounterType.display===s.fj.ADULTINITIAL&&i.obs.forEach(o=>{if(o.concept.display===s.fj.CURRENT_COMPLAINT){this.currentComplaint=o.value;const r=this.visitService.getData(o)?.value.split("<b>");for(let c=0;c<r.length;c++)if(r[c]&&r[c].length>1){const p=r[c].split("<");p[0].match(s.fj.ASSOCIATED_SYMPTOMS)||this.cheifComplaints.push(p[0]);const m=r[c].split("<br/>");if(m[0].includes(s.fj.ASSOCIATED_SYMPTOMS)){const _={};_.title=this.translateService.instant(s.fj.ASSOCIATED_SYMPTOMS),_.data=[];for(let b=1;b<m.length;b+=2)m[b].trim()&&m[b].trim().length>1&&_.data.push({key:m[b].replace("\u2022 ","").replace(" -",""),value:m[b+1]});this.checkUpReasonData.push(_)}else{const _={};_.title=m[0].replace("</b>:",""),_.data=[];for(let b=1;b<m.length;b++)if(m[b].trim()&&m[b].trim().length>1){const u=m[b].split("-");_.data.push({key:u[0].replace("\u2022 ",""),value:u.slice(1,u.length).join("-")})}this.checkUpReasonData.push(_)}}}})})}getPhysicalExamination(e){this.physicalExaminationData=[],e.forEach(i=>{i.encounterType.display===s.fj.ADULTINITIAL&&i.obs.forEach(o=>{if("PHYSICAL EXAMINATION"===o.concept.display){const r=this.visitService.getData(o)?.value.replace(new RegExp("<br/>\u25ba","g"),"").split("<b>");for(let c=0;c<r.length;c++)if(r[c]){const p=r[c].split("<br/>");if(p[0].includes("Abdomen")){const m={};m.title=p[0].replace("</b>","").replace(":","").trim(),m.data=[];for(let _=1;_<p.length;_++)p[_].trim()&&m.data.push({key:p[_].replace("\u2022 ",""),value:null});this.physicalExaminationData.push(m)}else{const m={};m.title=p[0].replace("</b>","").replace(":","").trim(),m.data=[];for(let _=1;_<p.length;_++)if(p[_].trim()){const b=p[_].split("-");m.data.push({key:b[0].replace("\u2022 ",""),value:b.slice(1,b.length).join("-")})}this.physicalExaminationData.push(m)}}}})})}getMedicalHistory(e){this.patientHistoryData=[],e.forEach(i=>{i.encounterType.display===s.fj.ADULTINITIAL&&i.obs.forEach(o=>{if(o.concept.display===s.fj.MEDICAL_HISTORY){const r=this.visitService.getData(o)?.value.split("<br/>"),c={};c.title=this.translateService.instant("Patient history"),c.data=[];for(let p=0;p<r.length;p++)if(r[p]){const m=r[p].split("-");c.data.push({key:m[0].replace("\u2022 ","").trim(),value:m.slice(1,m.length).join("-").trim()})}this.patientHistoryData.push(c)}if(o.concept.display===s.fj.FAMILY_HISTORY){const r=this.visitService.getData(o)?.value.split("<br/>"),c={};c.title=this.translateService.instant("Family history"),c.data=[];for(let p=0;p<r.length;p++)r[p]&&(r[p].includes(":")?r[p].split(":")[1].trim().split("\u2022").forEach(b=>{if(b.trim()){const u=b.split(",");c.data.push({key:u.shift().trim(),value:u.length?u.toString().trim():" "})}}):c.data.push({key:r[p].replace("\u2022","").trim(),value:null}));this.patientHistoryData.push(c)}})})}getEyeImages(e){this.eyeImages=[],this.diagnosisService.getObs(e.patient.uuid,s.dF.conceptPhysicalExamination).subscribe(i=>{i.results.forEach(o=>{null!==o.encounter&&o.encounter.visit.uuid===e.uuid&&this.eyeImages.push({src:`${this.baseURL}/obs/${o.uuid}/value`,section:o.comment})})})}previewEyeImages(e,i){this.coreService.openImagesPreviewModal({startIndex:e,source:this.getImagesBySection(i)}).subscribe(o=>{})}getVisitAdditionalDocs(e){this.additionalDocs=[],this.diagnosisService.getObs(e.patient.uuid,s.dF.conceptAdditionlDocument).subscribe(i=>{i.results.forEach(o=>{null!==o.encounter&&o.encounter.visit.uuid===e.uuid&&this.additionalDocs.push({src:`${this.baseURL}/obs/${o.uuid}/value`,section:o.comment})})})}previewDocImages(e){this.coreService.openImagesPreviewModal({startIndex:e,source:this.additionalDocs}).subscribe(i=>{})}onTabChange(e){this.selectedTabIndex=e}getAge(e){const i=h().diff(e,"years"),o=h().diff(e,"months"),r=h().diff(e,"days");return i>1?`${i} ${this.translateService.instant("years")}`:o>1?`${o} ${this.translateService.instant("months")}`:`${r} ${this.translateService.instant("days")}`}getPersonAttributeValue(e){let i=this.translateService.instant("NA");return this.patient&&this.patient.person.attributes.forEach(o=>{e===o.attributeType.display&&(i=o.value)}),i}getWhatsAppLink(){return this.visitService.getWhatsappLink(this.getPersonAttributeValue(s.On.TELEPHONE_NUMBER),"Hello I'm calling for consultation")}replaceWithStar(e){return e.replace(e.substring(0,e.length-4),"*****")}checkVisitStatus(e){this.visitSummaryService.checkIfEncounterExists(e,s.fj.PATIENT_EXIT_SURVEY)?this.visitStatus=s.fj.ENDED_VISIT:this.visitSummaryService.checkIfEncounterExists(e,s.fj.VISIT_COMPLETE)?this.visitStatus=s.fj.COMPLETED_VISIT:this.visitSummaryService.checkIfEncounterExists(e,s.fj.VISIT_NOTE)?this.visitStatus=s.fj.IN_PROGRESS_VISIT:this.visitSummaryService.checkIfEncounterExists(e,s.fj.FLAGGED)?(this.visit.uploadTime=this.visitSummaryService.checkIfEncounterExists(e,s.fj.FLAGGED).encounterDatetime,this.visitStatus=s.fj.PRIORITY_VISIT):(this.visitSummaryService.checkIfEncounterExists(e,s.fj.ADULTINITIAL)||this.visitSummaryService.checkIfEncounterExists(e,s.fj.VITALS))&&(this.visit.uploadTime=this.visitSummaryService.checkIfEncounterExists(e,s.fj.ADULTINITIAL).encounterDatetime,this.visitStatus=s.fj.AWAITING_VISIT)}referSpecialist(){this.referSpecialityForm.invalid?this.toastr.warning(this.translateService.instant("Please select specialization"),this.translateService.instant("Invalid!")):this.visitNotePresent?this.toastr.warning(this.translateService.instant("Can't refer, visit note already exists for this visit!"),this.translateService.instant("Can't refer")):this.coreService.openConfirmationDialog({confirmationMsg:"Are you sure to re-assign this visit to another doctor?",cancelBtnText:"Cancel",confirmBtnText:"Confirm"}).afterClosed().subscribe(e=>{if(e){const i=this.visitSummaryService.checkIfAttributeExists(this.visit.attributes);i?this.visitService.updateAttribute(this.visit.uuid,i.uuid,{attributeType:i.attributeType.uuid,value:this.referSpecialityForm.value.specialization}).subscribe(o=>{o&&this.updateEncounterForRefer()}):this.visitService.postAttribute(this.visit.uuid,{attributeType:i.attributeType.uuid,value:this.referSpecialityForm.value.specialization}).subscribe(o=>{o&&this.updateEncounterForRefer()})}})}updateEncounterForRefer(){const e=new Date(Date.now()-3e4);this.encounterService.postEncounter({patient:this.visit.patient.uuid,encounterType:"8d5b27bc-c2cc-11de-8d13-0010c6dffd0f",encounterProviders:[{provider:this.provider.uuid,encounterRole:"73bbb069-9781-4afc-a9d1-54b6b2270e04"}],visit:this.visit.uuid,encounterDatetime:e}).subscribe(c=>{c&&(this.router.navigate(["/dashboard"]),this.toastr.success(this.translateService.instant("Visit has been re-assigned to the another speciality doctor successfully."),this.translateService.instant("Visit Re-assigned!")))})}startChat(){if(this.dialogRef1)return this.dialogRef1.close(),void(this.isCalling=!1);this.isCalling=!0,this.dialogRef1=this.coreService.openChatBoxModal({patientId:this.visit.patient.uuid,visitId:this.visit.uuid,patientName:this.patient.person.display,patientPersonUuid:this.patient.person.uuid,patientOpenMrsId:this.getPatientIdentifier("OpenMRS ID")}),this.dialogRef1.afterClosed().subscribe(e=>{this.dialogRef1=void 0,this.isCalling=!1})}startCall(){if(this.dialogRef2)return this.dialogRef2.close(),void(this.isCalling=!1);this.isCalling=!0,this.dialogRef2=this.coreService.openVideoCallModal({patientId:this.visit.patient.uuid,visitId:this.visit.uuid,connectToDrId:this.visitSummaryService.userId,patientName:this.patient.person.display,patientPersonUuid:this.patient.person.uuid,patientOpenMrsId:this.getPatientIdentifier("OpenMRS ID"),initiator:"dr",drPersonUuid:this.provider?.person.uuid,patientAge:this.patient.person.age,patientGender:this.patient.person.gender}),this.dialogRef2.afterClosed().subscribe(e=>{this.dialogRef2=void 0,this.isCalling=!1})}checkIfDateOldThanOneDay(e){const i=h().diff(h(e),"hours"),o=h().diff(h(e),"minutes");return i>24?h(e).format("DD MMM, YYYY"):i<1?o<0?`Due : ${h(e).format("DD MMM, YYYY hh:mm A")}`:`${o} minutes ago`:`${i} hrs ago`}startVisitNote(){const e={patient:this.visit.patient.uuid,encounterType:"d7151f82-c1f3-4152-a605-2f9ea7414a79",encounterProviders:[{provider:this.provider.uuid,encounterRole:"73bbb069-9781-4afc-a9d1-54b6b2270e03"}],visit:this.visit.uuid,encounterDatetime:new Date(Date.now()-3e4)};this.encounterService.postEncounter(e).subscribe(i=>{i&&this.getVisit(this.visit.uuid)})}checkIfPatientInteractionPresent(e){e.forEach(i=>{i.attributeType.display===s.fj.PATIENT_INTERACTION&&this.patientInteractionForm.patchValue({present:!0,spoken:i.value,uuid:i.uuid})})}getAdditionalNote(e){e.forEach(i=>{"AdditionalNote"===i.attributeType.display&&(this.additionalNotes=i.value)})}savePatientInteraction(){this.patientInteractionForm.invalid||!this.isVisitNoteProvider||this.visitService.postAttribute(this.visit.uuid,{attributeType:"6cc0bdfe-ccde-46b4-b5ff-e3ae238272cc",value:this.patientInteractionForm.value.spoken}).subscribe(e=>{e&&this.patientInteractionForm.patchValue({present:!0,uuid:e.uuid})})}deletePatientInteraction(){this.visitService.deleteAttribute(this.visit.uuid,this.patientInteractionForm.value.uuid).subscribe(()=>{this.patientInteractionForm.patchValue({present:!1,spoken:null,uuid:null})})}toggleDiagnosis(){this.addMoreDiagnosis=!this.addMoreDiagnosis,this.diagnosisForm.reset()}checkIfDiagnosisPresent(){this.existingDiagnosis=[],this.diagnosisService.getObs(this.visit.patient.uuid,s.dF.conceptDiagnosis).subscribe(e=>{e.results.forEach(i=>{i.encounter.visit.uuid===this.visit.uuid&&this.existingDiagnosis.push({diagnosisName:i.value.split(":")[0].trim(),diagnosisType:i.value.split(":")[1].split("&")[0].trim(),diagnosisStatus:i.value.split(":")[1].split("&")[1].trim(),uuid:i.uuid})})})}onKeyUp(e){this.dSearchSubject.next(e.term)}searchDiagnosis(e){e&&e.length>=3&&this.diagnosisService.getDiagnosisList(e).subscribe(i=>{if(i.results&&i.results.length){const o=[];i.results.forEach(r=>{r&&o.push({name:r.display})}),this.diagnosisSubject.next(o)}else this.diagnosisSubject.next([])},i=>{this.diagnosisSubject.next([])})}saveDiagnosis(){if(!this.diagnosisForm.invalid&&this.isVisitNoteProvider){if(this.existingDiagnosis.find(e=>e.diagnosisName.toLocaleLowerCase()===this.diagnosisForm.value.diagnosisName.toLocaleLowerCase()))return void this.toastr.warning(this.translateService.instant("Diagnosis Already Exist"),this.translateService.instant("Duplicate Diagnosis"));this.encounterService.postObs({concept:s.dF.conceptDiagnosis,person:this.visit.patient.uuid,obsDatetime:new Date,value:`${this.diagnosisForm.value.diagnosisName}:${this.diagnosisForm.value.diagnosisType} & ${this.diagnosisForm.value.diagnosisStatus}`,encounter:this.visitNotePresent.uuid}).subscribe(e=>{e&&(this.existingDiagnosis.push({uuid:e.uuid,...this.diagnosisForm.value}),this.diagnosisForm.reset())})}}deleteDiagnosis(e,i){this.diagnosisService.deleteObs(i).subscribe(()=>{this.existingDiagnosis.splice(e,1)})}toggleNote(){this.addMoreNote=!this.addMoreNote,this.addNoteForm.reset()}checkIfNotePresent(){this.notes=[],this.diagnosisService.getObs(this.visit.patient.uuid,s.dF.conceptNote).subscribe(e=>{e.results.forEach(i=>{i.encounter.visit.uuid===this.visit.uuid&&this.notes.push(i)})})}addNote(){this.addNoteForm.invalid?this.toastr.warning(this.translateService.instant("Please enter note text to add"),this.translateService.instant("Invalid note")):this.notes.find(e=>e.value===this.addNoteForm.value.note)?this.toastr.warning(this.translateService.instant("Note already added, please add another note."),this.translateService.instant("Already Added")):this.encounterService.postObs({concept:s.dF.conceptNote,person:this.visit.patient.uuid,obsDatetime:new Date,value:this.addNoteForm.value.note,encounter:this.visitNotePresent.uuid}).subscribe(e=>{this.notes.push({uuid:e.uuid,value:this.addNoteForm.value.note}),this.addNoteForm.reset()})}deleteNote(e,i){this.diagnosisService.deleteObs(i).subscribe(()=>{this.notes.splice(e,1)})}toggleMedicine(){this.addMoreMedicine=!this.addMoreMedicine,this.addMedicineForm.reset()}toggleAdditionalInstruction(){this.addMoreAdditionalInstruction=!this.addMoreAdditionalInstruction,this.addAdditionalInstructionForm.reset()}checkIfMedicationPresent(){this.medicines=[],this.diagnosisService.getObs(this.visit.patient.uuid,s.dF.conceptMed).subscribe(e=>{e.results.forEach(i=>{i.encounter.visit.uuid===this.visit.uuid&&(i.value.includes(":")?this.medicines.push({drug:i.value?.split(":")[0],strength:i.value?.split(":")[1],days:i.value?.split(":")[2],timing:i.value?.split(":")[3],remark:i.value?.split(":")[4],uuid:i.uuid}):this.additionalInstructions.push(i))})})}addMedicine(){if(!this.addMedicineForm.invalid){if(this.medicines.find(e=>e.drug===this.addMedicineForm.value.drug))return void this.toastr.warning(this.translateService.instant("Drug already added, please add another drug."),this.translateService.instant("Already Added"));this.encounterService.postObs({concept:s.dF.conceptMed,person:this.visit.patient.uuid,obsDatetime:new Date,value:`${this.addMedicineForm.value.drug}:${this.addMedicineForm.value.strength}:${this.addMedicineForm.value.days}:${this.addMedicineForm.value.timing}:${this.addMedicineForm.value.remark}`,encounter:this.visitNotePresent.uuid}).subscribe(e=>{this.medicines.push({...this.addMedicineForm.value,uuid:e.uuid}),this.addMedicineForm.reset()})}}addAdditionalInstruction(){if(!this.addAdditionalInstructionForm.invalid){if(this.additionalInstructions.find(e=>e.value===this.addAdditionalInstructionForm.value.note))return void this.toastr.warning(this.translateService.instant("Additional instruction already added, please add another instruction."),this.translateService.instant("Already Added"));this.encounterService.postObs({concept:s.dF.conceptMed,person:this.visit.patient.uuid,obsDatetime:new Date,value:this.addAdditionalInstructionForm.value.note,encounter:this.visitNotePresent.uuid}).subscribe(e=>{this.additionalInstructions.push({uuid:e.uuid,value:this.addAdditionalInstructionForm.value.note}),this.addAdditionalInstructionForm.reset()})}}deleteMedicine(e,i){this.diagnosisService.deleteObs(i).subscribe(()=>{this.medicines.splice(e,1)})}deleteAdditionalInstruction(e,i){this.diagnosisService.deleteObs(i).subscribe(o=>{this.additionalInstructions.splice(e,1)})}getAdvicesList(){this.diagnosisService.concept("0308000d-77a2-46e0-a6fa-a8c1dcbc3141").subscribe(i=>{i.answers.forEach(r=>{this.advicesList.push(this.translationService.getDropdownTranslation("advice",r.display))})})}toggleAdvice(){this.addMoreAdvice=!this.addMoreAdvice,this.addAdviceForm.reset()}checkIfAdvicePresent(){this.advices=[],this.diagnosisService.getObs(this.visit.patient.uuid,s.dF.conceptAdvice).subscribe(e=>{e.results.forEach(i=>{i.encounter&&i.encounter.visit.uuid===this.visit.uuid&&(i.value.includes("</a>")||this.advices.push(i))})})}addAdvice(){if(!this.addAdviceForm.invalid){if(this.advices.find(e=>e.value===this.addAdviceForm.value.advice))return void this.toastr.warning(this.translateService.instant("Advice already added, please add another advice."),this.translateService.instant("Already Added"));this.encounterService.postObs({concept:s.dF.conceptAdvice,person:this.visit.patient.uuid,obsDatetime:new Date,value:this.addAdviceForm.value.advice,encounter:this.visitNotePresent.uuid}).subscribe(e=>{this.advices.push({uuid:e.uuid,value:this.addAdviceForm.value.advice}),this.addAdviceForm.reset()})}}deleteAdvice(e,i){this.diagnosisService.deleteObs(i).subscribe(()=>{this.advices.splice(e,1)})}getTestsList(){this.diagnosisService.concept("98c5881f-b214-4597-83d4-509666e9a7c9").subscribe(i=>{i.answers.forEach(r=>{this.testsList.push(this.translationService.getDropdownTranslation("tests",r.display))})})}toggleTest(){this.addMoreTest=!this.addMoreTest,this.addTestForm.reset()}checkIfTestPresent(){this.tests=[],this.diagnosisService.getObs(this.visit.patient.uuid,s.dF.conceptTest).subscribe(e=>{e.results.forEach(i=>{i.encounter&&i.encounter.visit.uuid===this.visit.uuid&&this.tests.push(i)})})}addTest(){if(!this.addTestForm.invalid){if(this.tests.find(e=>e.value===this.addTestForm.value.test))return void this.toastr.warning(this.translateService.instant("Test already added, please add another test."),this.translateService.instant("Already Added"));this.encounterService.postObs({concept:s.dF.conceptTest,person:this.visit.patient.uuid,obsDatetime:new Date,value:this.addTestForm.value.test,encounter:this.visitNotePresent.uuid}).subscribe(e=>{this.tests.push({uuid:e.uuid,value:this.addTestForm.value.test}),this.addTestForm.reset()})}}deleteTest(e,i){this.diagnosisService.deleteObs(i).subscribe(()=>{this.tests.splice(e,1)})}toggleReferral(){this.addMoreReferral=!this.addMoreReferral,this.addReferralForm.reset()}checkIfReferralPresent(){this.referrals=[],this.diagnosisService.getObs(this.visit.patient.uuid,s.dF.conceptReferral).subscribe(e=>{e.results.forEach(i=>{const o=i.value.split(":");i.encounter&&i.encounter.visit.uuid===this.visit.uuid&&this.referrals.push({uuid:i.uuid,speciality:o[0].trim(),facility:o[1].trim(),priority:o[2].trim(),reason:o[3].trim()?o[3].trim():"-"})})})}addReferral(){if(this.addReferralForm.invalid)return;if(this.referrals.find(i=>i.speciality===this.addReferralForm.value.speciality))return void this.toastr.warning(this.translateService.instant("Referral already added, please add another referral."),this.translateService.instant("Already Added"));const e=this.addReferralForm.value.reason?this.addReferralForm.value.reason:"";this.encounterService.postObs({concept:s.dF.conceptReferral,person:this.visit.patient.uuid,obsDatetime:new Date,value:`${this.addReferralForm.value.speciality}:${this.addReferralForm.value.facility}:${this.addReferralForm.value.priority_refer}:${e}`,encounter:this.visitNotePresent.uuid}).subscribe(i=>{this.referrals.push({uuid:i.uuid,speciality:this.addReferralForm.value.speciality,facility:this.addReferralForm.value.facility,priority:this.addReferralForm.value.priority_refer,reason:e}),this.addReferralForm.reset(),this.addReferralForm.controls.priority_refer.setValue("Elective")})}deleteReferral(e,i){this.diagnosisService.deleteObs(i).subscribe(()=>{this.referrals.splice(e,1)})}checkIfFollowUpPresent(){this.diagnosisService.getObs(this.visit.patient.uuid,s.dF.conceptFollow).subscribe(e=>{e.results.forEach(i=>{if(i.encounter.visit.uuid===this.visit.uuid){let o,r,c,p;i.value.includes("Time:")?(o=i.value.includes("Time:")?h(i.value.split(", Time: ")[0]).format("YYYY-MM-DD"):h(i.value.split(", Remark: ")[0]).format("YYYY-MM-DD"),r=i.value.includes("Time:")?i.value.split(", Time: ")[1].split(", Remark: ")[0]:null,c=i.value.split(", Remark: ")[1]?i.value.split(", Remark: ")[1]:null,p="Yes"):p="No",this.followUpForm.patchValue({present:!0,wantFollowUp:p,followUpDate:o,followUpTime:r,followUpReason:c,uuid:i.uuid})}})})}saveFollowUp(){let e={concept:s.dF.conceptFollow,person:this.visit.patient.uuid,obsDatetime:new Date,value:"",encounter:this.visitNotePresent.uuid};if("No"===this.followUpForm.value.wantFollowUp)e.value="No";else{if(this.followUpForm.invalid||!this.isVisitNoteProvider)return;e.value=this.followUpForm.value.followUpReason?`${h(this.followUpForm.value.followUpDate).format("YYYY-MM-DD")}, Time: ${this.followUpForm.value.followUpTime}, Remark: ${this.followUpForm.value.followUpReason}`:`${h(this.followUpForm.value.followUpDate).format("YYYY-MM-DD")}, Time: ${this.followUpForm.value.followUpTime}`}this.encounterService.postObs(e).subscribe(i=>{i&&this.followUpForm.patchValue({present:!0,uuid:i.uuid})})}deleteFollowUp(){this.diagnosisService.deleteObs(this.followUpForm.value.uuid).subscribe(()=>{this.followUpForm.patchValue({present:!1,uuid:null,wantFollowUp:"",followUpDate:null,followUpTime:null,followUpReason:null})})}sharePrescription(){return 0===this.existingDiagnosis.length?(this.toastr.warning(this.translateService.instant("Diagnosis not added"),this.translateService.instant("Diagnosis Required")),!1):this.followUpForm.value.present?void this.coreService.openSharePrescriptionConfirmModal().subscribe(e=>{e&&(this.isVisitNoteProvider?this.provider.attributes.length?navigator.onLine?this.visitCompleted?this.coreService.openSharePrescriptionSuccessModal().subscribe(i=>{"view"===i?this.coreService.openVisitPrescriptionModal({uuid:this.visit.uuid}):"dashboard"===i&&this.router.navigate(["/dashboard"])}):this.encounterService.postEncounter({patient:this.visit.patient.uuid,encounterType:"bd1fbfaa-f5fb-4ebd-b75c-564506fc309e",encounterProviders:[{provider:this.provider.uuid,encounterRole:"73bbb069-9781-4afc-a9d1-54b6b2270e03"}],visit:this.visit.uuid,encounterDatetime:new Date(Date.now()-3e4),obs:[{concept:"7a9cb7bc-9ab9-4ff0-ae82-7a1bd2cca93e",value:JSON.stringify(this.getDoctorDetails())}]}).subscribe(i=>{this.visitCompleted=!0,this.notifyHwForAvailablePrescription(),this.appointmentService.completeAppointment({visitUuid:this.visit.uuid}).subscribe(),this.linkSvc.shortUrl(`/i/${this.visit.uuid}`).subscribe({next:o=>{this.visitService.postAttribute(this.visit.uuid,{attributeType:"1e02db7e-e117-4b16-9a1e-6e583c3994da",value:`/i/${o.data.hash}`}).subscribe(),this.coreService.openSharePrescriptionSuccessModal().subscribe(c=>{"view"===c?this.coreService.openVisitPrescriptionModal({uuid:this.visit.uuid}):"dashboard"===c&&this.router.navigate(["/dashboard"])})},error:o=>{this.toastr.error(o.message),this.coreService.openSharePrescriptionSuccessModal().subscribe(r=>{"view"===r?this.coreService.openVisitPrescriptionModal({uuid:this.visit.uuid}):"dashboard"===r&&this.router.navigate(["/dashboard"])})}})}):this.coreService.openSharePrescriptionErrorModal({msg:"Unable to send prescription due to poor network connection. Please try again or come back later",confirmBtnText:"Try again"}).subscribe(i=>{}):this.coreService.openSharePrescriptionErrorModal({msg:"Unable to send prescription since your profile is not complete.",confirmBtnText:"Go to profile"}).subscribe(i=>{i&&this.router.navigate(["/dashboard/profile"])}):this.coreService.openSharePrescriptionErrorModal({msg:"Unable to send prescription since this visit already in progress with another doctor.",confirmBtnText:"Go to dashboard"}).subscribe(i=>{i&&this.router.navigate(["/dashboard"])}))}):(this.toastr.warning(this.translateService.instant("Follow-up not added"),this.translateService.instant("Follow-up Required")),!1)}getDoctorDetails(){const e={},i=[s.On.QUALIFICATION,s.On.FONT_OF_SIGN,s.On.WHATS_APP,s.On.REGISTRATION_NUMBER,s.On.CONSULTATION_LANGUAGE,s.On.TYPE_OF_PROFESSION,s.On.ADDRESS,s.On.WORK_EXPERIENCE,s.On.RESEARCH_EXPERIENCE,s.On.TEXT_OF_SIGN,s.On.SPECIALIZATION,s.On.PHONE_NUMBER,s.On.COUNTRY_CODE,s.On.EMAIL_ID,s.On.WORK_EXPERIENCE_DETAILS,s.On.SIGNATURE_TYPE,s.On.SIGNATURE];return e.name=this.provider.person.display,e.uuid=this.provider.uuid,i.forEach(o=>{this.provider.attributes.forEach(r=>{r.attributeType.display===o&&!r.voided&&(e[o]=r.value)})}),e}getPastVisitHistory(){this.pastVisits=[],this.visitService.recentVisits(this.visit.patient.uuid).subscribe(e=>{const i=e.results;i.length>1&&i.forEach(o=>{o.uuid!==this.visit.uuid&&this.visitService.fetchVisitDetails(o.uuid).subscribe(r=>{r.created_on=r.startDatetime,r.cheif_complaint=this.visitSummaryService.getCheifComplaint(r),r.encounters.forEach(c=>{c.encounterType.display===s.fj.VISIT_COMPLETE&&(r.prescription_sent=this.checkIfDateOldThanOneDay(c.encounterDatetime),c.obs.forEach(p=>{"Doctor details"===p.concept.display&&(r.doctor=JSON.parse(p.value))}),c.encounterProviders.forEach(p=>{r.doctor.gender=p.provider.person.gender,r.doctor.person_uuid=p.provider.person.uuid}))}),this.pastVisits.push(r),this.dataSource=new v.by(this.pastVisits)})})})}openVisitSummaryModal(e){this.coreService.openVisitSummaryModal({uuid:e})}openVisitPrescriptionModal(e){this.coreService.openVisitPrescriptionModal({uuid:e})}ngOnDestroy(){(0,f.g1)(s.fj.PATIENT_VISIT_PROVIDER),this.dialogRef1&&this.dialogRef1.close()}getImagesBySection(e){return this.eyeImages.filter(i=>i.section?.toLowerCase()===e?.toLowerCase())}notifyHwForAvailablePrescription(){const e=(0,f.TL)(!0,s.fj.PATIENT_VISIT_PROVIDER)?.provider?.uuid;this.mindmapService.notifyApp(e,{title:`Prescription available for ${this.visit?.patient?.person?.display||"Patient"}`,body:"Click notification to see!"}).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Z),t.Y36(A.gz),t.Y36(A.F0),t.Y36(it.W),t.Y36(j.H),t.Y36(Ma.r),t.Y36(F._W),t.Y36(H.p),t.Y36(Ia),t.Y36(Na.M),t.Y36(Z.sK),t.Y36(ka.D),t.Y36(Ua),t.Y36(qa.X))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visit-summary"]],viewQuery:function(e,i){if(1&e&&t.Gf(S.pp,5),2&e){let o;t.iGM(o=t.CRH())&&(i.accordion=o.first)}},features:[t._Bn([{provide:x._A,useClass:ts},{provide:x.sG,useValue:s.h_}])],decls:230,vars:182,consts:[[1,"container-fluid"],[1,"row"],["class","col-md-12 p-0 mb-5",4,"ngIf"],[1,"col-md-12","p-0","mb-5"],[1,"intel-card"],[1,"card-body"],["class","row patient-info-wrapper",4,"ngIf"],["mat-align-tabs","start","data-test-id","mtgVisitSummary",1,"visit-summary-tab-group",3,"disableRipple","selectedIndexChange"],["data-test-id","mtCurrent",3,"label"],[1,"text-right"],["mat-button","","data-test-id","btnExpandMore",3,"click",4,"ngIf"],["mat-button","","data-test-id","btnExpandLess",3,"click",4,"ngIf"],["multi","",1,"intel-accordion-con"],["data-test-id","matExpConDets",3,"expanded"],["data-test-id","matExpHeaderConDets"],[1,"intel-accordion-title"],["src","assets/svgs/consultation-details.svg","alt","","width","44px"],["data-test-id","etHeaderConDets",1,"mb-0","ml-2"],[1,"items-list"],[1,"list-item"],["data-test-id","etVisitIdConDets",1,"border-0"],["data-test-id","etVisitIdDataConDets",1,"list-item-content"],["data-test-id","etVisitCreConDets"],["data-test-id","etVisitCreDataConDets",1,"list-item-content"],["data-test-id","etVisitUplConDets"],["data-test-id","etVisitUplDataConDets",1,"list-item-content"],["data-test-id","etAppOnConDets"],[1,"list-item-content"],["data-test-id","etAppDataOnConDets"],["data-test-id","etStatusConDets"],["data-test-id","etStatusDataConDets",3,"ngClass"],["data-test-id","etLocatinConDets"],["data-test-id","etLocatinDataConDets",1,"list-item-content"],["data-test-id","etProvidedByConDets"],[1,"visit-provider-con"],["data-test-id","etProvidedByDataConDets"],["data-test-id","matExpVitals",1,"bg-gray",3,"expanded"],["data-test-id","matExpHeaderVitals"],["src","assets/svgs/vitals.svg","alt","","width","44px"],["data-test-id","etheaderVitals",1,"mb-0","ml-2"],["data-test-id","etHeightVitals",1,"border-0"],["data-test-id","etHeightDataVitals",1,"list-item-content"],["data-test-id","etWeightVitals"],["data-test-id","etWeightDataVitals",1,"list-item-content"],["data-test-id","etBMIVitals"],["data-test-id","etBMIDataVitals",1,"list-item-content"],["data-test-id","etBPVitals"],["data-test-id","etBPDataVitals",1,"list-item-content"],["data-test-id","etPulseVitals"],["data-test-id","etPulseDataVitals",1,"list-item-content"],["data-test-id","etTempVitals"],["data-test-id","etTempDataVitals",1,"list-item-content"],["data-test-id","etSpO2Vitals"],["data-test-id","etSpO2DataVitals",1,"list-item-content"],["data-test-id","etRespRateVitals"],["data-test-id","etRespRateDataVitals",1,"list-item-content"],["data-test-id","matExpCheckup",3,"expanded"],["data-test-id","matExpHeaderCheckup"],["src","assets/svgs/check-up-reason.svg","alt","","width","44px"],["data-test-id","etCh-upReasCheckup",1,"mb-0","ml-2"],[1,"cheif-complaint-wrapper"],["data-test-id","etChiefComCheckup"],[1,"complaint-chips"],["class","chip-item",4,"ngFor","ngForOf"],[1,"check-up-reason-con"],[4,"ngFor","ngForOf"],["data-test-id","matExpPhysicalExam",1,"bg-gray",3,"expanded"],["data-test-id","matExpHeaderPhysicalExam"],["src","assets/svgs/physical-examination.svg","alt","","width","44px"],["data-test-id","etPhysicalexam",1,"mb-0","ml-2"],["data-test-id","matExpMedicalHis",3,"expanded"],["data-test-id","matExpHeaderMedicalHis"],["src","assets/svgs/medical-history.svg","alt","","width","44px"],["data-test-id","etMedicalHis",1,"mb-0","ml-2"],["data-test-id","matExpAdditionalNotes",1,"bg-gray",3,"expanded"],["data-test-id","matExpHeaderAdditionalNotes"],["src","assets/svgs/note-icon-green.svg","alt","","width","44px"],["data-test-id","etAdditionalNotes",1,"mb-0","ml-2"],[1,"d-flex","justify-content-between"],["data-test-id","matExpAdditionalDoc",3,"expanded"],["data-test-id","matExpHeaderAdditionalDoc"],["src","assets/svgs/additional-documents.svg","alt","","width","44px"],["data-test-id","etAdditionalDoc",1,"mb-0","ml-2"],[4,"ngIf","ngIfElse"],["noAdditionaDocs",""],["data-test-id","matExpReferToSpec",3,"expanded",4,"ngIf"],["data-test-id","mtPast",3,"label"],["class","mat-elevation-z8",4,"ngIf"],["class","col-md-12 p-0 py-2 mb-5 text-center",4,"ngIf"],["class","webrtc-controls",4,"ngIf"],[1,"appointment-banner"],["src","assets/svgs/clock-green.svg","alt",""],["target","_blank","data-test-id","linkStartCall",1,"start-call-btn",3,"href"],[1,"row","patient-info-wrapper"],[1,"col-md-3","patient-info-section","p-3"],[1,"patient-img-item","mb-2"],[1,"patient-img"],["alt","","width","100%","height","100%","data-test-id","imgPersonImage",3,"src"],[1,"ml-3"],["data-test-id","etPatientName"],["data-test-id","etPatienOpenMRSId"],[1,"patient-info-item","mb-3"],["data-test-id","etPatienAge"],["data-test-id","etPatient"],[1,"patient-info-item"],["data-test-id","etWhatsApp",4,"ngIf"],["data-test-id","etPhoneNumber",4,"ngIf"],["data-test-id","etWhatsApp"],["data-test-id","etPhoneNumber"],["target","_blank","data-test-id","linkPhoneNumber",1,"icon-btn",3,"href"],["src","assets/svgs/phone-circle.svg","alt",""],["target","_blank","data-test-id","linkWhatsApp",1,"icon-btn",3,"href"],["src","assets/svgs/whatsapp-icon.svg","alt",""],["mat-button","","data-test-id","btnExpandMore",3,"click"],[1,"text-muted"],["mat-button","","data-test-id","btnExpandLess",3,"click"],[1,"chip-item"],[4,"ngIf"],[1,"my-3"],[1,"items-list","pt-0"],[1,"list-item-col"],[1,"eye-images-con"],["class","eye-item",4,"ngFor","ngForOf"],[1,"eye-item"],["alt","",3,"src"],[1,"cover",3,"click"],["src","assets/svgs/maximize.svg","alt",""],[1,"additional-doc-container"],["class","doc-item",4,"ngFor","ngForOf"],[1,"doc-item"],["data-test-id","divPreviewDoc",1,"cover",3,"click"],[1,"no-docs"],["data-test-id","matExpReferToSpec",3,"expanded"],["data-test-id","matExpHeaderReferToSpec"],["src","assets/svgs/refer-specialist.svg","alt","","width","44px"],["data-test-id","etReferToSpec",1,"mb-0","ml-2"],[1,"refer-form",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","refer","data-test-id","labelReferToSpec",1,"col-sm-3","col-form-label"],[1,"col-sm-9","d-flex","align-items-center"],[1,"pretty","p-default","p-round"],["type","radio","formControlName","refer","data-test-id","radioReferYes",3,"value"],[1,"state","p-success"],["type","radio","formControlName","refer","data-test-id","radioReferNo",3,"value"],["for","refer",1,"col-sm-3","col-form-label"],[1,"col-sm-3"],["appendTo",".visit-summary-tab-group","formControlName","specialization","bindLabel","name","bindValue","name","data-test-id","selectRefer",1,"visit-select",3,"clearable","searchable","placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group"],["type","submit","data-test-id","btnSubmitRefer",1,"next-btn"],[3,"value"],[1,"mat-elevation-z8"],["mat-table","","aria-describedby","pastVisit",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","created_on"],["matColumnDef","consulted_by"],["matColumnDef","cheif_complaint"],["matColumnDef","summary"],["matColumnDef","prescription"],["matColumnDef","prescription_sent"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"timeline-icon"],["class","t-line",4,"ngIf"],[1,"dot"],[1,"b-line"],[1,"t-line"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],["alt","","width","32px","height","32px",2,"border-radius","50%",3,"src"],[1,"font-bold","ml-2"],["href","javascript:void(0)",1,"pill-anchor",3,"click"],[1,"blue-pill"],["src","assets/svgs/summary-list-blue-icon.svg","alt",""],[1,"ml-1"],["class","pill-anchor","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"green-pill"],["src","assets/svgs/green-pad.svg","alt",""],["class","blue-pill",4,"ngIf"],["src","assets/svgs/pad-4.svg","alt",""],["mat-header-row",""],["mat-row",""],[2,"text-align","center","font-size","16px"],[1,"note-con"],[1,"important-text"],[1,"col-md-12","p-0","py-2","mb-5","text-center"],["type","button","data-test-id","btnStartVisitNote",1,"blue-btn",3,"click"],["hideToggle","",3,"expanded"],["panel1",""],["src","assets/svgs/patient-interaction.svg","alt","","width","44px"],[1,"mb-0","ml-2"],[3,"formGroup","ngSubmit"],[1,"col-sm-3","col-form-label"],["class","col-sm-9 d-flex align-items-center",4,"ngIf","ngIfElse"],["noContactDetails",""],["class","form-group mb-0 mt-3",4,"ngIf"],["class","table-responsive",4,"ngIf"],["hideToggle","",1,"bg-gray",3,"expanded"],["panel2",""],["src","assets/svgs/diagnosis.svg","alt","","width","44px"],[1,"table-responsive"],["aria-describedby","",1,"table"],["scope","col"],["panel3",""],["src","assets/svgs/note.svg","alt","","width","44px"],["class","items-list",4,"ngIf"],["noNotes",""],["class","mt-3",3,"formGroup","ngSubmit",4,"ngIf"],["hideToggle","",1,"bg-gray","overflow-show",3,"expanded"],["panel4",""],["src","assets/svgs/medication.svg","alt","","width","44px"],[1,"table-responsive","medication-con"],["noMedicines",""],[1,"list-header","mt-3","mb-2"],["noAdditionalInstructions",""],["hideToggle","",1,"overflow-show",3,"expanded"],["panel5",""],["src","assets/svgs/advice.svg","alt","","width","44px"],["noAdvices",""],["panel6",""],["src","assets/svgs/test.svg","alt","","width","44px"],["noTests",""],["panel7",""],["src","assets/svgs/referral.svg","alt","","width","44px"],["noReferrals",""],["panel8",""],["src","assets/svgs/follow-up.svg","alt","","width","44px"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"d-flex"],["target","_blank","data-test-id","linkPatientPhone",1,"icon-btn","m-0","mr-2",3,"href"],["src","assets/svgs/phone-green.svg","alt",""],["target","_blank","data-test-id","linkPatientWhatsApp",1,"icon-btn","m-0","mr-2",3,"href"],["src","assets/svgs/whatsapp-green.svg","alt",""],["type","radio","formControlName","spoken","data-test-id","radioSpokenYes",3,"value"],["type","radio","formControlName","spoken","data-test-id","radioSpokenNo",3,"value"],[1,"form-group","mb-0","mt-3"],["type","submit","data-test-id","btnSubmitPatientInteraction",1,"gray-btn",3,"disabled"],[1,"pr-0"],["type","button","mat-icon-button","","class","float-right","data-test-id","btnDeletePatientInteraction",3,"click",4,"ngIf"],["type","button","mat-icon-button","","data-test-id","btnDeletePatientInteraction",1,"float-right",3,"click"],["src","assets/svgs/delete-icon.svg","alt",""],["mat-icon-button","","class","float-right",3,"test-id","click",4,"ngIf"],["mat-icon-button","",1,"float-right",3,"test-id","click"],["colspan","4",1,"px-0"],[1,"form-group","mb-0"],["type","button","data-test-id","btnAddMoreDiagnosis",1,"add-more-btn",3,"click"],["src","assets/svgs/plus-circle.svg","alt",""],[1,"ml-2"],["for","select-diagnosis",1,"col-sm-3","col-form-label"],["formControlName","diagnosisName","bindLabel","name","bindValue","name","data-test-id","selectDiagnosisName",1,"visit-select","custom",3,"items","clearable","searchable","placeholder","addTag","search"],["type","radio","formControlName","diagnosisType","data-test-id","radioDiagnosisTypePrimary",3,"value"],["type","radio","formControlName","diagnosisType","data-test-id","radioDiagnosisTypeSecondary",3,"value"],["type","radio","formControlName","diagnosisStatus","data-test-id","radioDiagnosisStatusProvisional",3,"value"],["type","radio","formControlName","diagnosisStatus","data-test-id","radioDiagnosisStatusConfirmed",3,"value"],["type","button","data-test-id","btnCancelDiagnosis",1,"white-btn","mr-2","mt-3",3,"click"],["type","submit","data-test-id","btnSubmitDiagnosis",1,"gray-btn",3,"disabled"],[1,"d-flex","justify-content-between","align-items-center"],["mat-icon-button","",3,"test-id","click",4,"ngIf"],["mat-icon-button","",3,"test-id","click"],[1,"no-docs","text-center","font-weight-bold"],[1,"mt-3",3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],["type","button","data-test-id","btnAddMoreNote",1,"add-more-btn",3,"click"],["for","note"],["rows","3","formControlName","note","data-test-id","etNote",1,"form-control",3,"placeholder"],["type","button","data-test-id","btnCancelNote",1,"white-btn","mr-2",3,"click"],["type","submit","data-test-id","btnSubmitNote",1,"gray-btn",3,"disabled"],["type","button","mat-icon-button","","class","float-right",3,"test-id","click",4,"ngIf"],["type","button","mat-icon-button","",1,"float-right",3,"test-id","click"],["colspan","6",1,"text-center","font-weight-bold"],["colspan","6",1,"px-0"],["type","button","data-test-id","btnAddMoreMed",1,"add-more-btn",3,"click"],["formControlName","drug","type","text","data-test-id","etDrugName",1,"form-control",3,"placeholder","ngbTypeahead"],["formControlName","strength","type","text","data-test-id","etDrugStrength",1,"form-control",3,"placeholder","ngbTypeahead"],["formControlName","days","type","text","data-test-id","etDays",1,"form-control",3,"placeholder","ngbTypeahead"],["appendTo",".medication-con","formControlName","timing","bindLabel","name","bindValue","name","data-test-id","selectTiming",1,"visit-select","custom",3,"items","clearable","searchable","addTag","placeholder"],["colspan","2"],["formControlName","remark","type","text","data-test-id","etRemarkMed",1,"form-control",3,"placeholder"],["colspan","6",1,"border-top-0"],[1,"form-group","mb-0","float-right"],["type","button","data-test-id","btnCancelMed",1,"white-btn","mr-2",3,"click"],["type","submit","data-test-id","btnSubmitMed",1,"gray-btn",3,"disabled"],["type","button","data-test-id","btnAddMoreAI",1,"add-more-btn",3,"click"],["formControlName","note","rows","3","data-test-id","etAI",1,"form-control",3,"placeholder"],["type","button","data-test-id","btnCancelAI",1,"white-btn","mr-2",3,"click"],["type","submit","data-test-id","btnSubmitAI",1,"gray-btn",3,"disabled"],["class","form-group mt-3",4,"ngIf"],[1,"form-group","mt-3"],["type","button","data-test-id","btnAddMoreAdvice",1,"add-more-btn",3,"click"],["type","text","formControlName","advice","data-test-id","etAdvice",1,"form-control",3,"placeholder","ngbTypeahead"],["type","button","data-test-id","btnCancelAdvice",1,"white-btn","mr-2",3,"click"],["type","submit","data-test-id","btnSubmitAdvice",1,"gray-btn",3,"disabled"],["type","button","data-test-id","btnAddMoreTest",1,"add-more-btn",3,"click"],["type","text","formControlName","test","data-test-id","etTest",1,"form-control",3,"placeholder","ngbTypeahead"],["type","button","data-test-id","btnCancelTest",1,"white-btn","mr-2",3,"click"],["type","submit","data-test-id","btnSubmitTest",1,"gray-btn",3,"disabled"],["type","button","class","float-right","mat-icon-button","",3,"test-id","click",4,"ngIf"],["type","button","data-test-id","btnAddMoreReferralVisitSummary",1,"add-more-btn",3,"click"],["appendTo",".visit-summary-tab-group","formControlName","speciality","bindLabel","label","bindValue","label","data-test-id","selectReferralSpecialityVisitSummary",1,"visit-select",3,"clearable","searchable","addTag","placeholder"],["appendTo",".visit-summary-tab-group","formControlName","facility","bindLabel","label","bindValue","label","data-test-id","selectReferralFacilityVisitSummary",1,"visit-select",3,"clearable","searchable","addTag","placeholder"],["appendTo",".visit-summary-tab-group","formControlName","priority_refer","bindLabel","name","bindValue","name","data-test-id","selectReferralFacilityVisitSummary",1,"visit-select",3,"clearable","searchable","addTag","placeholder"],["formControlName","reason","type","text","data-test-id","etReferralPriorityVisitSummary",1,"form-control",3,"placeholder"],["type","button","data-test-id","btnCancelReferralVisitSummary",1,"white-btn","mr-2",3,"click"],["type","submit","data-test-id","btnSubmitReferralVisitSummary",1,"gray-btn",3,"disabled"],["for","follow-up",1,"col-sm-3","col-form-label"],["type","radio","formControlName","wantFollowUp","data-test-id","radioFollowUpYes",3,"value"],["type","radio","formControlName","wantFollowUp","data-test-id","radioFollowUpNo",3,"value","change"],["for","follow-date",1,"col-sm-3","col-form-label"],[1,"input-group"],["type","text","formControlName","followUpDate","aria-label","Followupdate","aria-describedby","basic-addon1","readonly","","data-test-id","etFollowUpDate",1,"form-control",3,"min","matDatepicker","placeholder"],["fdp",""],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],["matSuffix","","data-test-id","dpFollowUpDate",3,"for"],["matDatepickerToggleIcon","","src","assets/svgs/calendar-date.svg","alt",""],["appendTo",".visit-summary-tab-group","formControlName","followUpTime","bindLabel","name","data-test-id","selectFollowUpTime",1,"visit-select","custom",3,"items","clearable","searchable","placeholder"],["for","follow-reason",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","formControlName","followUpReason","data-test-id","etFollowUpReason",1,"form-control",3,"placeholder"],["type","submit","data-test-id","btnSubmitFollowUp",1,"gray-btn",3,"disabled"],["type","button","class","float-right","mat-icon-button","","data-test-id","btnDeleteFollowUp",3,"click",4,"ngIf"],["type","button","mat-icon-button","","data-test-id","btnDeleteFollowUp",1,"float-right",3,"click"],["type","button","class","blue-btn mr-2 mb-2","data-test-id","btnSharePrescription",3,"click",4,"ngIf"],["type","button","class","blue-btn mb-2","data-test-id","btnViewPrescription",3,"click",4,"ngIf"],["type","button","data-test-id","btnSharePrescription",1,"blue-btn","mr-2","mb-2",3,"click"],["type","button","data-test-id","btnViewPrescription",1,"blue-btn","mb-2",3,"click"],[1,"webrtc-controls"],["alt","","src","assets/svgs/video-frame.svg","data-test-id","imgStartVideoCall",1,"img","shadow",3,"click"],["alt","","src","assets/svgs/chat-icon-blue-circle.svg","data-test-id","imgStartChat",1,"img","shadow",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Ea,13,8,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,Va,46,29,"div",6),t.qZA()()(),t.TgZ(7,"div",3)(8,"div",4)(9,"mat-tab-group",7),t.NdJ("selectedIndexChange",function(r){return i.onTabChange(r)}),t.TgZ(10,"mat-tab",8),t.ALo(11,"translate"),t.TgZ(12,"div",9),t.YNc(13,Fa,6,3,"button",10),t.YNc(14,Ra,6,3,"button",11),t.qZA(),t.TgZ(15,"mat-accordion",12)(16,"mat-expansion-panel",13)(17,"mat-expansion-panel-header",14)(18,"mat-panel-title")(19,"div",15),t._UZ(20,"img",16),t.TgZ(21,"h6",17),t._uU(22),t.ALo(23,"translate"),t.qZA()()()(),t.TgZ(24,"ul",18)(25,"li")(26,"div",19)(27,"label",20),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",21),t._uU(31),t.ALo(32,"uppercase"),t.qZA()()(),t.TgZ(33,"li")(34,"div",19)(35,"label",22),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"div",23),t._uU(39),t.ALo(40,"date"),t.qZA()()(),t.TgZ(41,"li")(42,"div",19)(43,"label",24),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",25),t._uU(47),t.ALo(48,"date"),t.qZA()()(),t.TgZ(49,"li")(50,"div",19)(51,"label",26),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",27)(55,"span",28),t._uU(56),t.ALo(57,"date"),t.ALo(58,"translate"),t.qZA()()()(),t.TgZ(59,"li")(60,"div",19)(61,"label",29),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"div",27)(65,"span",30),t._uU(66),t.ALo(67,"translate"),t.qZA()()()(),t.TgZ(68,"li")(69,"div",19)(70,"label",31),t._uU(71),t.ALo(72,"translate"),t.qZA(),t.TgZ(73,"div",32),t._uU(74),t.ALo(75,"titlecase"),t.qZA()()(),t.TgZ(76,"li")(77,"div",19)(78,"label",33),t._uU(79),t.ALo(80,"translate"),t.qZA(),t.TgZ(81,"div",27)(82,"div",34)(83,"span",35)(84,"b"),t._uU(85),t.ALo(86,"translate"),t.qZA()()()()()()()(),t.TgZ(87,"mat-expansion-panel",36)(88,"mat-expansion-panel-header",37)(89,"mat-panel-title")(90,"div",15),t._UZ(91,"img",38),t.TgZ(92,"h6",39),t._uU(93),t.ALo(94,"translate"),t.qZA()()()(),t.TgZ(95,"ul",18)(96,"li")(97,"div",19)(98,"label",40),t._uU(99),t.ALo(100,"translate"),t.qZA(),t.TgZ(101,"div",41),t._uU(102),t.ALo(103,"translate"),t.qZA()()(),t.TgZ(104,"li")(105,"div",19)(106,"label",42),t._uU(107),t.ALo(108,"translate"),t.qZA(),t.TgZ(109,"div",43),t._uU(110),t.ALo(111,"translate"),t.qZA()()(),t.TgZ(112,"li")(113,"div",19)(114,"label",44),t._uU(115),t.ALo(116,"translate"),t.qZA(),t.TgZ(117,"div",45),t._uU(118),t.ALo(119,"number"),t.ALo(120,"translate"),t.qZA()()(),t.TgZ(121,"li")(122,"div",19)(123,"label",46),t._uU(124),t.ALo(125,"translate"),t.qZA(),t.TgZ(126,"div",47),t._uU(127),t.ALo(128,"translate"),t.qZA()()(),t.TgZ(129,"li")(130,"div",19)(131,"label",48),t._uU(132),t.ALo(133,"translate"),t.qZA(),t.TgZ(134,"div",49),t._uU(135),t.ALo(136,"translate"),t.qZA()()(),t.TgZ(137,"li")(138,"div",19)(139,"label",50),t._uU(140),t.ALo(141,"translate"),t.qZA(),t.TgZ(142,"div",51),t._uU(143),t.ALo(144,"number"),t.ALo(145,"translate"),t.qZA()()(),t.TgZ(146,"li")(147,"div",19)(148,"label",52),t._uU(149),t.ALo(150,"translate"),t.qZA(),t.TgZ(151,"div",53),t._uU(152),t.ALo(153,"translate"),t.qZA()()(),t.TgZ(154,"li")(155,"div",19)(156,"label",54),t._uU(157),t.ALo(158,"translate"),t.qZA(),t.TgZ(159,"div",55),t._uU(160),t.ALo(161,"translate"),t.qZA()()()()(),t.TgZ(162,"mat-expansion-panel",56)(163,"mat-expansion-panel-header",57)(164,"mat-panel-title")(165,"div",15),t._UZ(166,"img",58),t.TgZ(167,"h6",59),t._uU(168),t.ALo(169,"translate"),t.qZA()()()(),t.TgZ(170,"div",60)(171,"h6",61),t._uU(172),t.ALo(173,"translate"),t.qZA(),t.TgZ(174,"div",62),t.YNc(175,Ya,2,2,"div",63),t.qZA(),t.TgZ(176,"div",64),t.YNc(177,Ha,3,2,"ng-container",65),t.qZA()()(),t.TgZ(178,"mat-expansion-panel",66)(179,"mat-expansion-panel-header",67)(180,"mat-panel-title")(181,"div",15),t._UZ(182,"img",68),t.TgZ(183,"h6",69),t._uU(184),t.ALo(185,"translate"),t.qZA()()()(),t.YNc(186,io,4,2,"ng-container",65),t.qZA(),t.TgZ(187,"mat-expansion-panel",70)(188,"mat-expansion-panel-header",71)(189,"mat-panel-title")(190,"div",15),t._UZ(191,"img",72),t.TgZ(192,"h6",73),t._uU(193),t.ALo(194,"translate"),t.qZA()()()(),t.YNc(195,ao,6,3,"ng-container",65),t.qZA(),t.TgZ(196,"mat-expansion-panel",74)(197,"mat-expansion-panel-header",75)(198,"mat-panel-title")(199,"div",15),t._UZ(200,"img",76),t.TgZ(201,"h6",77),t._uU(202),t.ALo(203,"translate"),t.qZA()()()(),t.TgZ(204,"ul",18)(205,"li")(206,"div",78)(207,"span"),t._uU(208),t.qZA()()()()(),t.TgZ(209,"mat-expansion-panel",79)(210,"mat-expansion-panel-header",80)(211,"mat-panel-title")(212,"div",15),t._UZ(213,"img",81),t.TgZ(214,"h6",82),t._uU(215),t.ALo(216,"translate"),t.qZA()()()(),t.YNc(217,ro,3,1,"ng-container",83),t.YNc(218,so,3,3,"ng-template",null,84,t.W1O),t.qZA(),t.YNc(220,po,27,17,"mat-expansion-panel",85),t.qZA()(),t.TgZ(221,"mat-tab",86),t.ALo(222,"translate"),t.YNc(223,No,25,3,"div",87),t.YNc(224,ko,4,3,"div",87),t.qZA()()()(),t.YNc(225,Uo,14,21,"div",2),t.YNc(226,qo,4,3,"div",88),t.YNc(227,Hr,193,108,"div",2),t.YNc(228,$r,3,2,"div",88),t.qZA()(),t.YNc(229,Wr,3,0,"div",89)),2&e){const o=t.MAs(219);t.xp6(2),t.Q6J("ngIf",i.visitAppointment&&i.checkIfDateOldThanOneDay(i.visitAppointment).includes("Due")),t.xp6(4),t.Q6J("ngIf",i.patient),t.xp6(3),t.Q6J("disableRipple",!0),t.xp6(1),t.s9C("label",t.lcZ(11,87,"Current visit summary")),t.xp6(3),t.Q6J("ngIf",!i.showAll),t.xp6(1),t.Q6J("ngIf",i.showAll),t.xp6(2),t.Q6J("expanded",!0),t.xp6(6),t.Oqu(t.lcZ(23,89,"Consultation details")),t.xp6(6),t.Oqu(t.lcZ(29,91,"Visit ID")),t.xp6(3),t.hij(" ",null!=i.visit&&i.visit.uuid?t.lcZ(32,93,i.replaceWithStar(null==i.visit?null:i.visit.uuid)):""," "),t.xp6(5),t.Oqu(t.lcZ(37,95,"Visit Created")),t.xp6(3),t.hij(" ",t.xi3(40,97,null==i.visit?null:i.visit.startDatetime,"medium")," "),t.xp6(5),t.Oqu(t.lcZ(45,100,"Visit Uploaded")),t.xp6(3),t.hij(" ",t.xi3(48,102,null==i.visit?null:i.visit.dateCreated,"medium")," "),t.xp6(5),t.Oqu(t.lcZ(53,105,"Appointment on")),t.xp6(3),t.ekj("text-muted",!i.visitAppointment),t.xp6(1),t.Oqu(i.visitAppointment?t.xi3(57,107,i.visitAppointment,"dd MMM, yyyy"):t.lcZ(58,110,"No appointment")),t.xp6(6),t.Oqu(t.lcZ(63,112,"Status")),t.xp6(3),t.Q6J("ngClass",t.WLB(179,Xr,"Priority Visit"==i.visitStatus,-1!=t.DdM(178,Kr).indexOf(i.visitStatus))),t.xp6(1),t.Oqu(t.lcZ(67,114,i.visitStatus)),t.xp6(5),t.Oqu(t.lcZ(72,116,"Location")),t.xp6(3),t.hij(" ",t.lcZ(75,118,i.clinicName)," "),t.xp6(5),t.Oqu(t.lcZ(80,120,"Provided by")),t.xp6(6),t.AsE("",t.lcZ(86,122,"Nurse")," : ",i.providerName,""),t.xp6(2),t.Q6J("expanded",!0),t.xp6(6),t.Oqu(t.lcZ(94,124,"Vitals")),t.xp6(6),t.Oqu(t.lcZ(100,126,"Height (cm)")),t.xp6(2),t.ekj("text-muted",!i.getObsValue("Height (cm)")),t.xp6(1),t.hij(" ",i.getObsValue("Height (cm)")?i.getObsValue("Height (cm)"):t.lcZ(103,128,"No information")," "),t.xp6(5),t.Oqu(t.lcZ(108,130,"Weight (kg)")),t.xp6(2),t.ekj("text-muted",!i.getObsValue("Weight (kg)")),t.xp6(1),t.hij(" ",i.getObsValue("Weight (kg)")?i.getObsValue("Weight (kg)"):t.lcZ(111,132,"No information")," "),t.xp6(5),t.Oqu(t.lcZ(116,134,"BMI")),t.xp6(2),t.ekj("text-muted",!i.getObsValue("Height (cm)")||!i.getObsValue("Weight (kg)")),t.xp6(1),t.hij(" ",i.getObsValue("Height (cm)")&&i.getObsValue("Weight (kg)")?t.xi3(119,136,i.getObsValue("Weight (kg)")/(i.getObsValue("Height (cm)")/100*(i.getObsValue("Height (cm)")/100)),"1.2-2"):t.lcZ(120,139,"No information")," "),t.xp6(6),t.Oqu(t.lcZ(125,141,"BP")),t.xp6(2),t.ekj("text-muted",!i.getObsValue("SYSTOLIC BLOOD PRESSURE")),t.xp6(1),t.hij(" ",i.getObsValue("SYSTOLIC BLOOD PRESSURE")?i.getObsValue("SYSTOLIC BLOOD PRESSURE")+" / "+i.getObsValue("DIASTOLIC BLOOD PRESSURE"):t.lcZ(128,143,"No information")," "),t.xp6(5),t.Oqu(t.lcZ(133,145,"Pulse")),t.xp6(2),t.ekj("text-muted",!i.getObsValue("Pulse")),t.xp6(1),t.hij(" ",i.getObsValue("Pulse")?i.getObsValue("Pulse"):t.lcZ(136,147,"No information")," "),t.xp6(5),t.Oqu(t.lcZ(141,149,"Temperature (F)")),t.xp6(2),t.ekj("text-muted",!i.getObsValue("TEMPERATURE (C)")),t.xp6(1),t.hij(" ",i.getObsValue("TEMPERATURE (C)")?t.xi3(144,151,9*i.getObsValue("TEMPERATURE (C)")/5+32,"0.2-2"):t.lcZ(145,154,"No information")," "),t.xp6(6),t.hij("",t.lcZ(150,156,"SpO2")," (%)"),t.xp6(2),t.ekj("text-muted",!i.getObsValue("BLOOD OXYGEN SATURATION")),t.xp6(1),t.hij(" ",i.getObsValue("BLOOD OXYGEN SATURATION")?i.getObsValue("BLOOD OXYGEN SATURATION"):t.lcZ(153,158,"No information")," "),t.xp6(5),t.Oqu(t.lcZ(158,160,"Respiratory Rate")),t.xp6(2),t.ekj("text-muted",!i.getObsValue("Respiratory rate")),t.xp6(1),t.hij(" ",i.getObsValue("Respiratory rate")?i.getObsValue("Respiratory rate"):t.lcZ(161,162,"No information")," "),t.xp6(2),t.Q6J("expanded",!0),t.xp6(6),t.Oqu(t.lcZ(169,164,"Check-up reason")),t.xp6(4),t.Oqu(t.lcZ(173,166,"Chief Complaint")),t.xp6(3),t.Q6J("ngForOf",i.cheifComplaints),t.xp6(2),t.Q6J("ngForOf",i.checkUpReasonData),t.xp6(1),t.Q6J("expanded",!0),t.xp6(6),t.Oqu(t.lcZ(185,168,"Physical examination")),t.xp6(2),t.Q6J("ngForOf",i.physicalExaminationData),t.xp6(1),t.Q6J("expanded",!0),t.xp6(6),t.Oqu(t.lcZ(194,170,"Medical history")),t.xp6(2),t.Q6J("ngForOf",i.patientHistoryData),t.xp6(1),t.Q6J("expanded",!0),t.xp6(6),t.Oqu(t.lcZ(203,172,"Additional Notes")),t.xp6(6),t.Oqu(i.additionalNotes),t.xp6(1),t.Q6J("expanded",!0),t.xp6(6),t.Oqu(t.lcZ(216,174,"Additional documents")),t.xp6(2),t.Q6J("ngIf",i.additionalDocs.length)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",!i.visitNotePresent&&!i.visitEnded&&!i.visitCompleted),t.xp6(1),t.s9C("label",t.lcZ(222,176,"Past visit history")),t.xp6(2),t.Q6J("ngIf",i.pastVisits.length>0),t.xp6(1),t.Q6J("ngIf",i.pastVisits.length<=0),t.xp6(1),t.Q6J("ngIf",0==i.selectedTabIndex),t.xp6(1),t.Q6J("ngIf",!i.visitNotePresent&&!i.visitCompleted&&!i.visitEnded&&0==i.selectedTabIndex),t.xp6(1),t.Q6J("ngIf",i.visitNotePresent&&0==i.selectedTabIndex),t.xp6(1),t.Q6J("ngIf",0==i.selectedTabIndex),t.xp6(1),t.Q6J("ngIf",i.isVisitNoteProvider&&!i.visitEnded&&!i.isCalling)}},dependencies:[g.mk,g.sg,g.O5,S.pp,S.ib,S.yz,S.yK,v.BZ,v.fO,v.as,v.w1,v.Dz,v.nj,v.ge,v.ev,v.XQ,v.Gk,k.Hw,G.lW,V.SP,V.uX,q.w9,q.jq,l._Y,l.Fj,l._,l.JJ,l.JL,l.sg,l.u,qt.dR,T.Mq,T.hl,T.nW,T.Q0,L.z,g.Ov,g.gd,g.JJ,g.rS,g.uU,Z.X$],styles:[".appointment-banner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-family:DM Sans;background:#E6FFF3;border-radius:12px;padding:24px;flex-wrap:wrap}.appointment-banner[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:16px;line-height:150%;color:var(--color-darkestBlue);font-weight:700}.appointment-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:150%;color:var(--color-green);display:flex}.appointment-banner[_ngcontent-%COMP%]   .start-call-btn[_ngcontent-%COMP%]{border:none;outline:none;background:var(--color-green);border-radius:8px;padding:11px 16px;font-size:18px;line-height:150%;color:var(--color-white);font-weight:700;white-space:nowrap;text-decoration:none}.patient-info-wrapper[_ngcontent-%COMP%]{font-family:DM Sans}.patient-info-wrapper[_ngcontent-%COMP%]   .patient-info-section[_ngcontent-%COMP%]{border-right:1px solid rgba(178,175,190,.2)}.patient-info-wrapper[_ngcontent-%COMP%]   .patient-info-section[_ngcontent-%COMP%]   .patient-img-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.patient-info-wrapper[_ngcontent-%COMP%]   .patient-info-section[_ngcontent-%COMP%]   .patient-img-item[_ngcontent-%COMP%]   .patient-img[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;overflow:hidden}.patient-info-wrapper[_ngcontent-%COMP%]   .patient-info-section[_ngcontent-%COMP%]   .patient-img-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:0;font-size:18px;font-weight:700;line-height:150%;color:var(--color-darkestBlue)}.patient-info-wrapper[_ngcontent-%COMP%]   .patient-info-section[_ngcontent-%COMP%]   .patient-img-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;color:var(--color-gray);font-size:16px;line-height:150%}.patient-info-wrapper[_ngcontent-%COMP%]   .patient-info-section[_ngcontent-%COMP%]   .patient-info-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:0;font-size:16px;line-height:150%;color:var(--color-gray)}.patient-info-wrapper[_ngcontent-%COMP%]   .patient-info-section[_ngcontent-%COMP%]   .patient-info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;color:var(--color-darkestBlue);font-size:16px;line-height:150%;word-break:break-all}.patient-info-wrapper[_ngcontent-%COMP%]   .patient-info-section[_ngcontent-%COMP%]:last-child{border:none}.icon-btn[_ngcontent-%COMP%]{display:inline-block;width:32px;height:32px;border-radius:50%;text-decoration:none;margin:5px}  .visit-summary-tab-group.mat-tab-group{font-family:DM Sans}  .visit-summary-tab-group.mat-tab-group .mat-tab-header{padding:24px 24px 0;border-bottom:2px solid rgba(178,175,190,.2);box-shadow:0 4px 16px #1f1c3a0a}  .visit-summary-tab-group.mat-tab-group .mat-tab-body-wrapper .mat-tab-body .mat-tab-body-content{padding:24px}  .visit-summary-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-ink-bar{background:var(--color-lightRed);border-radius:1px}  .visit-summary-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-tab-label{min-width:fit-content;opacity:1}  .visit-summary-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-tab-label .mat-tab-label-content{font-weight:700;font-size:16px;line-height:150%;color:var(--color-darkestBlue)}.intel-accordion-con.ddx[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{background:aliceblue}.intel-accordion-con[_ngcontent-%COMP%]   .mat-expansion-panel.overflow-show[_ngcontent-%COMP%]{overflow:visible}.intel-accordion-con[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:none!important;border-radius:12px!important}.intel-accordion-con[_ngcontent-%COMP%]   .mat-expansion-panel.bg-gray[_ngcontent-%COMP%]{background:var(--color-offWhite)}.intel-accordion-con[_ngcontent-%COMP%]   .mat-expansion-panel.bg-gray[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], .intel-accordion-con[_ngcontent-%COMP%]   .mat-expansion-panel.bg-gray[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .intel-accordion-con[_ngcontent-%COMP%]   .mat-expansion-panel.bg-gray[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{background:var(--color-white)}.list-header[_ngcontent-%COMP%]{font-size:14px;line-height:150%;margin-bottom:0;font-weight:700;color:var(--color-darkestBlue)}.items-list[_ngcontent-%COMP%]{font-family:DM Sans;font-size:16px;padding:24px 0 0 24px;margin-bottom:0}.items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:25%;min-width:25%;margin-bottom:0;padding:5px 0}.items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   .list-item-content[_ngcontent-%COMP%]{padding:5px 0}.items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-item-col[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;flex-direction:column}.visit-provider-con[_ngcontent-%COMP%]{display:flex;align-items:center}.note-con[_ngcontent-%COMP%]{font-family:DM Sans;font-size:14px;line-height:150%;color:var(--color-gray)}.important-text[_ngcontent-%COMP%]{font-weight:700;color:var(--color-red)}.text-important-red[_ngcontent-%COMP%]{color:var(--color-red);font-weight:700}.text-important-green[_ngcontent-%COMP%]{color:var(--color-green);font-weight:700}.cheif-complaint-wrapper[_ngcontent-%COMP%]{padding:24px 0 0}.cheif-complaint-wrapper[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;line-height:150%;color:var(--color-darkestBlue);font-weight:700}.cheif-complaint-wrapper[_ngcontent-%COMP%]   .complaint-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:10px}.cheif-complaint-wrapper[_ngcontent-%COMP%]   .complaint-chips[_ngcontent-%COMP%]   .chip-item[_ngcontent-%COMP%]{padding:4px 8px;background:var(--color-lightRed);border-radius:4px;color:var(--color-white);margin:5px 5px 5px 0;font-size:16px;line-height:150%}.eye-images-con[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.eye-images-con[_ngcontent-%COMP%]   .eye-item[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;border-radius:4px;margin:5px;overflow:hidden;cursor:pointer}.eye-images-con[_ngcontent-%COMP%]   .eye-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.eye-images-con[_ngcontent-%COMP%]   .eye-item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:var(--color-darkestBlue) 34;overflow:hidden}.eye-images-con[_ngcontent-%COMP%]   .eye-item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.additional-doc-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;padding:24px 0 0}.additional-doc-container[_ngcontent-%COMP%]   .doc-item[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;background:var(--color-lightGray);border:1px solid var(--color-darkBlue);border-radius:8px;margin:5px;display:flex;align-items:center;justify-content:center;overflow:hidden;cursor:pointer}.additional-doc-container[_ngcontent-%COMP%]   .doc-item[_ngcontent-%COMP%]   .other-doc[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.additional-doc-container[_ngcontent-%COMP%]   .doc-item[_ngcontent-%COMP%]   .other-doc[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:150%;text-align:center;color:var(--color-darkestBlue)}.additional-doc-container[_ngcontent-%COMP%]   .doc-item[_ngcontent-%COMP%]   .other-doc[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.additional-doc-container[_ngcontent-%COMP%]   .doc-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.additional-doc-container[_ngcontent-%COMP%]   .doc-item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:var(--color-darkestBlue) 34;overflow:hidden}.additional-doc-container[_ngcontent-%COMP%]   .doc-item[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.no-docs[_ngcontent-%COMP%]{padding:24px 0;font-size:16px}.refer-form[_ngcontent-%COMP%]{padding-top:24px}.refer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.refer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative;outline:none;border:none;padding:0 24px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue)}.form-group[_ngcontent-%COMP%]   .blue-btn[_ngcontent-%COMP%]{background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative;padding:10px 16px}.form-group[_ngcontent-%COMP%]   .white-btn[_ngcontent-%COMP%]{background:var(--color-white);border-radius:8px;font-size:18px;color:var(--color-darkBlue);position:relative;font-weight:700;border:1px solid var(--color-lightGray);padding:10px 16px}.form-group[_ngcontent-%COMP%]   .gray-btn[_ngcontent-%COMP%]{background:var(--color-lightGray);border-radius:8px;font-size:18px;color:var(--color-darkBlue);position:relative;font-weight:700;border:1px solid var(--color-lightGray);padding:10px 16px}.form-group[_ngcontent-%COMP%]   .blue-btn[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   .white-btn[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   .gray-btn[_ngcontent-%COMP%]:disabled{opacity:.5}.form-group[_ngcontent-%COMP%]   .blue-btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .white-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red)}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}textarea.form-control[_ngcontent-%COMP%]{height:fit-content}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.input-group[_ngcontent-%COMP%]{border:1px solid rgba(178,175,190,.2);background:var(--color-offWhite);border-radius:8px;height:48px}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:14px 16px;height:46px;font-size:16px;color:var(--color-darkestBlue);border:none;background:transparent}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:transparent;border:none;padding:0}  .ng-select.visit-select.custom.ng-select-single .ng-select-container, .ng-select.visit-select.custom.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{background:var(--color-white);min-width:120px}  .ng-select.visit-select.ng-select-single .ng-select-container,   .ng-select.visit-select.ng-select-multiple .ng-select-container{height:48px;width:100%;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;box-shadow:none}  .ng-select.visit-select.ng-select-single .ng-select-container .ng-value-container .ng-input,   .ng-select.visit-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{top:50%;transform:translateY(-50%)}  .ng-select.visit-select.ng-select-single .ng-select-container .ng-arrow-wrapper .ng-arrow,   .ng-select.visit-select.ng-select-multiple .ng-select-container .ng-arrow-wrapper .ng-arrow{border:none}  .ng-select.visit-select.ng-select-single .ng-select-container .ng-arrow-wrapper .ng-arrow:after,   .ng-select.visit-select.ng-select-multiple .ng-select-container .ng-arrow-wrapper .ng-arrow:after{content:url(chevron-down-input.fbed60456e1aa553.svg);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}  .ng-select.visit-select.ng-select-single .ng-select-container .ng-clear-wrapper,   .ng-select.visit-select.ng-select-multiple .ng-select-container .ng-clear-wrapper{display:none}.blue-btn[_ngcontent-%COMP%]{padding:14px 24px;background:var(--color-darkBlue);border-radius:8px;border:none;outline:none;font-family:DM Sans;font-weight:700;font-size:18px;line-height:150%;color:var(--color-white)}.blue-btn[_ngcontent-%COMP%]:disabled{opacity:.5}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;white-space:nowrap}.add-more-btn[_ngcontent-%COMP%]{border:none;background:transparent;font-size:16px;line-height:150%;color:var(--color-darkestBlue);padding:0}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none;width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;font-family:DM Sans}.ddx-table[_ngcontent-%COMP%]{width:fit-content}.ddx-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ddx-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.2rem .5rem}th.mat-header-cell[_ngcontent-%COMP%]{border:none;font-size:14px!important;font-weight:700;color:var(--color-gray);height:21px}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{border:none;min-width:60px;white-space:nowrap;padding-right:24px}th.mat-header-cell[_ngcontent-%COMP%]   span.alert-danger[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%]   span.alert-danger[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]   span.alert-danger[_ngcontent-%COMP%]{color:var(--color-red);font-weight:700;background:transparent;border:none}th.mat-header-cell[_ngcontent-%COMP%]   span.alert-success[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%]   span.alert-success[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]   span.alert-success[_ngcontent-%COMP%]{color:var(--color-green);font-weight:700;background:transparent;border:none}td.mat-cell[_ngcontent-%COMP%]{font-size:16px}tr.mat-row[_ngcontent-%COMP%], tr.mat-footer-row[_ngcontent-%COMP%]{height:88px;border-radius:8px}tr.mat-row.upcoming[_ngcontent-%COMP%]{background:#E6FFF3!important}td.mat-cell[_ngcontent-%COMP%]:first-child, th.mat-header-cell[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 8px}td.mat-cell[_ngcontent-%COMP%]:last-child, th.mat-header-cell[_ngcontent-%COMP%]:last-child{border-radius:0 8px 8px 0}.red-pill[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;background:var(--color-lightPink);border-radius:4px;height:32px;color:var(--color-lightRed);padding:4px 6px;width:fit-content;border:1px solid var(--color-lightRed)}.green-pill[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;background:#E6FFF3;border-radius:4px;border:1px solid var(--color-green);height:32px;color:var(--color-green);padding:4px 6px;width:fit-content}.blue-pill[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;background:var(--color-lightGray);border-radius:4px;border:1px solid var(--color-darkBlue);height:32px;color:var(--color-darkBlue);padding:4px 6px;width:fit-content}.pill-anchor[_ngcontent-%COMP%], .pill-anchor[_ngcontent-%COMP%]:hover{display:inline-block;width:fit-content;text-decoration:none!important}.timeline-icon[_ngcontent-%COMP%]{position:relative;width:20px;height:88px;margin-left:auto;margin-right:auto}.timeline-icon[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:var(--color-green);border-radius:50%;height:20px;width:100%}.timeline-icon[_ngcontent-%COMP%]   .t-line[_ngcontent-%COMP%]{position:absolute;top:0;width:4px;height:44px;left:50%;transform:translate(-50%);background:var(--color-green)}.timeline-icon[_ngcontent-%COMP%]   .b-line[_ngcontent-%COMP%]{position:absolute;bottom:0;width:4px;height:44px;left:50%;transform:translate(-50%);background:var(--color-green)}@media (max-width: 768px){  .visit-summary-tab-group.mat-tab-group .mat-tab-body-wrapper .mat-tab-body .mat-tab-body-content{padding:10px}.intel-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px!important}.patient-info-wrapper[_ngcontent-%COMP%]{margin:0!important}.no-docs[_ngcontent-%COMP%]{padding:10px 0!important}.patient-info-section[_ngcontent-%COMP%]{border-bottom:1px solid rgba(178,175,190,.2);border-right:none!important}.visit-provider-con[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.intel-accordion-title[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.items-list[_ngcontent-%COMP%]{list-style-type:none;padding:5px 0 0}.items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .list-item-col[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;border-top:1px solid rgba(178,175,190,.2);font-weight:700;margin-top:.5rem}.blue-btn[_ngcontent-%COMP%]{width:100%}.col-form-label[_ngcontent-%COMP%]{font-weight:700}.cheif-complaint-wrapper[_ngcontent-%COMP%]{padding:5px 0 0!important}}.webrtc-controls[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:999;display:flex;flex-direction:column;align-items:center}.webrtc-controls[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;border-radius:25px;margin-bottom:10px}  ngb-typeahead-window{max-height:200px;overflow-y:auto;overflow-x:auto;max-width:100%}"]}),n})();function is(n,a){1&n&&(t.TgZ(0,"div",59)(1,"span",60),t._uU(2,"1"),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"Personal Information")," "))}function ns(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter first name")))}function as(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter alphabates only")))}function os(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ns,3,3,"small",61),t.YNc(2,as,3,3,"small",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.givenName.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.givenName.errors.pattern)}}function rs(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter middle name")))}function ss(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter alphabates only")))}function ls(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,rs,3,3,"small",61),t.YNc(2,ss,3,3,"small",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.middleName.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.middleName.errors.pattern)}}function cs(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter last name")))}function ps(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter alphabates only")))}function ds(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,cs,3,3,"small",61),t.YNc(2,ps,3,3,"small",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.familyName.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.familyName.errors.pattern)}}function us(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter DOB")))}function ms(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,us,3,3,"small",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.birthdate.errors.required)}}function gs(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter age")))}function hs(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter numeric value only")))}function _s(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Age should be greater than or equal to 18")))}function fs(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,gs,3,3,"small",61),t.YNc(2,hs,3,3,"small",61),t.YNc(3,_s,3,3,"small",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.age.errors.required),t.xp6(1),t.Q6J("ngIf",e.f1.age.errors.pattern),t.xp6(1),t.Q6J("ngIf",e.f1.age.errors.min)}}function bs(n,a){1&n&&t._UZ(0,"mat-spinner",63)}function vs(n,a){1&n&&(t.TgZ(0,"mat-icon",64),t._uU(1,"done_all"),t.qZA())}function xs(n,a){1&n&&(t.TgZ(0,"mat-icon",65),t._uU(1,"error_outline"),t.qZA())}function Cs(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter phone number")))}function Zs(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Cs,3,3,"small",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.phoneNumber.errors.required)}}function As(n,a){1&n&&(t.TgZ(0,"div")(1,"small",62),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Enter valid phone number")))}function Ts(n,a){1&n&&(t.TgZ(0,"div")(1,"small",62),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Phone number already exists. Please enter another phone number.")))}function Os(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter whatsApp number")))}function ys(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Os,3,3,"small",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f1.whatsapp.errors.required)}}function Ss(n,a){1&n&&(t.TgZ(0,"div")(1,"small",62),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Enter valid whatsApp number")))}function Ps(n,a){1&n&&t._UZ(0,"mat-spinner",63)}function ws(n,a){1&n&&(t.TgZ(0,"mat-icon",64),t._uU(1,"done_all"),t.qZA())}function Ms(n,a){1&n&&(t.TgZ(0,"mat-icon",65),t._uU(1,"error_outline"),t.qZA())}function Is(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter email")))}function Ns(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Enter valid email")))}function ks(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Is,3,3,"small",61),t.YNc(2,Ns,3,3,"small",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f1.emailId.errors?null:e.f1.emailId.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.f1.emailId.errors?null:e.f1.emailId.errors.pattern)}}function Us(n,a){1&n&&(t.TgZ(0,"small",62),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Email already exists. Please enter another email.")))}function qs(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Us,3,3,"small",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.f1.emailId.errors?null:e.f1.emailId.errors.alreadyExists)}}const Et=function(){return{initialCountry:"in",separateDialCode:!0,autoHideDialCode:!1}},Es={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};class Ls extends x.LF{format(a,e){return"input"===e?(0,g.p6)(a,"dd MMM yyyy",this.locale):a.toDateString()}}let Ds=(()=>{class n{constructor(e,i,o,r,c,p,m,_,b){this.pageTitleService=e,this.profileService=i,this.toastr=o,this.providerService=r,this.authService=c,this.router=p,this.cookieService=m,this.rolesService=_,this.translateService=b,this.baseUrl=y.N.baseURL,this.profilePicUrl="assets/svgs/user.svg",this.phoneNumberValid=!1,this.whatsAppNumberValid=!1,this.phoneNumber="",this.whatsAppNumber="",this.submitted=!1,this.providerAttributeTypes=[],this.maxTelLegth1=10,this.maxTelLegth2=10,this.oldPhoneNumber="",this.phoneValid=!1,this.emailValid=!1,this.checkingPhoneValidity=!1,this.personalInfoForm=new l.cw({givenName:new l.NI("",[l.kI.required,l.kI.pattern(/^[A-Za-z]*$/)]),middleName:new l.NI("",[l.kI.required,l.kI.pattern(/^[A-Za-z]*$/)]),familyName:new l.NI("",[l.kI.required,l.kI.pattern(/^[A-Za-z]*$/)]),gender:new l.NI("M",[l.kI.required]),birthdate:new l.NI("",[l.kI.required]),age:new l.NI("",[l.kI.required,l.kI.min(18),l.kI.pattern(/^[0-9]*$/)]),countryCode1:new l.NI("+91"),countryCode2:new l.NI("+91"),phoneNumber:new l.NI("",[l.kI.required]),whatsapp:new l.NI("",[l.kI.required]),emailId:new l.NI("",[l.kI.required,l.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")],[yt.createValidator(this.authService,s.On.EMAIL_ID,(0,f.TL)(!0,s.On.PROVIDER).uuid)])})}get f1(){return this.personalInfoForm.controls}ngOnInit(){this.translateService.use((0,f.TL)(!1,s.Mj.SELECTED_LANGUAGE)),this.today=h().format("YYYY-MM-DD"),this.user=(0,f.TL)(!0,s.On.USER),this.provider=(0,f.TL)(!0,s.On.PROVIDER),this.hwName=(0,f.TL)(!1,s.On.DOCTOR_NAME),this.profilePicUrl=this.baseUrl+"/personimage/"+this.provider.person.uuid,this.pageTitleService.setTitle(null),this.formControlValueChanges(),this.getProviderAttributeTypes(),this.subscription1=this.personalInfoForm.get(s.On.PHONE_NUMBER).valueChanges.subscribe(e=>{e&&e.length>this.maxTelLegth1&&this.personalInfoForm.get(s.On.PHONE_NUMBER).setValue(e.substring(0,this.maxTelLegth1))}),this.subscription2=this.personalInfoForm.get(s.On.WHATS_APP).valueChanges.subscribe(e=>{e&&e.length>this.maxTelLegth2&&this.personalInfoForm.get(s.On.WHATS_APP).setValue(e.substring(0,this.maxTelLegth2))})}formControlValueChanges(){this.personalInfoForm.get(s.On.BIRTHDATE).valueChanges.subscribe(e=>{e&&this.personalInfoForm.patchValue({age:h().diff(h(e),"years",!1)})})}getProviderAttributeTypes(){this.providerService.getProviderAttributeTypes().subscribe(e=>{e.results.length&&(this.providerAttributeTypes=e.results,this.patchFormValues())})}patchFormValues(){if(this.provider){const e={};e.givenName=this.provider.person?.preferredName?this.provider.person?.preferredName.givenName:null,e.middleName=this.provider.person?.preferredName?this.provider.person?.preferredName.middleName:null,e.familyName=this.provider.person?.preferredName?this.provider.person?.preferredName.familyName:null,e.gender=this.provider.person?.gender?this.provider.person?.gender:null,e.birthdate=this.provider.person?.birthdate?h(this.provider.person?.birthdate).format("YYYY-MM-DD"):null,e.age=this.provider.person?.age?this.provider.person?.age:null,this.providerAttributeTypes.forEach(i=>{switch(i.display){case s.On.ADDRESS:case s.On.CONSULTATION_LANGUAGE:break;case s.On.COUNTRY_CODE:e.countryCode1=this.getAttributeValue(i.uuid,i.display),e.countryCode2=this.getAttributeValue(i.uuid,i.display);break;case s.On.EMAIL_ID:e.emailId=this.getAttributeValue(i.uuid,i.display);break;case s.On.FONT_OF_SIGN:break;case s.On.PHONE_NUMBER:console.log(this.getAttributeValue(i.uuid,i.display)),e.phoneNumber=this.getAttributeValue(i.uuid,i.display),this.phoneNumberValid=!!e.phoneNumber,this.oldPhoneNumber=this.getAttributeValue(i.uuid,i.display);break;case s.On.QUALIFICATION:case s.On.REGISTRATION_NUMBER:case s.On.RESEARCH_EXPERIENCE:case s.On.SIGNATURE:case s.On.SIGNATURE_TYPE:case s.On.SPECIALIZATION:case s.On.TEXT_OF_SIGN:case s.On.TYPE_OF_PROFESSION:break;case s.On.WHATS_APP:e.whatsapp=this.getAttributeValue(i.uuid,i.display),this.whatsAppNumberValid=!!e.whatsapp}}),this.personalInfoForm.patchValue(e),e.phoneNumber&&this.validateProviderAttribute(s.On.PHONE_NUMBER)}}getAttributeValue(e,i){let o=null;for(let r=0;r<this.provider.attributes.length;r++)if(this.provider.attributes[r].attributeType.display===i&&this.provider.attributes[r].attributeType.uuid===e&&!1===this.provider.attributes[r].voided){o=this.provider.attributes[r].value;break}return o}stepChanged(e){this.submitted=!1}preview(e){if(e.target.files&&e.target.files[0]){if(this.file=e.target.files[0],!this.file.name.endsWith(".jpg")&&!this.file.name.endsWith(".jpeg"))return void this.toastr.warning("Upload JPG/JPEG format image only.","Upload error!");const i=new FileReader;i.onload=o=>{this.profilePicUrl=i.result;const r=i.result.toString().split(",");this.profileService.updateProfileImage({person:this.provider.person.uuid,base64EncodedImage:r[1]}).subscribe(p=>{this.toastr.success("Profile picture uploaded successfully!","Profile Pic Uploaded")})},i.readAsDataURL(this.file)}}hasError(e,i){switch(i){case s.On.PHONE_NUMBER:this.phoneNumberValid=e;break;case s.On.WHATS_APP_NUMBER:this.whatsAppNumberValid=e}}getNumber(e,i){switch(i){case s.On.PHONE_NUMBER:this.phoneNumberValid=!0,this.phoneNumber=e,this.validateProviderAttribute(s.On.PHONE_NUMBER);break;case s.On.WHATS_APP_NUMBER:this.whatsAppNumberValid=!0,this.whatsAppNumber=e}}telInputObject(e,i){switch(i){case s.On.PHONE_NUMBER:this.phoneNumberObj=e;break;case s.On.WHATS_APP_NUMBER:this.whatsAppObj=e}}onCountryChange(e,i){switch(i){case s.On.PHONE_NUMBER:this.phoneNumberValid=!1,this.phoneNumberObj.setCountry(e.iso2),this.personalInfoForm.patchValue({countryCode1:e?.dialCode}),this.maxTelLegth1=this.authService.getInternationalMaskByCountryCode(e.iso2.toUpperCase(),!1).filter(o=>" "!==o).length;break;case s.On.WHATS_APP_NUMBER:this.whatsAppNumberValid=!1,this.whatsAppObj.setCountry(e.iso2),this.personalInfoForm.patchValue({countryCode2:e?.dialCode}),this.maxTelLegth2=this.authService.getInternationalMaskByCountryCode(e.iso2.toUpperCase(),!1).filter(o=>" "!==o).length}}updateProfile(){if(this.submitted=!0,this.personalInfoForm.invalid||!this.phoneNumberValid||!this.whatsAppNumberValid||!this.phoneValid)return;const e=this.personalInfoForm.value;this.providerService.updatePerson(this.provider.person.uuid,e.gender,e.age,e.birthdate).subscribe(i=>{this.provider.person?.preferredName?this.providerService.updatePersonName(this.provider.person.uuid,this.provider.person?.preferredName.uuid,e.givenName,e.middleName,e.familyName).subscribe(o=>{this.updateProviderAttributes()}):this.providerService.createPersonName(this.provider.person.uuid,e.givenName,e.middleName,e.familyName).subscribe(o=>{this.updateProviderAttributes()})})}updateProviderAttributes(){const e=[];this.providerAttributeTypes.forEach(i=>{switch(i.display){case s.On.ADDRESS:case s.On.CONSULTATION_LANGUAGE:break;case s.On.COUNTRY_CODE:e.push(this.providerService.addOrUpdateProviderAttribute(this.provider.uuid,this.getAttributeUuid(i.uuid,i.display),i.uuid,this.getAttributeValueFromForm("countryCode1")));break;case s.On.EMAIL_ID:e.push(this.providerService.addOrUpdateProviderAttribute(this.provider.uuid,this.getAttributeUuid(i.uuid,i.display),i.uuid,this.getAttributeValueFromForm(i.display)));break;case s.On.FONT_OF_SIGN:break;case s.On.PHONE_NUMBER:e.push(this.providerService.addOrUpdateProviderAttribute(this.provider.uuid,this.getAttributeUuid(i.uuid,i.display),i.uuid,this.getAttributeValueFromForm(i.display)));break;case s.On.QUALIFICATION:case s.On.REGISTRATION_NUMBER:case s.On.RESEARCH_EXPERIENCE:case s.On.SIGNATURE:case s.On.SIGNATURE_TYPE:case s.On.SPECIALIZATION:case s.On.TEXT_OF_SIGN:case s.On.TYPE_OF_PROFESSION:break;case s.On.WHATS_APP:e.push(this.providerService.addOrUpdateProviderAttribute(this.provider.uuid,this.getAttributeUuid(i.uuid,i.display),i.uuid,this.getAttributeValueFromForm(i.display)))}}),this.providerService.requestDataFromMultipleSources(e).subscribe(i=>{this.personalInfoForm.get(s.On.PHONE_NUMBER).dirty&&this.oldPhoneNumber!==this.getAttributeValueFromForm(s.On.PHONE_NUMBER)?(this.toastr.success("Profile has been updated successfully","Profile Updated"),this.toastr.warning("Kindly re-login to see updated details","Re-login"),this.cookieService.delete("app.sid","/"),this.authService.logOut()):this.authService.getProvider((0,f.TL)(!0,s.On.USER).uuid).subscribe(o=>{if(o.results.length){(0,f.pY)(s.On.PROVIDER,JSON.stringify(o.results[0])),(0,f.pY)(s.On.DOCTOR_NAME,o.results[0].person.display);const r=(0,f.TL)(!0,s.On.USER);r.person.display=o.results[0].person.display,(0,f.pY)(s.On.USER,JSON.stringify(r)),this.toastr.success("Profile has been updated successfully","Profile Updated")}})})}getAttributeUuid(e,i){let o=null;for(let r=0;r<this.provider.attributes.length;r++)if(this.provider.attributes[r].attributeType.display===i&&this.provider.attributes[r].attributeType.uuid===e&&!1===this.provider.attributes[r].voided){o=this.provider.attributes[r].uuid;break}return o}getAttributeValueFromForm(e){return{...this.personalInfoForm.value}[e]}detectMimeType(e){return this.profileService.detectMimeType(e)}validateProviderAttribute(e){this.checkingPhoneValidity=!0,this.authService.validateProviderAttribute(e,this.personalInfoForm.value[e],this.provider.uuid).subscribe(i=>{i.success&&(e===s.On.PHONE_NUMBER?this.phoneValid=i.data:this.emailValid=i.data,setTimeout(()=>{this.checkingPhoneValidity=!1},500))})}ngOnDestroy(){this.subscription1?.unsubscribe(),this.subscription2?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Z),t.Y36(St.H),t.Y36(F._W),t.Y36(Pt),t.Y36(et.e),t.Y36(A.F0),t.Y36(wt.N),t.Y36(X.cM),t.Y36(Z.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-hw-profile"]],viewQuery:function(e,i){if(1&e&&t.Gf(Q,5),2&e){let o;t.iGM(o=t.CRH())&&(i.stepper=o.first)}},features:[t._Bn([{provide:x._A,useClass:Ls},{provide:x.sG,useValue:Es}])],decls:130,vars:92,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-3","p-1"],[1,"user-profile-con"],[1,"profile-pic-con"],[1,"profile-pic"],["alt","","width","80px","height","80px",3,"src"],[1,"file-input-con"],["for","profile-pic"],["src","assets/svgs/camera.svg","alt",""],["id","profile-pic","type","file","accept","image/jpg","data-test-id","fileInput",3,"change"],[1,"profile-content"],[1,"col-md-9","p-1"],[1,"intel-card"],["linear","",3,"disableRipple","selectionChange"],["stepper",""],["matStepLabel",""],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-4"],["for","givenName"],["type","text","formControlName","givenName","data-test-id","etGivenName",1,"form-control",3,"placeholder"],[4,"ngIf"],["for","middleName"],["type","text","formControlName","middleName","data-test-id","etMiddleName",1,"form-control",3,"placeholder"],["for","familyName"],["type","text","formControlName","familyName","data-test-id","etFamilyName",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6"],["for","gender"],[1,"py-2"],[1,"pretty","p-default","p-round"],["type","radio","value","M","formControlName","gender","data-test-id","radioGenderMale"],[1,"state","p-success"],["type","radio","value","F","formControlName","gender","data-test-id","radioGenderFemale"],["type","radio","value","U","formControlName","gender","data-test-id","radioGenderOther"],["for","birthdate"],[1,"input-group"],["type","text","formControlName","birthdate","aria-label","Birthdate","aria-describedby","basic-addon1","readonly","","data-test-id","etBirthdate",1,"form-control",3,"max","matDatepicker","placeholder"],["dobdp",""],[1,"input-group-append"],["id","basic-addon1",1,"input-group-text"],["matSuffix","","data-test-id","dpBirthdate",3,"for"],["matDatepickerToggleIcon","","src","assets/svgs/calendar-date.svg","alt",""],[1,"form-group","col-md-2"],["for","age"],["type","number","formControlName","age","readonly","","data-test-id","etAge",1,"form-control",3,"placeholder"],[1,"form-group","col-md-6","email-field"],["for","phoneNumber"],["type","text","ng2TelInput","","data-test-id","etPhoneNumber","placeholder","Enter Mobile Number","formControlName","phoneNumber","onkeypress","return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))",1,"form-control",3,"ng2TelInputOptions","hasError","ng2TelOutput","intlTelInputObject","countryChange"],[1,"check"],["diameter","20",4,"ngIf"],["class","success",4,"ngIf"],["class","error",4,"ngIf"],["for","whatsapp"],["type","text","ng2TelInput","","data-test-id","etWhatsAppNumber","placeholder","Enter Mobile Number","formControlName","whatsapp","onkeypress","return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))",1,"form-control",3,"ng2TelInputOptions","hasError","ng2TelOutput","intlTelInputObject","countryChange"],["for","emailId"],["type","email","formControlName","emailId","data-test-id","etEmail",1,"form-control",3,"placeholder"],[1,"form-group","col-md-12","text-right"],["type","submit","data-test-id","btnNext",1,"btn","next-btn"],[1,"custom-step-label"],[1,"label-index"],["class","error-msg",4,"ngIf"],[1,"error-msg"],["diameter","20"],[1,"success"],[1,"error"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.TgZ(7,"div",7)(8,"label",8),t._UZ(9,"img",9),t.qZA(),t.TgZ(10,"input",10),t.NdJ("change",function(r){return i.preview(r)}),t.qZA()()()(),t.TgZ(11,"div",11)(12,"h6"),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.TgZ(15,"p"),t._uU(16),t.ALo(17,"translate"),t.qZA()()()(),t.TgZ(18,"div",12)(19,"div",13)(20,"mat-stepper",14,15),t.NdJ("selectionChange",function(r){return i.stepChanged(r)}),t.TgZ(22,"mat-step"),t.YNc(23,is,5,3,"ng-template",16),t.TgZ(24,"form",17),t.NdJ("ngSubmit",function(){return i.updateProfile()}),t.TgZ(25,"div",18)(26,"div",19)(27,"label",20),t._uU(28),t.ALo(29,"translate"),t.qZA(),t._UZ(30,"input",21),t.ALo(31,"translate"),t.YNc(32,os,3,2,"div",22),t.qZA(),t.TgZ(33,"div",19)(34,"label",23),t._uU(35),t.ALo(36,"translate"),t.qZA(),t._UZ(37,"input",24),t.ALo(38,"translate"),t.YNc(39,ls,3,2,"div",22),t.qZA(),t.TgZ(40,"div",19)(41,"label",25),t._uU(42),t.ALo(43,"translate"),t.qZA(),t._UZ(44,"input",26),t.ALo(45,"translate"),t.YNc(46,ds,3,2,"div",22),t.qZA()(),t.TgZ(47,"div",18)(48,"div",27)(49,"label",28),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"div",29)(53,"div",30),t._UZ(54,"input",31),t.TgZ(55,"div",32)(56,"label"),t._uU(57),t.ALo(58,"translate"),t.qZA()()(),t.TgZ(59,"div",30),t._UZ(60,"input",33),t.TgZ(61,"div",32)(62,"label"),t._uU(63),t.ALo(64,"translate"),t.qZA()()(),t.TgZ(65,"div",30),t._UZ(66,"input",34),t.TgZ(67,"div",32)(68,"label"),t._uU(69),t.ALo(70,"translate"),t.qZA()()()()(),t.TgZ(71,"div",19)(72,"label",35),t._uU(73),t.ALo(74,"translate"),t.qZA(),t.TgZ(75,"div",36),t._UZ(76,"input",37),t.ALo(77,"translate"),t._UZ(78,"mat-datepicker",null,38),t.TgZ(80,"div",39)(81,"span",40)(82,"mat-datepicker-toggle",41),t._UZ(83,"img",42),t.qZA()()()(),t.YNc(84,ms,2,1,"div",22),t.qZA(),t.TgZ(85,"div",43)(86,"label",44),t._uU(87),t.ALo(88,"translate"),t.qZA(),t._UZ(89,"input",45),t.ALo(90,"translate"),t.YNc(91,fs,4,3,"div",22),t.qZA()(),t.TgZ(92,"div",18)(93,"div",46)(94,"label",47),t._uU(95),t.ALo(96,"translate"),t.qZA(),t.TgZ(97,"input",48),t.NdJ("hasError",function(r){return i.hasError(r,"phoneNumber")})("ng2TelOutput",function(r){return i.getNumber(r,"phoneNumber")})("intlTelInputObject",function(r){return i.telInputObject(r,"phoneNumber")})("countryChange",function(r){return i.onCountryChange(r,"phoneNumber")}),t.qZA(),t.TgZ(98,"div",49),t.YNc(99,bs,1,0,"mat-spinner",50),t.YNc(100,vs,2,0,"mat-icon",51),t.YNc(101,xs,2,0,"mat-icon",52),t.qZA(),t.YNc(102,Zs,2,1,"div",22),t.YNc(103,As,4,3,"div",22),t.YNc(104,Ts,4,3,"div",22),t.qZA(),t.TgZ(105,"div",27)(106,"label",53),t._uU(107),t.ALo(108,"translate"),t.qZA(),t.TgZ(109,"input",54),t.NdJ("hasError",function(r){return i.hasError(r,"whatsAppNumber")})("ng2TelOutput",function(r){return i.getNumber(r,"whatsAppNumber")})("intlTelInputObject",function(r){return i.telInputObject(r,"whatsAppNumber")})("countryChange",function(r){return i.onCountryChange(r,"whatsAppNumber")}),t.qZA(),t.YNc(110,ys,2,1,"div",22),t.YNc(111,Ss,4,3,"div",22),t.qZA()(),t.TgZ(112,"div",18)(113,"div",46)(114,"label",55),t._uU(115),t.ALo(116,"translate"),t.qZA(),t._UZ(117,"input",56),t.ALo(118,"translate"),t.TgZ(119,"div",49),t.YNc(120,Ps,1,0,"mat-spinner",50),t.YNc(121,ws,2,0,"mat-icon",51),t.YNc(122,Ms,2,0,"mat-icon",52),t.qZA(),t.YNc(123,ks,3,2,"div",22),t.YNc(124,qs,2,1,"div",22),t.qZA()(),t.TgZ(125,"div",18)(126,"div",57)(127,"button",58),t._uU(128),t.ALo(129,"translate"),t.qZA()()()()()()()()()()),2&e){const o=t.MAs(79);t.xp6(6),t.Q6J("src",i.profilePicUrl,t.LSH),t.xp6(7),t.Oqu(t.lcZ(14,48,i.hwName)),t.xp6(3),t.AsE("",t.lcZ(17,50,"Username"),": ",null==i.user?null:i.user.display,""),t.xp6(4),t.Q6J("disableRipple",!0),t.xp6(4),t.Q6J("formGroup",i.personalInfoForm),t.xp6(4),t.hij("",t.lcZ(29,52,"First name")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(31,54,"Enter first name")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.givenName.errors),t.xp6(3),t.hij("",t.lcZ(36,56,"Middle name")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(38,58,"Enter middle name")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.middleName.errors),t.xp6(3),t.hij("",t.lcZ(43,60,"Last name")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(45,62,"Enter last name")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.familyName.errors),t.xp6(4),t.hij("",t.lcZ(51,64,"Gender")," *"),t.xp6(7),t.Oqu(t.lcZ(58,66,"Male")),t.xp6(6),t.Oqu(t.lcZ(64,68,"Female")),t.xp6(6),t.Oqu(t.lcZ(70,70,"Other")),t.xp6(4),t.hij("",t.lcZ(74,72,"Date of birth")," *"),t.xp6(3),t.s9C("placeholder",t.lcZ(77,74,"Enter DOB")),t.Q6J("max",i.today)("matDatepicker",o),t.xp6(6),t.Q6J("for",o),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.birthdate.errors),t.xp6(3),t.hij("",t.lcZ(88,76,"Age")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(90,78,"Enter age")),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f1.age.errors),t.xp6(4),t.hij("",t.lcZ(96,80,"Phone Number")," *"),t.xp6(2),t.Q6J("ng2TelInputOptions",t.DdM(90,Et)),t.xp6(2),t.Q6J("ngIf",i.checkingPhoneValidity),t.xp6(1),t.Q6J("ngIf",!(null!=i.f1&&null!=i.f1.phoneNumber&&i.f1.phoneNumber.errors)&&i.phoneNumberValid&&i.phoneValid&&!i.checkingPhoneValidity),t.xp6(1),t.Q6J("ngIf",!(null!=i.f1&&null!=i.f1.phoneNumber&&i.f1.phoneNumber.errors)&&i.phoneNumberValid&&!i.phoneValid&&!i.checkingPhoneValidity),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f1.phoneNumber.errors),t.xp6(1),t.Q6J("ngIf",i.submitted&&!(null!=i.f1&&null!=i.f1.phoneNumber&&i.f1.phoneNumber.errors)&&!i.phoneNumberValid),t.xp6(1),t.Q6J("ngIf",!(null!=i.f1&&null!=i.f1.phoneNumber&&i.f1.phoneNumber.errors)&&i.phoneNumberValid&&!i.phoneValid),t.xp6(3),t.hij("",t.lcZ(108,82,"WhatsApp Number")," *"),t.xp6(2),t.Q6J("ng2TelInputOptions",t.DdM(91,Et)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f1.whatsapp.errors),t.xp6(1),t.Q6J("ngIf",i.submitted&&!(null!=i.f1.whatsapp&&i.f1.whatsapp.errors)&&!i.whatsAppNumberValid),t.xp6(4),t.hij("",t.lcZ(116,84,"Email ID")," *"),t.xp6(2),t.s9C("placeholder",t.lcZ(118,86,"Enter email")),t.xp6(3),t.Q6J("ngIf",null==i.f1.emailId?null:i.f1.emailId.pending),t.xp6(1),t.Q6J("ngIf",!(null!=i.f1&&null!=i.f1.emailId&&i.f1.emailId.errors||null!=i.f1.emailId&&i.f1.emailId.pending)),t.xp6(1),t.Q6J("ngIf",(null==i.f1||null==i.f1.emailId||null==i.f1.emailId.errors?null:i.f1.emailId.errors.alreadyExists)&&!(null!=i.f1.emailId&&i.f1.emailId.pending)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f1.emailId.errors),t.xp6(1),t.Q6J("ngIf",i.f1.emailId.errors),t.xp6(4),t.hij(" ",t.lcZ(129,88,"Save")," ")}},dependencies:[g.O5,k.Hw,ct,J,Q,l._Y,l.Fj,l.wV,l._,l.JJ,l.JL,l.sg,l.u,dt._,T.Mq,T.hl,T.nW,T.Q0,Nt,L.z,g.rS,Z.X$],styles:['.user-profile-con[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 4px 24px #1f1c3a14;border-radius:12px;min-height:192px;width:100%;overflow:hidden}.user-profile-con[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{padding:60px 24px 24px}.user-profile-con[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--color-darkestBlue);font-size:16px;line-height:150%;font-weight:700;margin-bottom:0}.user-profile-con[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:150%;color:var(--color-gray);margin-bottom:0}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]{position:relative;min-height:95px;background:var(--color-lightGray) url(ecg-bg.8a0da99c4bdc2339.png) no-repeat;background-size:100% 100%}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{position:absolute;bottom:0;left:10px;transform:translateY(50%);border:1px solid rgba(178,175,190,.2);border-radius:50%}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .file-input-con[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;bottom:0;right:0;border-radius:50%;background:var(--color-lightGray);overflow:hidden;text-align:center;border:1px solid rgba(178,175,190,.2)}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .file-input-con[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;inset:0;cursor:pointer}.user-profile-con[_ngcontent-%COMP%]   .profile-pic-con[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   .file-input-con[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:0px;height:0px;opacity:0}  .mat-horizontal-stepper-header{pointer-events:none!important}  .mat-stepper-horizontal{font-family:DM Sans;border-radius:12px}  .mat-stepper-horizontal .mat-horizontal-content-container{padding:24px 24px 100px}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container{border-bottom:1px solid rgba(178,175,190,.2)}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .mat-step-header:hover,   .mat-stepper-horizontal .mat-horizontal-stepper-header-container .mat-step-header:focus{background-color:transparent!important}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .mat-step-icon{display:none}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .mat-step-label-selected .label-index{border:2px solid var(--color-green);height:34px;width:34px}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .custom-step-label{display:flex;align-items:center;font-size:18px;flex-wrap:nowrap;white-space:normal}  .mat-stepper-horizontal .mat-horizontal-stepper-header-container .custom-step-label .label-index{padding:10px;height:40px;width:40px;margin-right:16px;background:#E6FFF3;border-radius:50%;font-weight:700;color:var(--color-green);text-align:center;min-width:40px}  .mat-stepper-horizontal .mat-stepper-horizontal-line{position:relative;margin:0;min-width:10px;max-width:10px;border:none}  .mat-stepper-horizontal .mat-stepper-horizontal-line:after{position:absolute;right:0;top:-10px;font-family:Material Icons;content:"arrow_forward_ios"}.form-row[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--color-darkBlue);font-weight:700;font-size:18px;line-height:150%}.form-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:150%;color:var(--color-gray)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:var(--color-darkestBlue);font-weight:700;display:flex;flex-direction:row;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;color:var(--color-gray);font-weight:400}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-darkBlue);border-radius:8px;font-size:18px;color:var(--color-white);position:relative;min-width:206px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{height:56px;background:var(--color-white);border-radius:8px;font-size:18px;color:var(--color-darkBlue);position:relative;min-width:206px;font-weight:700;border:1px solid var(--color-lightGray)}.form-group[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{position:absolute;left:20px;top:50%;transform:translateY(-50%);width:20px;height:20px}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:var(--color-red)}.form-control[_ngcontent-%COMP%]{padding:14px 16px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:48px;font-size:16px;color:var(--color-darkestBlue)}textarea.form-control[_ngcontent-%COMP%]{height:fit-content}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}  .iti{width:100%}  .iti .iti__country-list{top:48px;left:0;border-radius:8px}  .iti .iti__selected-flag{background-color:transparent}  .iti .iti__flag-container,   .iti .iti--separate-dial-code .iti__flag-container{height:48px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;padding:14px 16px}  .iti .iti__flag-container:hover .iti__selected-flag{background-color:transparent}  .iti input,   .iti .iti input[type=text]{margin-left:auto!important;width:calc(100% - 120px);padding-left:16px!important}  .signature-tab-group.mat-tab-group{font-family:DM Sans}  .signature-tab-group.mat-tab-group .mat-tab-body-wrapper .mat-tab-body .mat-tab-body-content{padding:24px}  .signature-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-ink-bar{background:var(--color-lightRed);border-radius:1px}  .signature-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-tab-label{min-width:fit-content;opacity:1}  .signature-tab-group.mat-tab-group .mat-tab-header .mat-tab-label-container .mat-tab-label .mat-tab-label-content{font-weight:700;font-size:16px;line-height:150%;color:var(--color-darkestBlue)}  canvas{background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px}  .ng-select.profile-select.ng-select-single .ng-select-container,   .ng-select.profile-select.ng-select-multiple .ng-select-container{height:48px;width:100%;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;box-shadow:none}  .ng-select.profile-select.ng-select-single .ng-select-container .ng-value-container,   .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-value-container{position:relative}  .ng-select.profile-select.ng-select-single .ng-select-container .ng-value-container .ng-input,   .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{top:50%;transform:translateY(-50%)}  .ng-select.profile-select.ng-select-single .ng-select-container .ng-arrow-wrapper .ng-arrow,   .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-arrow-wrapper .ng-arrow{border:none}  .ng-select.profile-select.ng-select-single .ng-select-container .ng-arrow-wrapper .ng-arrow:after,   .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-arrow-wrapper .ng-arrow:after{content:url(chevron-down-input.fbed60456e1aa553.svg);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}  .ng-select.profile-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background:none;font-size:16px}  .ng-select.profile-select.ng-select-single.ng-select-container:hover,   .ng-select.profile-select.ng-select-single.ng-select-container:focus{box-shadow:none;outline:none}.expandable[_ngcontent-%COMP%]{border:none!important;min-height:0px!important}.dropzone[_ngcontent-%COMP%]{font-family:DM Sans;padding:10px;background:var(--color-offWhite);border-radius:4px;width:fit-content;cursor:pointer}.dropzone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:var(--color-gray);margin-bottom:0}.pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400!important}.pretty.p-image[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:none}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{border:1px solid rgba(178,175,190,.2);background:var(--color-offWhite);border-radius:8px;height:48px}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:14px 16px;height:48px;font-size:16px;color:var(--color-darkestBlue);border:none;background:transparent}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.pretty[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px!important}.email-field[_ngcontent-%COMP%]{position:relative}.email-field[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{position:absolute;right:20px;top:40px}.email-field[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   .mat-icon.success[_ngcontent-%COMP%]{color:green}.email-field[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]   .mat-icon.error[_ngcontent-%COMP%]{color:var(--color-red)}@media (max-width: 768px){  .mat-stepper-horizontal .mat-horizontal-stepper-header-container{flex-direction:column;align-items:start}  .mat-stepper-horizontal .mat-stepper-horizontal-line{align-self:center}.form-group[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:100%}}']}),n})();const Fs=[{path:"",canActivate:[Ft],component:vi},{path:"profile",canActivate:[X.DD],data:{breadcrumb:"Profile",permissions:{except:["ORGANIZATIONAL: NURSE"],redirectTo:"/dashboard/hw-profile"}},component:Sa},{path:"get-started",data:{breadcrumb:"Get-Started"},component:Ci},{path:"visit-summary/:id",data:{breadcrumb:"Visit Summary"},component:es},{path:"open-chat/:id",data:{breadcrumb:"Open Chat"},component:(()=>{class n{constructor(e,i){this.router=e,this.route=i}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");this.router.navigateByUrl("/dashboard/visit-summary/"+e,{state:{openChat:"true"}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.F0),t.Y36(A.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-open-chat"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"redirecting to Visit Chat...."),t.qZA())}}),n})()},{path:"change-password",data:{breadcrumb:"Change Password"},component:Bt},{path:"hw-profile",data:{breadcrumb:"Profile"},component:Ds}];let Rs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[A.Bz.forChild(Fs),A.Bz]}),n})();var Ys=d(1894),Js=d(9832),Qs=d(6261),zs=d(1075);function Lt(n){return new Js.w(n,"./assets/i18n/",".json")}let js=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:nt.ye,useClass:Qs.e}],imports:[g.ez,Rs,S.To,v.p0,nt.TU,k.Ps,ht.AV,G.ot,an,V.Nh,pt.j,q.A0,l.u5,l.UX,dt.g,Ys.bB,qt.ZS,T.FA,X.VI.forChild({permissionsIsolate:!1,rolesIsolate:!1,configurationIsolate:!1}),Z.aw.forRoot({loader:{provide:Z.Zw,useFactory:Lt,deps:[K.eN]}}),hn,zs.m]}),n})()}}]);