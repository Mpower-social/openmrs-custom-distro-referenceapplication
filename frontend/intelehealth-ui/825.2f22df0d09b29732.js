"use strict";(self.webpackChunkintelehealth_ui=self.webpackChunkintelehealth_ui||[]).push([[825],{3825:(De,v,s)=>{s.r(v),s.d(v,{AdminModule:()=>Ze,HttpLoaderFactory:()=>H});var h=s(6895),y=s(4476),g=s(7266),t=s(4650),T=s(5383);let B=(()=>{class n{constructor(e){this.socketSvc=e}ngOnInit(){this.socketSvc.initSocketSupport(!0),this.subscription1=this.socketSvc.onEvent(g.N9.ADMIN_UNREAD_COUNT).subscribe(e=>{this.socketSvc.addCount(e)}),setTimeout(()=>{this.socketSvc.emitEvent(g.N9.GET_ADMIN_UNREAD_COUNT,null)},1500),this.interval=setInterval(()=>{this.socketSvc.emitEvent(g.N9.GET_ADMIN_UNREAD_COUNT,null)},3e4)}ngOnDestroy(){this.subscription1?.unsubscribe(),this.interval&&clearInterval(this.interval)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[y.lC],encapsulation:2}),n})();var $=s(8160),J=s(2543),w=s(1279),S=s(1377),d=s(1149),Q=s(29),b=s(7933),M=s(4465),Y=s(8426),j=s(6879),V=s(7185),A=s(7154),_=s(9383),C=s(8796),m=s(4006),p=s(4865),c=s(6201),x=s(3263),O=s(1879);const K=["input"],X=function(n){return{enterDuration:n}},W=["*"],tt=new t.OlP("mat-checkbox-default-options",{providedIn:"root",factory:P});function P(){return{color:"accent",clickAction:"check-indeterminate"}}let et=0;const Z=P(),nt={provide:m.JU,useExisting:(0,t.Gpc)(()=>D),multi:!0};class it{}const at=(0,c.sb)((0,c.pj)((0,c.Kr)((0,c.Id)(class{constructor(n){this._elementRef=n}}))));let D=(()=>{class n extends at{constructor(e,i,o,r,l,u,z){super(e),this._changeDetectorRef=i,this._focusMonitor=o,this._ngZone=r,this._animationMode=u,this._options=z,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++et,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new t.vpe,this.indeterminateChange=new t.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Z,this.color=this.defaultColor=this._options.color||Z.color,this.tabIndex=parseInt(l)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=(0,p.Ig)(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=(0,p.Ig)(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=(0,p.Ig)(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,o=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const r=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(r)},1e3)})}}_emitChangeEvent(){const e=new it;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(e){var i;const o=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===o?!this.disabled&&"noop"===o&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==o&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let o="";switch(e){case 0:if(1===i)o="unchecked-checked";else{if(3!=i)return"";o="unchecked-indeterminate"}break;case 2:o=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:o=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:o=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${o}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(O.tE),t.Y36(t.R0b),t.$8M("tabindex"),t.Y36(t.QbO,8),t.Y36(tt,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(t.Gf(K,5),t.Gf(c.wG,5)),2&e){let o;t.iGM(o=t.CRH())&&(i._inputElement=o.first),t.iGM(o=t.CRH())&&(i.ripple=o.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(t.Ikx("id",i.id),t.uIk("tabindex",null),t.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[t._Bn([nt]),t.qOj],ngContentSelectors:W,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(t.F$t(),t.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),t.NdJ("change",function(r){return i._onInteractionEvent(r)})("click",function(r){return i._onInputClick(r)}),t.qZA(),t.TgZ(5,"span",5),t._UZ(6,"span",6),t.qZA(),t._UZ(7,"span",7),t.TgZ(8,"span",8),t.O4$(),t.TgZ(9,"svg",9),t._UZ(10,"path",10),t.qZA(),t.kcU(),t._UZ(11,"span",11),t.qZA()(),t.TgZ(12,"span",12,13),t.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),t.TgZ(14,"span",14),t._uU(15,"\xa0"),t.qZA(),t.Hsn(16),t.qZA()()),2&e){const o=t.MAs(1),r=t.MAs(13);t.uIk("for",i.inputId),t.xp6(2),t.ekj("mat-checkbox-inner-container-no-side-margin",!r.textContent||!r.textContent.trim()),t.xp6(1),t.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),t.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),t.xp6(2),t.Q6J("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",t.VKq(19,X,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[c.wG,x.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),st=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.si,c.BQ,x.Q8,I,c.BQ,I]}),n})();var L=s(9824),R=s(3274);function ct(n,a){if(1&n&&(t.TgZ(0,"ng-option",39),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.keyName),t.xp6(1),t.hij(" ",e.keyName," ")}}function lt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openAddLicenseKeyModal("edit"))}),t._UZ(1,"img",41),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Edit"),""))}function dt(n,a){1&n&&t._UZ(0,"th",42)}function mt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",43)(1,"mat-checkbox",44),t.NdJ("click",function(o){return o.stopPropagation()})("change",function(o){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(o?u.selection.toggle(l):null)}),t.qZA()()}if(2&n){const e=a.$implicit,i=t.oxw();t.xp6(1),t.Q6J("color","primary")("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function ht(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Sr. No.")," "))}function gt(n,a){if(1&n&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&n){const e=a.index,i=t.oxw();t.xp6(1),t.hij(" ",0==i.paginator.pageIndex?e+1:1+e+i.paginator.pageIndex*i.paginator.pageSize," ")}}function pt(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Name")," "))}function ut(n,a){if(1&n&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function ft(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Last Updated")," "))}function _t(n,a){if(1&n&&(t.TgZ(0,"td",43),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.updatedAt,"dd MMM, yyyy"))}}function bt(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Active")," "))}function xt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",43)(1,"div",45)(2,"input",46),t.NdJ("change",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.toggleStatus(r))}),t.qZA(),t.TgZ(3,"div",47),t._UZ(4,"label"),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(2),t.Q6J("checked",e.isActive)}}function Mt(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Download")," "))}function Ct(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",43)(1,"button",48),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.downloadMindmap(r.json,r.name))}),t._UZ(2,"img",49),t.qZA()()}}function kt(n,a){1&n&&(t.TgZ(0,"th",42),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Info")," "))}function vt(n,a){if(1&n&&(t.TgZ(0,"td",43)(1,"button",50),t._UZ(2,"img",51),t.qZA()()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("matTooltip",e.name)}}function yt(n,a){if(1&n&&(t.TgZ(0,"tr",52)(1,"td",53),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.uIk("colspan",e.displayedColumns.length),t.xp6(1),t.hij(" ",t.lcZ(3,2,"No data to display.")," ")}}function Tt(n,a){1&n&&t._UZ(0,"tr",54)}function wt(n,a){if(1&n&&t._UZ(0,"tr",55),2&n){const e=a.$implicit,i=t.oxw();t.ekj("selected",i.selection.isSelected(e))}}function St(n,a){if(1&n&&(t.TgZ(0,"b"),t._uU(1),t.qZA(),t._uU(2),t.ALo(3,"translate")),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(3,2,"Mindmap selected"),"")}}function At(n,a){if(1&n&&(t.TgZ(0,"b"),t._uU(1),t.qZA(),t._uU(2),t.ALo(3,"translate")),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.selection.selected.length),t.xp6(1),t.hij(" ",t.lcZ(3,2,"Mindmaps selected"),"")}}function Ot(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",56)(1,"div",57)(2,"h6",58),t.YNc(3,St,4,4,"ng-template",59),t.YNc(4,At,4,4,"ng-template",60),t.qZA(),t.TgZ(5,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteMindmap())}),t._UZ(6,"img",62),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"button",63),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clearSelection())}),t.TgZ(10,"mat-icon"),t._uU(11,"close"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngPlural",e.selection.selected.length),t.xp6(5),t.hij(" ",t.lcZ(8,2,"Delete")," ")}}const Pt=function(){return[5,10,20]};let Zt=(()=>{class n{constructor(e,i,o,r,l){this.mindmapService=e,this.coreService=i,this.toastr=o,this.pageTitleService=r,this.translateService=l,this.displayedColumns=["select","id","name","updatedAt","active","download","info"],this.dataSource=new d.by,this.selection=new Q.Ov(!1,[]),this.mindmaps=[],this.mindmapDatas=[]}ngOnInit(){this.translateService.use((0,M.TL)(!1,g.Mj.SELECTED_LANGUAGE)),this.pageTitleService.setTitle({title:"Ayu",imgUrl:"assets/svgs/ayu.svg",info:!0}),this.fetchMindmaps()}downloadMindmap(e,i){let o=JSON.stringify(JSON.parse(e)),r=document.createElement("a");r.setAttribute("href","data:text/json;charset=UTF-8,"+encodeURIComponent(o)),r.setAttribute("download",i),r.click()}fetchMindmaps(){this.mindmapService.getMindmapKey().subscribe(e=>{this.mindmaps=e.data,this.selectedLicense=this.mindmaps[0].keyName,this.licenceKeySelecter()},e=>{console.log("Something went wrong")})}licenceKeySelecter(){this.mindmapService.detailsMindmap(this.selectedLicense).subscribe(e=>{this.mindmapDatas=e.data,this.dataSource=new d.by(this.mindmapDatas),this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=(o,r)=>o.name.toLowerCase().includes(r);const{expiry:i}=this.mindmaps.find(o=>o.keyName===this.selectedLicense);this.expiryDate=i},e=>{console.log("Something went wrong")})}openUploadMindmapModal(){this.coreService.openUploadMindmapModal().subscribe(e=>{e&&e.filename&&e.value&&(e.key=this.selectedLicense,this.mindmapService.postMindmap(e).subscribe(i=>{i.success?(this.mindmapDatas.push(i.data),this.dataSource=new d.by(this.mindmapDatas),this.dataSource.paginator=this.paginator,this.toastr.success(`${e.filename} ${this.translateService.instant("has been uploaded successfully!")}`,this.translateService.instant("Mindmap Uploaded"))):this.toastr.error(`${this.translateService.instant("Failed to upload")} ${e.filename}`,this.translateService.instant("Mindmap Upload Failed"))}))})}openAddLicenseKeyModal(e){let i=this.mindmaps.find(o=>o.keyName===this.selectedLicense);this.coreService.openAddLicenseKeyModal("edit"==e?i:null).subscribe(o=>{o&&("edit"==e?this.mindmaps.forEach(r=>{r.keyName==o.keyName&&(this.expiryDate=o.expiry)}):this.mindmaps.push(o),this.toastr.success(`${this.translateService.instant("License Key")} ${o.keyName} ${this.translateService.instant("has been")}\n        ${this.translateService.instant("add"==e?"added":"updated")}\n        ${this.translateService.instant("successfully")}!`,`${this.translateService.instant("License Key")}\n        ${this.translateService.instant("add"==e?"added":"updated")}`))})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.clearSelection():this.selection.select(...this.dataSource.data)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteMindmap(){this.mindmapService.deleteMindmap(this.selection.selected[0].keyName,{mindmapName:this.selection.selected[0].name}).subscribe(e=>{e?(this.toastr.success(this.translateService.instant(e.message),this.translateService.instant("Mindmap Deleted")),this.clearSelection(),this.licenceKeySelecter()):this.toastr.error(this.translateService.instant("Something went wrong"),this.translateService.instant("Mindmap Delete Failed"))})}toggleStatus(e){this.mindmapService.toggleMindmapStatus({mindmapName:e.name,keyName:e.keyName}).subscribe(i=>{i.success?this.toastr.success(this.translateService.instant(i.message),this.translateService.instant("Mindmap Status Updated")):this.toastr.error(this.translateService.instant("Something went wrong"),this.translateService.instant("Mindmap Update Failed"))})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}clearSelection(){this.selection.clear()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y.X),t.Y36(j.p),t.Y36(V._W),t.Y36(A.Z),t.Y36(_.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ayu"]],viewQuery:function(e,i){if(1&e&&t.Gf(b.NW,5),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first)}},decls:68,vars:33,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6","p-0","select-key-wrapper"],[1,"form-group","row"],["for","selectLicenseKey",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["data-test-id","selectLicenceKey",1,"ayu-select",3,"ngModel","clearable","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","expiryDate",1,"col-sm-3","col-form-label"],["type","button","class","action-btn sm-btn ml-2","data-test-id","btnExpiryDate",3,"click",4,"ngIf"],[1,"col-md-6","p-0"],["type","button","data-test-id","btnAddNewKey",1,"action-btn","bg-blue","float-right",3,"click"],["src","assets/svgs/plus-transparent.svg","alt",""],[1,"row","mt-3"],[1,"col-md-12","p-0"],[1,"card","intel-card"],[1,"card-header"],["src","assets/svgs/ayu.svg","alt","","height","44px",1,"mr-2"],[1,"mb-0"],[1,"card-header-actions"],["type","text","data-test-id","etSearchMindmap",1,"search-input","mr-2","my-1",3,"placeholder","keyup"],["type","button","data-test-id","btnAddMindmap",1,"action-btn","mr-2","my-1",3,"click"],[1,"card-body"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","name"],["matColumnDef","updatedAt"],["matColumnDef","active"],["matColumnDef","download"],["matColumnDef","info"],["class","mat-row",4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["hidePageSize","","showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["class","delete-mindmaps-wrapper d-flex justify-content-center align-items-center",4,"ngIf"],[3,"value"],["type","button","data-test-id","btnExpiryDate",1,"action-btn","sm-btn","ml-2",3,"click"],["src","assets/svgs/edit.svg","alt",""],["mat-header-cell",""],["mat-cell",""],["data-test-id","checkboxMindmapSelection",3,"color","checked","aria-label","click","change"],[1,"pretty","p-switch","p-fill"],["type","checkbox","data-test-id","checkboxMindmapToggleStatus",3,"checked","change"],[1,"state"],["mat-icon-button","","type","button","data-test-id","btnMindmapDownload",3,"click"],["src","assets/svgs/downloading.svg","alt",""],["mat-icon-button","","matTooltipPosition","right","data-test-id","btnMindmapInfo",3,"matTooltip"],["src","assets/svgs/info.svg","alt",""],[1,"mat-row"],[1,"mat-cell","text-center"],["mat-header-row",""],["mat-row",""],[1,"delete-mindmaps-wrapper","d-flex","justify-content-center","align-items-center"],[1,"delete-mindmap-item","d-flex","align-items-center"],[1,"mb-0",3,"ngPlural"],["ngPluralCase","=1"],["ngPluralCase","other"],["mat-flat-button","","color","warn","data-test-id","btnDeleteMindmap",1,"mx-2",3,"click"],["src","assets/svgs/delete-white.svg","alt",""],["mat-icon-button","","data-test-id","btnClearSelection",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",5)(8,"ng-select",6),t.NdJ("ngModelChange",function(r){return i.selectedLicense=r})("change",function(){return i.licenceKeySelecter()}),t.YNc(9,ct,2,2,"ng-option",7),t.qZA()()(),t.TgZ(10,"div",3)(11,"label",8),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",5)(15,"span"),t._uU(16),t.ALo(17,"date"),t.qZA(),t.YNc(18,lt,4,3,"button",9),t.qZA()()(),t.TgZ(19,"div",10)(20,"button",11),t.NdJ("click",function(){return i.openAddLicenseKeyModal("add")}),t._UZ(21,"img",12),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16),t._UZ(28,"img",17),t.TgZ(29,"h6",18),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",19)(33,"input",20),t.NdJ("keyup",function(r){return i.applyFilter(r)}),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"button",21),t.NdJ("click",function(){return i.openUploadMindmapModal()}),t._UZ(36,"img",12),t._uU(37),t.ALo(38,"translate"),t.qZA()()(),t.TgZ(39,"div",22)(40,"div",23)(41,"table",24),t.ynx(42,25),t.YNc(43,dt,1,0,"th",26),t.YNc(44,mt,2,3,"td",27),t.BQk(),t.ynx(45,28),t.YNc(46,ht,3,3,"th",26),t.YNc(47,gt,2,1,"td",27),t.BQk(),t.ynx(48,29),t.YNc(49,pt,3,3,"th",26),t.YNc(50,ut,2,1,"td",27),t.BQk(),t.ynx(51,30),t.YNc(52,ft,3,3,"th",26),t.YNc(53,_t,3,4,"td",27),t.BQk(),t.ynx(54,31),t.YNc(55,bt,3,3,"th",26),t.YNc(56,xt,5,1,"td",27),t.BQk(),t.ynx(57,32),t.YNc(58,Mt,3,3,"th",26),t.YNc(59,Ct,3,0,"td",27),t.BQk(),t.ynx(60,33),t.YNc(61,kt,3,3,"th",26),t.YNc(62,vt,3,1,"td",27),t.BQk(),t.YNc(63,yt,4,4,"tr",34),t.YNc(64,Tt,1,0,"tr",35),t.YNc(65,wt,1,2,"tr",36),t.qZA(),t._UZ(66,"mat-paginator",37),t.qZA()()()()()(),t.YNc(67,Ot,12,4,"div",38)),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,17,"Select License Key")),t.xp6(3),t.Q6J("ngModel",i.selectedLicense)("clearable",!1),t.xp6(1),t.Q6J("ngForOf",i.mindmaps),t.xp6(3),t.Oqu(t.lcZ(13,19,"Expiry Date")),t.xp6(4),t.Oqu(i.expiryDate?t.xi3(17,21,i.expiryDate,"dd MMM, yyyy"):""),t.xp6(2),t.Q6J("ngIf",i.selectedLicense),t.xp6(4),t.hij(" ",t.lcZ(23,24,"Add New Key"),""),t.xp6(8),t.AsE("",t.lcZ(31,26,"Associated Mindmaps")," (",i.mindmapDatas.length?i.mindmapDatas.length:0,")"),t.xp6(3),t.s9C("placeholder",t.lcZ(34,28,"Search")),t.xp6(4),t.hij(" ",t.lcZ(38,30,"Add Mindmap"),""),t.xp6(4),t.Q6J("dataSource",i.dataSource),t.xp6(23),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(32,Pt)),t.xp6(1),t.Q6J("ngIf",i.selection.selected.length))},dependencies:[h.sg,h.O5,h.iq,h.zE,w.Hw,S.lW,C.w9,C.jq,m.JJ,m.On,b.NW,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,d.Ee,D,L.gM,R.z,h.uU,_.X$],styles:[".select-key-wrapper[_ngcontent-%COMP%]{font-family:DM Sans}.select-key-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.select-key-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}  .ng-select.ayu-select{width:fit-content}  .ng-select.ayu-select.ng-select-single .ng-select-container{height:48px;width:236px;background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2);border-radius:8px;box-shadow:none}  .ng-select.ayu-select.ng-select-single .ng-select-container .ng-value-container .ng-input{top:50%;transform:translateY(-50%)}  .ng-select.ayu-select.ng-select-single.ng-select-container:hover{box-shadow:none;outline:none}.action-btn.sm-btn[_ngcontent-%COMP%]{height:30px;padding:2px 8px;border-radius:4px;font-size:14px;font-weight:400}.action-btn[_ngcontent-%COMP%]{height:48px;background:var(--color-white);border:1.33px solid var(--color-lightGray);border-radius:8px;color:var(--color-darkBlue);font-size:18px;font-weight:700;padding:10px 20px;width:fit-content}.action-btn.bg-blue[_ngcontent-%COMP%]{background:var(--color-lightGray)!important}input[type=text].search-input[_ngcontent-%COMP%]{height:48px;border:.770833px solid rgba(178,175,190,.2);border-radius:8px;padding:14px 36px 14px 16px;outline:none;font-size:16px;background:var(--color-offWhite) url(search-icon.f3759a09830f9494.svg);background-repeat:no-repeat;background-size:20px 20px;background-position:95% center}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none;width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;font-family:DM Sans}th.mat-header-cell[_ngcontent-%COMP%]{border:none;font-size:14px!important;font-weight:700;color:var(--color-gray);height:21px}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{border:none;min-width:60px;padding-right:24px;white-space:nowrap}td.mat-cell[_ngcontent-%COMP%]{font-size:16px}tr.mat-row[_ngcontent-%COMP%], tr.mat-footer-row[_ngcontent-%COMP%]{height:88px;border-radius:8px}tr.mat-row[_ngcontent-%COMP%]:nth-child(odd){background:#F7F7FA}tr.mat-row.selected[_ngcontent-%COMP%]{background:#E6FFF3}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 8px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{border-radius:0 8px 8px 0}.intelehealth-card[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 4px 24px #1f1c3a14;border-radius:20px;font-family:DM Sans}.intelehealth-card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{padding-bottom:16px;border-bottom:1px solid var(--color-lightGray)}.intelehealth-card[_ngcontent-%COMP%]   .intelehealth-card-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.intelehealth-card[_ngcontent-%COMP%]   .intelehealth-card-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:var(--color-black)}.intelehealth-card[_ngcontent-%COMP%]   .intelehealth-card-title-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.intelehealth-card[_ngcontent-%COMP%]   .intelehealth-card-title-actions[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:48px;border:.770833px solid rgba(178,175,190,.2);border-radius:8px;padding:14px 36px 14px 16px;outline:none;font-size:16px;background:var(--color-offWhite) url(search-icon.f3759a09830f9494.svg);background-repeat:no-repeat;background-size:20px 20px;background-position:95% center}.delete-mindmaps-wrapper[_ngcontent-%COMP%]{position:fixed;bottom:30px;font-family:DM Sans;font-size:16px;left:0;right:0}.delete-mindmaps-wrapper[_ngcontent-%COMP%]   .delete-mindmap-item[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 4px 24px #1f1c3a14;border-radius:8px;padding:16px 20px}"]}),n})(),Ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.BQ,c.BQ]}),n})(),G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),Xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[G,c.si,c.BQ,x.Q8,G,c.BQ]}),n})();s(3887);let de=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.uc,c.BQ,c.uc,c.BQ]}),n})();var me=s(4538),he=s(1061),ge=s(2340),pe=s(4274),N=s(2031);function ue(n,a){if(1&n&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e?null:e.unread)}}function fe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li",20),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.conversationSelected(r))}),t.TgZ(1,"div",21),t._UZ(2,"img",22),t.TgZ(3,"div")(4,"h6"),t._uU(5),t.ALo(6,"titlecase"),t.ALo(7,"translate"),t.YNc(8,ue,2,1,"span",23),t.qZA()()()()}if(2&n){const e=a.$implicit,i=t.oxw();t.ekj("selected",e.id==(null==i.selectedConversation?null:i.selectedConversation.id)),t.xp6(2),t.s9C("src",i.baseURL+"/personimage/"+e.personUuid,t.LSH),t.xp6(3),t.hij(" ",e.doctorName?t.lcZ(6,5,e.doctorName):t.lcZ(7,7,"Unknown")," "),t.xp6(3),t.Q6J("ngIf",null==e?null:e.unread)}}function _e(n,a){1&n&&(t.ynx(0),t._UZ(1,"img",43),t.TgZ(2,"span",44),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"Read")))}function be(n,a){1&n&&(t.ynx(0),t._UZ(1,"img",45),t.TgZ(2,"span",44),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"Sent")))}function xe(n,a){if(1&n&&(t.ynx(0),t.YNc(1,_e,5,3,"ng-container",39),t.YNc(2,be,5,3,"ng-container",39),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.isRead),t.xp6(1),t.Q6J("ngIf",!e.isRead)}}function Me(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"img",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.setImage(o.message))}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("src",i.isPdf(e.message)?i.pdfDefaultImage:i.defaultImage,t.LSH)}}function Ce(n,a){if(1&n&&t._uU(0),2&n){const e=t.oxw().$implicit;t.hij(" ",e.message," ")}}function ke(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"li",37)(2,"span",38),t._uU(3),t.ALo(4,"amDateFormat"),t.qZA(),t.YNc(5,xe,3,2,"ng-container",39),t.qZA(),t.TgZ(6,"li",40),t.YNc(7,Me,2,1,"ng-container",41),t.YNc(8,Ce,1,1,"ng-template",null,42,t.W1O),t.qZA(),t.BQk()),2&n){const e=a.$implicit,i=a.first,o=t.MAs(9);t.xp6(1),t.ekj("right","System Administrator"===(null==e?null:e.from)),t.xp6(2),t.Oqu(t.xi3(4,8,e.createdAt,"LT")),t.xp6(2),t.Q6J("ngIf",i&&"System Administrator"===(null==e?null:e.from)),t.xp6(1),t.ekj("right","System Administrator"===(null==e?null:e.from)),t.xp6(1),t.Q6J("ngIf","attachment"===e.type)("ngIfElse",o)}}function ve(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"div",27),t._UZ(3,"img",22),t.TgZ(4,"div",28)(5,"h6",7),t._uU(6),t.ALo(7,"titlecase"),t.ALo(8,"translate"),t.qZA()()()(),t.TgZ(9,"div",29)(10,"ul",30),t.YNc(11,ke,10,11,"ng-container",31),t.qZA(),t.TgZ(12,"div",32)(13,"div",33)(14,"input",34),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.message=o)})("keyup.enter",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sendMessage())}),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sendMessage())}),t._UZ(17,"img",36),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.s9C("src",e.baseURL+"/personimage/"+e.selectedConversation.personUuid,t.LSH),t.xp6(3),t.hij(" ",e.selectedConversation.doctorName?t.lcZ(7,5,e.selectedConversation.doctorName):t.lcZ(8,7,"Unknown")," "),t.xp6(5),t.Q6J("ngForOf",e.messageList),t.xp6(3),t.s9C("placeholder",t.lcZ(15,9,"Type here")),t.Q6J("ngModel",e.message)}}function ye(n,a){1&n&&(t.TgZ(0,"div",47),t._UZ(1,"img",48),t.TgZ(2,"h6"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"translate"),t._UZ(8,"br"),t._uU(9),t.ALo(10,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,3,"No messages selected")),t.xp6(3),t.hij(" ",t.lcZ(7,5,"Please select doctor from the list")," "),t.xp6(3),t.hij(" ",t.lcZ(10,7,"to view the messages")," "))}let Te=(()=>{class n{constructor(e,i,o,r){this.pageTitleService=e,this.supportService=i,this.socketSvc=o,this.translateService=r,this.conversations=[],this.baseURL=ge.N.baseURL,this.message="",this.fromUuid=null,this.openMenu=!1,this.isOver=!1,this.isAttachment=!1,this.defaultImage="assets/images/img-icon.jpeg",this.pdfDefaultImage="assets/images/pdf-icon.png"}ngOnInit(){this.translateService.use((0,M.TL)(!1,g.Mj.SELECTED_LANGUAGE)),this.pageTitleService.setTitle({title:"Support",imgUrl:"assets/svgs/menu-info-circle.svg"}),this.getDoctorsList(this.userId),this.subscription1=this.socketSvc.onEvent(g.N9.SUPPORT_MESSAGE).subscribe(e=>{if(e.from==this.selectedConversation?.userUuid)this.readMessages(e.id),this.messageList=e.allMessages.sort((i,o)=>new Date(o.createdAt)<new Date(i.createdAt)?-1:1);else{const i=this.conversations.findIndex(o=>o.userUuid==e.from);-1==i?this.getDoctorsList(this.userId):(this.conversations[i].createdAt=e.createdAt,this.conversations[i].unread++,this.conversations.sort((o,r)=>new Date(r.createdAt)<new Date(o.createdAt)?-1:1))}}),this.subscription2=this.socketSvc.onEvent(g.N9.ISREAD_SUPPORT).subscribe(e=>{e.msgTo==this.selectedConversation?.userUuid&&this.getMessages()})}get filteredConversations(){return this.conversations.filter(e=>e?.doctorName.toLowerCase().includes(this.searchValue.toLowerCase())||e?.userUuid.toLowerCase().includes(this.searchValue.toLowerCase()))}getDoctorsList(e){this.supportService.getDoctorsList(e).subscribe({next:i=>{i.success&&(this.conversations=i.data)}})}conversationSelected(e){this.selectedConversation=e,this.getMessages(),this.readMessages(this.selectedConversation?.id),this.selectedConversation.unread=0}getMessages(){this.supportService.getSupportMessages(this.userId,this.selectedConversation?.userUuid).subscribe({next:e=>{e.success&&(this.messageList=e?.data)}})}readMessages(e){this.supportService.readMessageById(this.userId,e).subscribe({next:i=>{this.getMessages()}})}sendMessage(){this.message&&(this.selectedConversation.message=this.message,this.supportService.sendMessage({type:"text",message:this.message,from:this.userId,to:this.selectedConversation.userUuid}).subscribe({next:i=>{i.success&&(this.isAttachment=!1,this.message="",this.getMessages())},error:()=>{this.isAttachment=!1},complete:()=>{this.isAttachment=!1}}),this.message="")}get userId(){return(0,M.TL)(!0,g.On.USER).uuid}ngOnDestroy(){this.subscription1?.unsubscribe(),this.subscription2?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.Z),t.Y36(pe.a),t.Y36(T.$),t.Y36(_.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-support"]],decls:29,vars:13,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","p-0"],[1,"card","intel-card"],[1,"col-md-4","p-0"],[1,"chat-sidebar-wrapper"],[1,"chat-sidebar-title"],[1,"mb-0"],[1,"chat-sidebar-body"],[1,"chat-items-search"],[1,"input-group"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["src","assets/svgs/search-icon.svg","alt","","width","20px","height","20px"],["type","text","aria-label","Username","aria-describedby","basic-addon1","data-test-id","etSearchDoctorName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"chat-items-list"],[3,"selected","click",4,"ngFor","ngForOf"],[1,"col-md-8","p-0"],["class","chat-main-con",4,"ngIf","ngIfElse"],["noConversationSelected",""],[3,"click"],[1,"chat-item-con"],["alt","",3,"src"],["class","badge badge-success",4,"ngIf"],[1,"badge","badge-success"],[1,"chat-main-con"],[1,"chat-con-title"],[1,"chat-item-info"],[1,"title"],[1,"chat-con-body"],[1,"chat-messages-list"],[4,"ngFor","ngForOf"],[1,"chat-input-con"],[1,"input-group","mr-2"],["type","text","data-test-id","etSendMessages",1,"form-control",3,"placeholder","ngModel","ngModelChange","keyup.enter"],["type","button","data-test-id","btnSendMessages",1,"send-btn",3,"click"],["src","assets/svgs/send-icon-white.svg","alt",""],[1,"chat-status"],[1,"mr-1"],[4,"ngIf"],[1,"chat-message"],[4,"ngIf","ngIfElse"],["message",""],["src","assets/svgs/read-status.svg","alt",""],[1,"ml-1"],["src","assets/svgs/sent-status.svg","alt",""],["alt","",1,"attachment",3,"src","click"],[1,"no-conversation-selected"],["src","assets/svgs/chat-messages.png","alt",""]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",1)(6,"div",4)(7,"div",5)(8,"div",6)(9,"h6",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",8)(16,"div",9)(17,"div",10)(18,"div",11)(19,"span",12),t._UZ(20,"img",13),t.qZA()(),t.TgZ(21,"input",14),t.NdJ("ngModelChange",function(r){return i.searchValue=r}),t.ALo(22,"translate"),t.qZA()()(),t.TgZ(23,"ul",15),t.YNc(24,fe,9,9,"li",16),t.qZA()()()(),t.TgZ(25,"div",17),t.YNc(26,ve,18,11,"div",18),t.YNc(27,ye,11,9,"ng-template",null,19,t.W1O),t.qZA()()()()()()()),2&e){const o=t.MAs(28);t.xp6(10),t.Oqu(t.lcZ(11,7,"Doctors")),t.xp6(3),t.hij("(",t.lcZ(14,9,"Via doctors web protal"),")"),t.xp6(8),t.s9C("placeholder",t.lcZ(22,11,"Search by doctor name or ID")),t.Q6J("ngModel",i.searchValue),t.xp6(3),t.Q6J("ngForOf",i.searchValue?i.filteredConversations:i.conversations),t.xp6(2),t.Q6J("ngIf",i.selectedConversation)("ngIfElse",o)}},dependencies:[h.sg,h.O5,m.Fj,m.JJ,m.On,R.z,h.rS,_.X$,N.Ek],styles:[".intel-card[_ngcontent-%COMP%]{overflow:hidden;height:85vh}.chat-sidebar-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:85vh}.chat-sidebar-wrapper[_ngcontent-%COMP%]   .chat-sidebar-title[_ngcontent-%COMP%]{background:var(--color-lightGray);padding:16px 20px;height:86px}.chat-sidebar-wrapper[_ngcontent-%COMP%]   .chat-sidebar-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;line-height:150%;color:var(--color-darkestBlue);font-weight:700}.chat-sidebar-wrapper[_ngcontent-%COMP%]   .chat-sidebar-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:163%;color:var(--color-gray)}.chat-sidebar-wrapper[_ngcontent-%COMP%]   .chat-sidebar-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}.chat-sidebar-wrapper[_ngcontent-%COMP%]   .chat-sidebar-body[_ngcontent-%COMP%]   .chat-items-search[_ngcontent-%COMP%]{padding:20px 20px 8px;height:80px}.chat-sidebar-wrapper[_ngcontent-%COMP%]   .chat-sidebar-body[_ngcontent-%COMP%]   .chat-items-search[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{background:var(--color-offWhite);border:2px solid rgba(178,175,190,.2);border-radius:8px;height:52px;align-items:center}.chat-sidebar-wrapper[_ngcontent-%COMP%]   .chat-sidebar-body[_ngcontent-%COMP%]   .chat-items-search[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background:none;border:none}.chat-sidebar-wrapper[_ngcontent-%COMP%]   .chat-sidebar-body[_ngcontent-%COMP%]   .chat-items-search[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;font-size:16px;line-height:150%;padding-left:0}.chat-sidebar-wrapper[_ngcontent-%COMP%]   .chat-sidebar-body[_ngcontent-%COMP%]   .chat-items-search[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.chat-sidebar-wrapper[_ngcontent-%COMP%]   ul.chat-items-list[_ngcontent-%COMP%]{flex-grow:1;list-style-type:none;overflow-y:auto;overflow-x:hidden;padding:0;margin-bottom:0;height:calc(85vh - 176px)}.chat-sidebar-wrapper[_ngcontent-%COMP%]   ul.chat-items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 20px;cursor:pointer}.chat-sidebar-wrapper[_ngcontent-%COMP%]   ul.chat-items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .chat-item-con[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px 0;border-bottom:1px solid rgba(178,175,190,.2)}.chat-sidebar-wrapper[_ngcontent-%COMP%]   ul.chat-items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .chat-item-con[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;margin-right:10px}.chat-sidebar-wrapper[_ngcontent-%COMP%]   ul.chat-items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .chat-item-con[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:0;font-size:16px;line-height:150%;color:var(--color-darkestBlue);font-weight:700}.chat-sidebar-wrapper[_ngcontent-%COMP%]   ul.chat-items-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .chat-item-con[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100px;margin-bottom:0;font-size:14px;line-height:150%;color:var(--color-gray)}.chat-sidebar-wrapper[_ngcontent-%COMP%]   ul.chat-items-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background:var(--color-offWhite);border:1px solid rgba(178,175,190,.2)}.chat-sidebar-wrapper[_ngcontent-%COMP%]   ul.chat-items-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]   .chat-item-con[_ngcontent-%COMP%]{border-bottom:none}.no-conversation-selected[_ngcontent-%COMP%]{height:85vh;background:var(--color-offWhite);display:flex;flex-direction:column;align-items:center;justify-content:center}.no-conversation-selected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.no-conversation-selected[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;line-height:150%;color:var(--color-darkestBlue);font-weight:700}.no-conversation-selected[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:150%;text-align:center;color:var(--color-gray)}.chat-main-con[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:85vh}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]{padding:16px 20px;height:86px;display:flex;align-items:center;justify-content:space-between}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]   .chat-item-info[_ngcontent-%COMP%]{display:flex;align-items:center}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]   .chat-item-info[_ngcontent-%COMP%]   title[_ngcontent-%COMP%]{flex-shrink:0}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]   .chat-item-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;margin-right:10px}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]   .chat-item-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;line-height:150%;color:var(--color-darkestBlue);font-weight:700}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]   .chat-item-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;line-height:163%;color:var(--color-gray)}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]{width:fit-content;height:48px;background:var(--color-offWhite);border:.770833px solid rgba(178,175,190,.2);border-radius:8px;outline:none;font-size:16px;padding:0;font-family:DM Sans}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]:focus{box-shadow:none}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]     .ng-select.custom .ng-select-container{border:none;background:transparent;border-radius:8px;min-height:48px!important;box-shadow:none}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]     .ng-select.custom .ng-select-container:hover{box-shadow:none}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]     .ng-select.custom .ng-select-container .ng-value-container .ng-input{top:50%;transform:translateY(-50%)}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]{margin:0 5px 10px;background:var(--color-offWhite);padding:10px;height:calc(85vh - 86px);border-radius:0 0 10px}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-messages-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-messages-list[_ngcontent-%COMP%]{margin-bottom:0;list-style-type:none;padding:0 10px;display:flex;flex-direction:column-reverse;min-height:calc(85vh - 160px);max-height:calc(85vh - 160px);overflow:auto;-ms-overflow-style:none;scrollbar-width:none}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-messages-list[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{border:1px solid rgba(178,175,190,.2);border-radius:1px 8px 8px;padding:8px 12px;max-width:80%;width:fit-content;background:var(--color-white);font-size:16px;line-height:150%;color:var(--color-darkestBlue);margin:4px 0;overflow:auto;flex-shrink:0}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-messages-list[_ngcontent-%COMP%]   .chat-message.right[_ngcontent-%COMP%]{border:none;background:var(--color-lightGray);border-radius:8px 8px 0;margin-left:auto}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-messages-list[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]{font-size:12px;line-height:18px;color:var(--color-gray);display:flex;align-items:center;margin:4px 0}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-messages-list[_ngcontent-%COMP%]   .chat-status.right[_ngcontent-%COMP%]{margin-left:auto}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-input-con[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:64px;padding:10px 0}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-input-con[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{background:var(--color-lightGray);border:1px solid rgba(178,175,190,.2);border-radius:8px;height:44px;align-items:center}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-input-con[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;background:none;padding:0 15px}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-input-con[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;font-size:16px;line-height:150%}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-input-con[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]   .chat-input-con[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{border:none;outline:none;width:44px;height:44px;background:var(--color-darkBlue);border-radius:8px}@media (max-width: 768px){.intel-card[_ngcontent-%COMP%]{height:fit-content}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]{border-top:1px solid var(--color-gray)}.chat-main-con[_ngcontent-%COMP%]   .chat-con-title[_ngcontent-%COMP%]   .chat-item-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex-shrink:0}.chat-main-con[_ngcontent-%COMP%]   .chat-con-body[_ngcontent-%COMP%]{border-radius:0 0 10px 10px}}.attachment[_ngcontent-%COMP%]{height:60px;width:60px;object-fit:contain;background-color:var(--color-white);cursor:pointer}"]}),n})();var we=s(529),Se=s(9832),Ae=s(6261),Oe=s(1075);function H(n){return new Se.w(n,"./assets/i18n/",".json")}const Pe=[{path:"",component:B,children:[{path:"",component:Zt},{path:"support",component:Te}]}];let Ze=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:b.ye,useClass:Ae.e}],imports:[h.ez,y.Bz.forChild(Pe),$.SJ,J.t,w.Ps,S.ot,C.A0,m.u5,b.TU,Ut,d.p0,st,Xt,de,me.Tx,L.AV,he.VI.forChild({permissionsIsolate:!1,rolesIsolate:!1,configurationIsolate:!1}),_.aw.forRoot({loader:{provide:_.Zw,useFactory:H,deps:[we.eN]}}),N._G,Oe.m]}),n})()}}]);